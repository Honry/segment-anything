/*!
* ONNX Runtime Web v1.16.0
* Copyright (c) Microsoft Corporation. All rights reserved.
* Licensed under the MIT License.
*/
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ort=t():e.ort=t()}(self,(()=>(()=>{var e={8453:(e,t,n)=>{"use strict";n.r(t),n.d(t,{InferenceSession:()=>m,Tensor:()=>d,env:()=>u,registerBackend:()=>a});const r={},i=[],a=(e,t,n)=>{if(!t||"function"!=typeof t.init||"function"!=typeof t.createSessionHandler)throw new TypeError("not a valid backend");{const a=r[e];if(void 0===a)r[e]={backend:t,priority:n};else{if(a.priority>n)return;if(a.priority===n&&a.backend!==t)throw new Error(`cannot register backend "${e}" using priority ${n}`)}if(n>=0){const t=i.indexOf(e);-1!==t&&i.splice(t,1);for(let t=0;t<i.length;t++)if(r[i[t]].priority<=n)return void i.splice(t,0,e);i.push(e)}}};let o="warning";const s={wasm:{},webgl:{},webgpu:{},set logLevel(e){if(void 0!==e){if("string"!=typeof e||-1===["verbose","info","warning","error","fatal"].indexOf(e))throw new Error(`Unsupported logging level: ${e}`);o=e}},get logLevel(){return o}};Object.defineProperty(s,"logLevel",{enumerable:!0});const u=s,c=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["float16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),l=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]);let f=!1;class p{constructor(e,t,n){let r,i,a;if((()=>{if(!f){f=!0;const e="undefined"!=typeof BigInt64Array&&"function"==typeof BigInt64Array.from,t="undefined"!=typeof BigUint64Array&&"function"==typeof BigUint64Array.from;e&&(c.set("int64",BigInt64Array),l.set(BigInt64Array,"int64")),t&&(c.set("uint64",BigUint64Array),l.set(BigUint64Array,"uint64"))}})(),"string"==typeof e)if(r=e,a=n,"string"===e){if(!Array.isArray(t))throw new TypeError("A string tensor's data must be a string array.");i=t}else{const n=c.get(e);if(void 0===n)throw new TypeError(`Unsupported tensor type: ${e}.`);if(Array.isArray(t))i=n.from(t);else{if(!(t instanceof n))throw new TypeError(`A ${r} tensor's data must be type of ${n}`);i=t}}else if(a=t,Array.isArray(e)){if(0===e.length)throw new TypeError("Tensor type cannot be inferred from an empty array.");const t=typeof e[0];if("string"===t)r="string",i=e;else{if("boolean"!==t)throw new TypeError(`Invalid element type of data array: ${t}.`);r="bool",i=Uint8Array.from(e)}}else{const t=l.get(e.constructor);if(void 0===t)throw new TypeError(`Unsupported type for tensor data: ${e.constructor}.`);r=t,i=e}if(void 0===a)a=[i.length];else if(!Array.isArray(a))throw new TypeError("A tensor's dims must be a number array");const o=(e=>{let t=1;for(let n=0;n<e.length;n++){const r=e[n];if("number"!=typeof r||!Number.isSafeInteger(r))throw new TypeError(`dims[${n}] must be an integer, got: ${r}`);if(r<0)throw new RangeError(`dims[${n}] must be a non-negative integer, got: ${r}`);t*=r}return t})(a);if(o!==i.length)throw new Error(`Tensor's size(${o}) does not match data length(${i.length}).`);this.dims=a,this.type=r,this.data=i,this.size=o}static bufferToTensor(e,t){if(void 0===e)throw new Error("Image buffer must be defined");if(void 0===t.height||void 0===t.width)throw new Error("Image height and width must be defined");if("NHWC"===t.tensorLayout)throw new Error("NHWC Tensor layout is not supported yet");const{height:n,width:r}=t,i=t.norm??{mean:255,bias:0};let a,o;a="number"==typeof i.mean?[i.mean,i.mean,i.mean,i.mean]:[i.mean[0],i.mean[1],i.mean[2],i.mean[3]??255],o="number"==typeof i.bias?[i.bias,i.bias,i.bias,i.bias]:[i.bias[0],i.bias[1],i.bias[2],i.bias[3]??0];const s=void 0!==t.bitmapFormat?t.bitmapFormat:"RGBA",u=void 0!==t.tensorFormat&&void 0!==t.tensorFormat?t.tensorFormat:"RGB",c=n*r,l="RGBA"===u?new Float32Array(4*c):new Float32Array(3*c);let f=4,d=0,h=1,m=2,g=3,v=0,y=c,w=2*c,_=-1;"RGB"===s&&(f=3,d=0,h=1,m=2,g=-1),"RGBA"===u?_=3*c:"RBG"===u?(v=0,w=c,y=2*c):"BGR"===u&&(w=0,y=c,v=2*c);for(let t=0;t<c;t++,d+=f,m+=f,h+=f,g+=f)l[v++]=(e[d]+o[0])/a[0],l[y++]=(e[h]+o[1])/a[1],l[w++]=(e[m]+o[2])/a[2],-1!==_&&-1!==g&&(l[_++]=(e[g]+o[3])/a[3]);return new p("float32",l,"RGBA"===u?[1,4,n,r]:[1,3,n,r])}static async fromImage(e,t){const n="undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement,r="undefined"!=typeof ImageData&&e instanceof ImageData,i="undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap,a="string"==typeof e;let o,s=t??{};if(n){const n=document.createElement("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");if(null==r)throw new Error("Can not access image data");{let n=e.height,i=e.width;if(void 0!==t&&void 0!==t.resizedHeight&&void 0!==t.resizedWidth&&(n=t.resizedHeight,i=t.resizedWidth),void 0!==t){if(s=t,void 0!==t.tensorFormat)throw new Error("Image input config format must be RGBA for HTMLImageElement");if(s.tensorFormat="RGBA",void 0!==t.height&&t.height!==n)throw new Error("Image input config height doesn't match HTMLImageElement height");if(s.height=n,void 0!==t.width&&t.width!==i)throw new Error("Image input config width doesn't match HTMLImageElement width");s.width=i}else s.tensorFormat="RGBA",s.height=n,s.width=i;r.drawImage(e,0,0),o=r.getImageData(0,0,i,n).data}}else{if(!r){if(i){if(void 0===t)throw new Error("Please provide image config with format for Imagebitmap");if(void 0!==t.bitmapFormat)throw new Error("Image input config format must be defined for ImageBitmap");const n=document.createElement("canvas").getContext("2d");if(null!=n){const r=e.height,i=e.width;if(n.drawImage(e,0,0,i,r),o=n.getImageData(0,0,i,r).data,void 0!==t){if(void 0!==t.height&&t.height!==r)throw new Error("Image input config height doesn't match ImageBitmap height");if(s.height=r,void 0!==t.width&&t.width!==i)throw new Error("Image input config width doesn't match ImageBitmap width");s.width=i}else s.height=r,s.width=i;return p.bufferToTensor(o,s)}throw new Error("Can not access image data")}if(a)return new Promise(((n,r)=>{const i=document.createElement("canvas"),a=i.getContext("2d");if(!e||!a)return r();const o=new Image;o.crossOrigin="Anonymous",o.src=e,o.onload=()=>{i.width=o.width,i.height=o.height,a.drawImage(o,0,0,i.width,i.height);const e=a.getImageData(0,0,i.width,i.height);if(void 0!==t){if(void 0!==t.height&&t.height!==i.height)throw new Error("Image input config height doesn't match height");if(s.height=i.height,void 0!==t.width&&t.width!==i.width)throw new Error("Image input config width doesn't match width");s.width=i.width}else s.height=i.height,s.width=i.width;n(p.bufferToTensor(e.data,s))}}));throw new Error("Input data provided is not supported - aborted tensor creation")}{const n="RGBA";let r,i;if(void 0!==t&&void 0!==t.resizedWidth&&void 0!==t.resizedHeight?(r=t.resizedHeight,i=t.resizedWidth):(r=e.height,i=e.width),void 0!==t){if(s=t,void 0!==t.bitmapFormat&&t.bitmapFormat!==n)throw new Error("Image input config format must be RGBA for ImageData");s.bitmapFormat="RGBA"}else s.bitmapFormat="RGBA";if(s.height=r,s.width=i,void 0!==t){const t=document.createElement("canvas");t.width=i,t.height=r;const n=t.getContext("2d");if(null==n)throw new Error("Can not access image data");n.putImageData(e,0,0),o=n.getImageData(0,0,i,r).data}else o=e.data}}if(void 0!==o)return p.bufferToTensor(o,s);throw new Error("Input data provided is not supported - aborted tensor creation")}toDataURL(e){const t=document.createElement("canvas");t.width=this.dims[3],t.height=this.dims[2];const n=t.getContext("2d");if(null!=n){let r,i;void 0!==e?.tensorLayout&&"NHWC"===e.tensorLayout?(r=this.dims[2],i=this.dims[3]):(r=this.dims[3],i=this.dims[2]);const a=void 0!==e?.format?e.format:"RGB",o=e?.norm;let s,u;void 0===o||void 0===o.mean?s=[255,255,255,255]:"number"==typeof o.mean?s=[o.mean,o.mean,o.mean,o.mean]:(s=[o.mean[0],o.mean[1],o.mean[2],0],void 0!==o.mean[3]&&(s[3]=o.mean[3])),void 0===o||void 0===o.bias?u=[0,0,0,0]:"number"==typeof o.bias?u=[o.bias,o.bias,o.bias,o.bias]:(u=[o.bias[0],o.bias[1],o.bias[2],0],void 0!==o.bias[3]&&(u[3]=o.bias[3]));const c=i*r;let l=0,f=c,p=2*c,d=-1;"RGBA"===a?(l=0,f=c,p=2*c,d=3*c):"RGB"===a?(l=0,f=c,p=2*c):"RBG"===a&&(l=0,p=c,f=2*c);for(let e=0;e<i;e++)for(let t=0;t<r;t++){const r=(this.data[l++]-u[0])*s[0],i=(this.data[f++]-u[1])*s[1],a=(this.data[p++]-u[2])*s[2],o=-1===d?255:(this.data[d++]-u[3])*s[3];n.fillStyle="rgba("+r+","+i+","+a+","+o+")",n.fillRect(t,e,1,1)}return t.toDataURL()}throw new Error("Can not access image data")}toImageData(e){const t=document.createElement("canvas").getContext("2d");let n;if(null==t)throw new Error("Can not access image data");{let r,i,a;void 0!==e?.tensorLayout&&"NHWC"===e.tensorLayout?(r=this.dims[2],i=this.dims[1],a=this.dims[3]):(r=this.dims[3],i=this.dims[2],a=this.dims[1]);const o=void 0!==e&&void 0!==e.format?e.format:"RGB",s=e?.norm;let u,c;void 0===s||void 0===s.mean?u=[255,255,255,255]:"number"==typeof s.mean?u=[s.mean,s.mean,s.mean,s.mean]:(u=[s.mean[0],s.mean[1],s.mean[2],255],void 0!==s.mean[3]&&(u[3]=s.mean[3])),void 0===s||void 0===s.bias?c=[0,0,0,0]:"number"==typeof s.bias?c=[s.bias,s.bias,s.bias,s.bias]:(c=[s.bias[0],s.bias[1],s.bias[2],0],void 0!==s.bias[3]&&(c[3]=s.bias[3]));const l=i*r;if(void 0!==e){if(void 0!==e.height&&e.height!==i)throw new Error("Image output config height doesn't match tensor height");if(void 0!==e.width&&e.width!==r)throw new Error("Image output config width doesn't match tensor width");if(void 0!==e.format&&4===a&&"RGBA"!==e.format||3===a&&"RGB"!==e.format&&"BGR"!==e.format)throw new Error("Tensor format doesn't match input tensor dims")}const f=4;let p=0,d=1,h=2,m=3,g=0,v=l,y=2*l,w=-1;"RGBA"===o?(g=0,v=l,y=2*l,w=3*l):"RGB"===o?(g=0,v=l,y=2*l):"RBG"===o&&(g=0,y=l,v=2*l),n=t.createImageData(r,i);for(let e=0;e<i*r;p+=f,d+=f,h+=f,m+=f,e++)n.data[p]=(this.data[g++]-c[0])*u[0],n.data[d]=(this.data[v++]-c[1])*u[1],n.data[h]=(this.data[y++]-c[2])*u[2],n.data[m]=-1===w?255:(this.data[w++]-c[3])*u[3]}return n}reshape(e){return new p(this.type,this.data,e)}}const d=p;class h{constructor(e){this.handler=e}async run(e,t,n){const r={};let i={};if("object"!=typeof e||null===e||e instanceof d||Array.isArray(e))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let a=!0;if("object"==typeof t){if(null===t)throw new TypeError("Unexpected argument[1]: cannot be null.");if(t instanceof d)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(t)){if(0===t.length)throw new TypeError("'fetches' cannot be an empty array.");a=!1;for(const e of t){if("string"!=typeof e)throw new TypeError("'fetches' must be a string array or an object.");if(-1===this.outputNames.indexOf(e))throw new RangeError(`'fetches' contains invalid output name: ${e}.`);r[e]=null}if("object"==typeof n&&null!==n)i=n;else if(void 0!==n)throw new TypeError("'options' must be an object.")}else{let e=!1;const o=Object.getOwnPropertyNames(t);for(const n of this.outputNames)if(-1!==o.indexOf(n)){const i=t[n];(null===i||i instanceof d)&&(e=!0,a=!1,r[n]=i)}if(e){if("object"==typeof n&&null!==n)i=n;else if(void 0!==n)throw new TypeError("'options' must be an object.")}else i=t}}else if(void 0!==t)throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(const t of this.inputNames)if(void 0===e[t])throw new Error(`input '${t}' is missing in 'feeds'.`);if(a)for(const e of this.outputNames)r[e]=null;const o=await this.handler.run(e,r,i),s={};for(const e in o)Object.hasOwnProperty.call(o,e)&&(s[e]=new d(o[e].type,o[e].data,o[e].dims));return s}static async create(e,t,n,a){let o,s={};if("string"==typeof e){if(o=e,"object"==typeof t&&null!==t)s=t;else if(void 0!==t)throw new TypeError("'options' must be an object.")}else if(e instanceof Uint8Array){if(o=e,"object"==typeof t&&null!==t)s=t;else if(void 0!==t)throw new TypeError("'options' must be an object.")}else{if(!(e instanceof ArrayBuffer||"undefined"!=typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer))throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");{const r=e;let i=0,u=e.byteLength;if("object"==typeof t&&null!==t)s=t;else if("number"==typeof t){if(i=t,!Number.isSafeInteger(i))throw new RangeError("'byteOffset' must be an integer.");if(i<0||i>=r.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${r.byteLength}).`);if(u=e.byteLength-i,"number"==typeof n){if(u=n,!Number.isSafeInteger(u))throw new RangeError("'byteLength' must be an integer.");if(u<=0||i+u>r.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${r.byteLength-i}].`);if("object"==typeof a&&null!==a)s=a;else if(void 0!==a)throw new TypeError("'options' must be an object.")}else if(void 0!==n)throw new TypeError("'byteLength' must be a number.")}else if(void 0!==t)throw new TypeError("'options' must be an object.");o=new Uint8Array(r,i,u)}}const u=(s.executionProviders||[]).map((e=>"string"==typeof e?e:e.name)),c=await(async e=>{const t=0===e.length?i:e,n=[];for(const e of t){const t=r[e];if(t){if(t.initialized)return t.backend;if(t.aborted)continue;const r=!!t.initPromise;try{return r||(t.initPromise=t.backend.init()),await t.initPromise,t.initialized=!0,t.backend}catch(i){r||n.push({name:e,err:i}),t.aborted=!0}finally{delete t.initPromise}}}throw new Error(`no available backend found. ERR: ${n.map((e=>`[${e.name}] ${e.err}`)).join(", ")}`)})(u),l=await c.createSessionHandler(o,s);return new h(l)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}const m=h},2818:(e,t,n)=>{"use strict";t.c8=t.rX=void 0;const r=n(8453),i=n(5381),a=n(9544),o=n(6640);t.rX=()=>{if(("number"!=typeof r.env.wasm.initTimeout||r.env.wasm.initTimeout<0)&&(r.env.wasm.initTimeout=0),"boolean"!=typeof r.env.wasm.simd&&(r.env.wasm.simd=!0),"boolean"!=typeof r.env.wasm.proxy&&(r.env.wasm.proxy=!1),"number"!=typeof r.env.wasm.numThreads||!Number.isInteger(r.env.wasm.numThreads)||r.env.wasm.numThreads<=0){const e="undefined"==typeof navigator?(0,i.cpus)().length:navigator.hardwareConcurrency;r.env.wasm.numThreads=Math.min(4,Math.ceil((e||1)/2))}},t.c8=new class{async init(){(0,t.rX)(),await(0,a.initializeWebAssemblyInstance)()}async createSessionHandler(e,t){const n=new o.OnnxruntimeWebAssemblySessionHandler;return await n.loadModel(e,t),Promise.resolve(n)}}},1057:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(8453),t);const a=n(8453);{const e=n(2818).c8;(0,a.registerBackend)("cpu",e,10),(0,a.registerBackend)("wasm",e,10),(0,a.registerBackend)("xnnpack",e,9),(0,a.registerBackend)("webnn",e,9)}},3838:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebGpuBackend=void 0;const r=n(4955),i=n(7771),a=n(8510),o=n(8305);t.WebGpuBackend=class{constructor(){this.currentKernelId=null,this.commandEncoder=null,this.computePassEncoder=null,this.pendingDispatchNumber=0,this.profilingEnabled=!1}get currentKernelCustomData(){if(null===this.currentKernelId)throw new Error("currentKernelCustomData(): currentKernelId is null. (should not happen)");let e=this.kernelCustomData.get(this.currentKernelId);return e||(e={},this.kernelCustomData.set(this.currentKernelId,e)),e}async initialize(e){if(!navigator.gpu)throw new Error("WebGpuBackend: WebGPU is not available.");const t=await navigator.gpu.requestAdapter();if(!t)throw new Error("WebGpuBackend: Failed to get GPU adapter.");const n={requiredLimits:{maxComputeWorkgroupStorageSize:t.limits.maxComputeWorkgroupStorageSize,maxComputeWorkgroupsPerDimension:t.limits.maxComputeWorkgroupsPerDimension,maxStorageBufferBindingSize:t.limits.maxStorageBufferBindingSize}};t.features.has("timestamp-query-inside-passes")&&"default"===e.webgpu.profilingMode&&(this.profilingEnabled=!0,n.requiredFeatures=["timestamp-query-inside-passes"]),this.device=await t.requestDevice(n),this.gpuDataManager=(0,i.createGpuDataManager)(this),this.programManager=new o.ProgramManager(this),this.kernels=new Map,this.kernelPersistentData=new Map,this.kernelCustomData=new Map,(0,r.configureLogger)(e.logLevel,!!e.debug),this.device.onuncapturederror=e=>{e.error instanceof GPUValidationError&&console.error(`An uncaught WebGPU validation error was raised: ${e.error.message}`)},this.profilingEnabled&&(this.profilingQuerySet=this.device.createQuerySet({type:"timestamp",count:2}))}dispose(){}getCommandEncoder(){return this.commandEncoder||(this.commandEncoder=this.device.createCommandEncoder()),this.commandEncoder}getComputePassEncoder(){return this.computePassEncoder||(this.computePassEncoder=this.getCommandEncoder().beginComputePass()),this.computePassEncoder}endComputePass(){this.computePassEncoder&&(this.computePassEncoder.end(),this.computePassEncoder=null)}flush(){this.endComputePass(),this.device.queue.submit([this.getCommandEncoder().finish()]),this.gpuDataManager.refreshPendingBuffers(),this.commandEncoder=null,this.pendingDispatchNumber=0}run(e,t,n,i,a){if(t.length!==e.inputTypes.length)throw new Error(`Input size must be equal to ${e.inputTypes.length}.`);const o=[];for(let e=0;e<t.length;++e){const n=this.gpuDataManager.get(t[e].data);if(!n)throw new Error(`no GPU data for input: ${t[e].data}`);o[e]=n}const s=((e,t,n)=>{const r=t.map((e=>`${e.join(",")}`)).join("_"),i=n.join("_");let a=e.name;return e.cacheHint&&(a+="["+e.cacheHint+"]"),a+=":"+r+";"+i,a})(e,t.map((e=>e.dims)),o.map((e=>e.type)));let u=this.programManager.getArtifact(s);const c=u?u.programInfo:"function"==typeof e.get?e.get():e,l=0===n.length?c.outputs.map(((e,t)=>t)):n;if(l.length!==c.outputs.length)throw new Error(`Output size ${l.length} must be equal to ${c.outputs.length}.`);const f=[],p=[];for(let e=0;e<c.outputs.length;++e){if(!Number.isInteger(l[e])||l[e]<-2||l[e]>=c.outputs.length)throw new Error(`Invalid output index: ${l[e]}`);const t=-1===l[e],n=-2===l[e],r=t||n?a(c.outputs[e].dataType,c.outputs[e].dims):i(l[e],c.outputs[e].dataType,c.outputs[e].dims),o=this.gpuDataManager.get(r.data);if(!o)throw new Error(`no GPU data for output: ${r.data}`);if(t&&this.temporaryData.push(o),n){let e=this.kernelPersistentData.get(this.currentKernelId);e||(e=[],this.kernelPersistentData.set(this.currentKernelId,e)),e.push(o)}f.push(r),p.push(o)}const d=this.programManager.normalizeDispatchGroupSize(c.dispatchGroup(t));return u||(u=this.programManager.build(c,d),this.programManager.setArtifact(s,u)),(0,r.LOG_DEBUG)("info",(()=>`[ProgramManager] run "${c.name}" (key=${s}) with ${d[0]}x${d[1]}x${d[2]}`)),this.programManager.run(u,o,p,d),f}upload(e,t){this.gpuDataManager.upload(e,t)}memcpy(e,t){this.gpuDataManager.memcpy(e,t)}async download(e,t){const n=await this.gpuDataManager.download(e);t().set(new Uint8Array(n))}alloc(e){return this.gpuDataManager.create(e).id}free(e){return this.gpuDataManager.release(e)}createKernel(e,t,n){const r=a.WEBGPU_OP_RESOLVE_RULES.get(e);if(!r)throw new Error(`kernel not implemented: ${e}`);this.kernels.set(t,[e,r[0],[r[1],n]])}releaseKernel(e){const t=this.kernelPersistentData.get(e);if(t){for(const e of t)this.gpuDataManager.release(e.id);this.kernelPersistentData.delete(e)}this.kernelCustomData.delete(e),this.kernels.delete(e)}computeKernel(e,t){const n=this.kernels.get(e);if(!n)throw new Error(`kernel not created: ${e}`);const[i,a,o]=n;if(null!==this.currentKernelId)throw new Error(`kernel "${i}" is not allowed to be called recursively`);this.currentKernelId=e,o[0]&&(o[1]=o[0](o[1]),o[0]=void 0),(0,r.LOG_DEBUG)("info",(()=>`[WebGPU] Start to run kernel "${i}"...`)),this.temporaryData=[];try{return a(t,o[1]),0}catch(e){return(0,r.LOG_DEBUG)("warning",`[WebGPU] Kernel "${i}" failed. Error: ${e}`),1}finally{for(const e of this.temporaryData)this.gpuDataManager.release(e.id);this.temporaryData=[],this.currentKernelId=null}}}},7675:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;const r=n(7917),i=n(3838),a=n(4955),o=n(6952);class s{constructor(e,t,n,r){this.module=e,this.dataType=t,this.data=n,this.dims=r}getFloat32Array(){return new Float32Array(this.module.HEAP8.buffer,this.data,o.ShapeUtil.size(this.dims))}reshape(e){if(o.ShapeUtil.size(e)!==o.ShapeUtil.size(this.dims))throw new Error("Invalid new shape");return new s(this.module,this.dataType,this.data,e)}}class u{get customData(){return this.backend.currentKernelCustomData}constructor(e,t,n){this.module=e,this.backend=t;const r=e.HEAPU32;let i=n>>2;this.opKernelContext=r[i++];const a=r[i++],o=[];for(let t=0;t<a;t++){const t=r[i++],n=r[i++],a=r[i++],u=[];for(let e=0;e<a;e++)u.push(r[i++]);o.push(new s(e,t,n,u))}this.inputs=o}compute(e,t){var n,i,a;const u=null!==(i=null===(n=null==t?void 0:t.inputs)||void 0===n?void 0:n.map((e=>"number"==typeof e?this.inputs[e]:e)))&&void 0!==i?i:this.inputs,c=null!==(a=null==t?void 0:t.outputs)&&void 0!==a?a:[];return this.backend.run(e,u,c,((e,t,n)=>new s(this.module,t,this.output(e,n),n)),((e,t)=>{const n=(0,r.getTensorElementSize)(e);if(!n)throw new Error(`Unsupported data type: ${e}`);const i=n*o.ShapeUtil.size(t);return new s(this.module,e,this.backend.gpuDataManager.create(i).id,t)}))}output(e,t){const n=this.module.stackSave();try{const n=this.module.stackAlloc(4*(1+t.length));let r=n>>2;this.module.HEAPU32[r++]=t.length;for(let e=0;e<t.length;e++)this.module.HEAPU32[r++]=t[e];return this.module._JsepOutput(this.opKernelContext,e,n)}finally{this.module.stackRestore(n)}}}t.init=async(e,t)=>{const n=e.jsepInit;if(n&&navigator.gpu){if(!t.wasm.simd)throw new Error("Not supported for WebGPU=ON and SIMD=OFF. Please set `env.wasm.simd` to true when using WebGPU EP");const r=new i.WebGpuBackend;await r.initialize(t),n({backend:r},(e=>r.alloc(e)),(e=>r.free(e)),((t,n,i,o=!1)=>{if(o)(0,a.LOG_DEBUG)("verbose",(()=>`[WebGPU] jsepCopyGpuToGpu: src=${t}, dst=${n}, size=${i}`)),r.memcpy(t,n);else{(0,a.LOG_DEBUG)("verbose",(()=>`[WebGPU] jsepCopyCpuToGpu: dataOffset=${t}, gpuDataId=${n}, size=${i}`));const o=e.HEAPU8.subarray(t,t+i);r.upload(n,o)}}),(async(t,n,i)=>{(0,a.LOG_DEBUG)("verbose",(()=>`[WebGPU] jsepCopyGpuToCpu: gpuDataId=${t}, dataOffset=${n}, size=${i}`)),await r.download(t,(()=>e.HEAPU8.subarray(n,n+i)))}),((e,t,n)=>r.createKernel(e,t,n)),(e=>r.releaseKernel(e)),((t,n)=>{(0,a.LOG_DEBUG)("verbose",(()=>`[WebGPU] jsepRun: kernel=${t}, contextDataOffset=${n}`));const i=new u(e,r,n);return r.computeKernel(t,i)}))}}},4955:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LOG_DEBUG=t.LOG=t.configureLogger=void 0;const r=n(7917),i=["V","I","W","E","F"];let a,o;t.configureLogger=(e,t)=>{a=e,o=t},t.LOG=(e,t)=>{const n=(0,r.logLevelStringToEnum)(e);var o,s;n>=(0,r.logLevelStringToEnum)(a)&&(o=n,s="function"==typeof t?t():t,console.log(`[${i[o]},${(new Date).toISOString()}]${s}`))},t.LOG_DEBUG=(...e)=>{o&&(0,t.LOG)(...e)}},6952:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_CLIP=t.MIN_CLIP=t.GemmUtil=t.PoolConvUtil=t.ShapeUtil=t.BroadcastUtil=t.MatMulUtil=void 0;class n{static calcMatMulShape(e,t){return e[1]!==t[0]?void 0:[e[0],t[1]]}}t.MatMulUtil=n;class r{static calcShape(e,t,r=!1){const i=e.length,a=t.length;if(0===i)return t;if(0===a)return e;const o=Math.max(e.length,t.length),s=new Array(o);if(r){if(i<2||a<2)return;const r=n.calcMatMulShape([e[i-2],e[i-1]],[t[a-2],t[a-1]]);if(void 0===r)return;[s[o-2],s[o-1]]=r}for(let n=r?3:1;n<=o;n++){const r=i-n<0?1:e[i-n],u=a-n<0?1:t[a-n];if(r!==u&&r>1&&u>1)return;s[o-n]=Math.max(r,u)}return s}static isValidBroadcast(e,t){const n=e.length,r=t.length;if(n>r)return!1;for(let i=1;i<=n;i++)if(1!==e[n-i]&&e[n-i]!==t[r-i])return!1;return!0}}t.BroadcastUtil=r;class i{static size(e){return i.getSizeFromDimensionRange(e,0,e.length)}static sizeFromDimension(e,t){if(t<0||t>e.length)throw new Error(`invalid dimension of ${t} for sizeFromDimension as Tensor has ${e.length} dimensions.`);return i.getSizeFromDimensionRange(e,t,e.length)}static sizeToDimension(e,t){if(t<0||t>e.length)throw new Error(`invalid dimension of ${t} for sizeToDimension as Tensor has ${e.length} dimensions.`);return i.getSizeFromDimensionRange(e,0,t)}static getSizeFromDimensionRange(e,t,n){let r=1;for(let i=t;i<n;i++){if(e[i]<=0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains 0 or negative values in them.");r*=e[i]}return r}static computeStrides(e){const t=e.length;if(0===t)return[];if(1===t)return[1];const n=new Array(t);n[t-1]=1,n[t-2]=e[t-1];for(let r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}static normalizeAxis(e,t){if(e<-t&&e>=t)throw new Error("unsupported axis for this operation.");return e<0?e+t:e}static normalizeAxes(e,t){return e.map((n=>this.normalizeAxis(n,null!=t?t:e.length)))}static sortBasedOnPerm(e,t){return t?t.map((t=>e[t])):e.slice().reverse()}static padShape(e,t){const n=e.length;return e.map(((e,r)=>e+t[r]+t[r+n]))}static areEqual(e,t){return e.length===t.length&&e.every(((e,n)=>e===t[n]))}}t.ShapeUtil=i;class a{static adjustPoolAttributes(e,t,n,r,i,a){if(!e&&n.length!==t.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(e)for(let e=0;e<t.length-2;e++)e>=n.length?n.push(t[e+2]):n[e]=t[e+2];for(let e=0;e<n.length;e++)if(e<r.length){if(r[e]<0)throw new Error("strides should be greater than or equal to 1")}else r.push(1);for(let e=0;e<n.length;e++)if(e<i.length){if(i[e]<0)throw new Error("dilations should be greater than or equal to 1")}else i.push(1);for(let e=0;e<2*n.length;e++)if(e<a.length){if(a[e]<0)throw new Error("pad should be greater than or equal to 1")}else a.push(0);for(let e=0;e<n.length;e++){if(n[e]<=0)throw new Error("kernel shapes need to be greater than 0");if(a[e]>=n[e]||a[e+n.length]>=n[e])throw new Error("pads should be smaller than kernel")}}static adjustPadsBasedOnAutoPad(e,t,n,r,i,o,s){if(s){if(i.length!==2*(e.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(t.length!==e.length-2)throw new Error("length of strides should be the length of data dimensions");if(r.length!==e.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(let u=0;u<e.length-2;u++)a.adjustPadAndReturnShape(e[u+(o?1:2)],t[u],n[u],r[u],i,u,u+e.length-2,s)}}static computePoolOutputShape(e,t,n,r,i,o,s){if(t.length<=0)throw new Error("input shape must be of size greater than 0");const u=[t[0],t[1]];return a.computeShapeHelper(e,t,u,n,r,i,o,s),u}static computeConvOutputShape(e,t,n,r,i,o,s){if(e.length<=0||t.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");const u=[e[0],t[0]];return a.computeShapeHelper(!1,e,u,n,r,i,o,s),u}static computeShapeHelper(e,t,n,r,i,o,s,u){if(e)for(let e=0;e<t.length-2;e++)n.push(1);else for(let e=0;e<t.length-2;e++)n.push(a.adjustPadAndReturnShape(t[e+2],r[e],i[e],o[e],s,e,e+t.length-2,u))}static adjustPadAndReturnShape(e,t,n,r,i,a,o,s){const u=n*(r-1)+1;if(!s||"NOTSET"===s)return Math.floor((e+i[a]+i[o]-u)/t+1);switch(s){case"VALID":return i[a]=0,i[o]=0,Math.floor((e-u)/t+1);case"SAME_LOWER":case"SAME_UPPER":if(1!==n)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");{const n=((e+t-1)/t-1)*t+r-e;return i[a]="SAME_LOWER"===s?Math.floor((n+1)/2):Math.floor(n/2),i[o]=n-i[a],Math.floor((e+n-r)/t+1)}default:throw new Error("Unsupported AutoPad type")}}}t.PoolConvUtil=a,t.GemmUtil=class{static getShapeOfGemmResult(e,t,n,i,a){if(2!==e.length||2!==n.length)throw new Error("shape need to be of size 2");let o,s,u;t?(o=e[1],s=e[0]):(o=e[0],s=e[1]);let c=-1;if(i?(u=n[0],c=1):(u=n[1],c=0),n[c]!==s)throw new Error("dimension mismatch");if(o<=0||u<=0||s<=0)throw new Error("invalid shape specified");if(a&&!r.isValidBroadcast(a,[o,u]))throw new Error("gemm: invalid bias shape for broadcast");return[o,u,s]}},t.MIN_CLIP=-34028234663852886e22,t.MAX_CLIP=34028234663852886e22},387:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createAttributeWithCacheKey=void 0;class n{constructor(e){Object.assign(this,e)}get cacheKey(){return this._cacheKey||(this._cacheKey=Object.getOwnPropertyNames(this).sort().map((e=>`${this[e]}`)).join(";")),this._cacheKey}}t.createAttributeWithCacheKey=e=>new n(e)},7771:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createGpuDataManager=void 0;const r=n(4955),i=n(1163),a=e=>16*Math.ceil(e/16);let o=0;class s{constructor(e){this.backend=e,this.storageCache=new Map,this.downloadCache=new Map,this.buffersForUploadingPending=[],this.buffersPending=[]}upload(e,t){const n=t.buffer,i=t.byteOffset,o=t.byteLength,s=a(o),u=this.storageCache.get(e);if(!u)throw new Error("gpu data for uploading does not exist");if(u.originalSize!==o)throw new Error(`inconsistent data size. gpu data size=${u.originalSize}, data size=${o}`);const c=this.backend.device.createBuffer({mappedAtCreation:!0,size:s,usage:GPUBufferUsage.MAP_WRITE|GPUBufferUsage.COPY_SRC}),l=c.getMappedRange();new Uint8Array(l).set(new Uint8Array(n,i,o)),c.unmap();const f=this.backend.getCommandEncoder();this.backend.endComputePass(),f.copyBufferToBuffer(c,0,u.gpuData.buffer,0,s),(0,r.LOG_DEBUG)("verbose",(()=>`[WebGPU] GpuDataManager.upload(id=${e})`)),this.buffersForUploadingPending.push(c)}memcpy(e,t){const n=this.storageCache.get(e);if(!n)throw new Error("source gpu data for memcpy does not exist");const r=this.storageCache.get(t);if(!r)throw new Error("destination gpu data for memcpy does not exist");if(n.originalSize!==r.originalSize)throw new Error("inconsistent source and destination gpu data size");const i=a(n.originalSize);this.backend.getCommandEncoder().copyBufferToBuffer(n.gpuData.buffer,0,r.gpuData.buffer,0,i)}create(e,t=GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST){const n=a(e),s=this.backend.device.createBuffer({size:n,usage:t}),u={id:o++,type:i.GpuDataType.default,buffer:s};return this.storageCache.set(u.id,{gpuData:u,originalSize:e}),(0,r.LOG_DEBUG)("verbose",(()=>`[WebGPU] GpuDataManager.create(size=${e}) => id=${u.id}`)),u}get(e){var t;return null===(t=this.storageCache.get(e))||void 0===t?void 0:t.gpuData}release(e){const t=this.storageCache.get(e);if(!t)throw new Error("releasing data does not exist");return(0,r.LOG_DEBUG)("verbose",(()=>`[WebGPU] GpuDataManager.release(id=${e}), gpuDataId=${t.gpuData.id}`)),this.storageCache.delete(e),this.buffersPending.push(t.gpuData.buffer),this.downloadCache.get(e)&&this.downloadCache.delete(e),t.originalSize}async download(e){const t=this.downloadCache.get(e);if(t)return t.data;const n=this.storageCache.get(e);if(!n)throw new Error("data does not exist");const r=this.backend.getCommandEncoder();this.backend.endComputePass();const i=this.backend.device.createBuffer({size:n.originalSize,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ});r.copyBufferToBuffer(n.gpuData.buffer,0,i,0,n.originalSize),this.backend.flush();const a=new Promise((e=>{i.mapAsync(GPUMapMode.READ).then((()=>{const t=i.getMappedRange().slice(0);i.destroy(),e(t)}))}));return this.downloadCache.set(e,{data:a}),a}refreshPendingBuffers(){for(const e of this.buffersForUploadingPending)e.destroy();for(const e of this.buffersPending)e.destroy()}}t.createGpuDataManager=(...e)=>new s(...e)},8510:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.WEBGPU_OP_RESOLVE_RULES=void 0;const o=a(n(504)),s=n(9770),u=n(4271),c=n(1522),l=a(n(5262)),f=n(2625),p=a(n(9302));t.WEBGPU_OP_RESOLVE_RULES=new Map([["Abs",[p.abs]],["Acos",[p.acos]],["Acosh",[p.acosh]],["Add",[o.add]],["Asin",[p.asin]],["Asinh",[p.asinh]],["Atan",[p.atan]],["Atanh",[p.atanh]],["AveragePool",[l.averagePool,l.parseAveragePoolAttributes]],["Ceil",[p.ceil]],["ClipV10",[p.clipV10]],["Clip",[p.clip]],["Conv",[s.conv,s.parseConvAttributes]],["Cos",[p.cos]],["Cosh",[p.cosh]],["Div",[o.div]],["Elu",[p.elu,p.parseAlphaAttributes]],["Erf",[p.erf]],["Exp",[p.exp]],["Floor",[p.floor]],["Gemm",[u.gemm,u.parseGemmAttributes]],["GlobalAveragePool",[l.globalAveragePool,l.parseGlobalAveragePoolAttributes]],["GlobalMaxPool",[l.globalMaxPool,l.parseGlobalMaxPoolAttributes]],["LeakyRelu",[p.leakyRelu,p.parseAlphaAttributes]],["MatMul",[c.matMul]],["MaxPool",[l.maxPool,l.parseMaxPoolAttributes]],["Mul",[o.mul]],["Neg",[p.neg]],["Pow",[o.pow]],["Reciprocal",[p.reciprocal]],["Relu",[p.relu]],["Sigmoid",[p.sigmoid]],["Sin",[p.sin]],["Sinh",[p.sinh]],["Sqrt",[p.sqrt]],["Sub",[o.sub]],["Tan",[p.tan]],["Tanh",[p.tanh]],["ThresholdedRelu",[p.thresholdedRelu,p.parseAlphaAttributes]],["Transpose",[f.transpose,f.parseTransposeAttributes]]])},1427:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.biasActivationSnippet=t.activationFnSnippet=t.typeSnippet=void 0,t.typeSnippet=e=>{switch(e){case 1:return"f32";case 2:return"vec2<f32>";case 3:return"vec3<f32>";case 4:return"vec4<f32>";default:throw new Error(`${e}-component is not supported.`)}},t.activationFnSnippet=(e,t=!1,n=!1,r=3)=>"",t.biasActivationSnippet=(e,t)=>`\n      ${e?"value = value + getBiasByOutputCoords(coords);":""}\n      ${t?"value = activation(value, coords);":""}\n      `},9456:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createConv2DMatMulProgramInfo=void 0;const r=n(4955),i=n(6952),a=n(1163),o=n(1427),s=n(4085),u=n(158);t.createConv2DMatMulProgramInfo=(e,t,n,c,l,f,p,d,h)=>{const m="NHWC"===n.format,g=m?e[0].dims[3]:e[0].dims[1],v=c[0],y=m?c[2]:c[3],w=m?c[1]:c[2],_=m?c[3]:c[1],b=((g%4==0||g%3==0)&&m||y%4==0&&!m)&&_%4==0,k=m?_:y*w,$=m?y*w:_,S=b?[8,8,1]:[k<=4?4:16,k>4&&$<=4?4:16,1],O=b?[4,4,1]:[k<=4?1:2,k>4&&$<=4?1:2,1],A=[Math.ceil(k/S[0]/O[0]),Math.ceil($/S[1]/O[1]),Math.ceil(v/S[2]/O[1])];(0,r.LOG_DEBUG)("verbose",(()=>`[conv2d_mm_webgpu] dispatch = ${A}`));const C=b?m&&g%4!=0?3:4:O[0],T=S[1]*O[1],P=S[0]*O[0],j=Math.max(S[0]*C,S[1]),E=l%T==0,M=f%P==0,x=p%j==0,I=b?[C,4,4]:[1,1,1],R=[`@group(0) @binding(0) var<storage, read> x: array<${b&&4===C?"vec4<f32>":"f32"}>;`,`@group(0) @binding(1) var<storage, read> w: array<${b?"vec4<f32>":"f32"}>;`];let D=`\n      fn setOutputAtIndex(flatIndex : i32, value : ${b?"vec4<f32>":"f32"}) {\n        result[flatIndex] = ${b?"vec4<f32>":"f32"}(value);\n      }\n      fn setOutputAtCoords(d0 : i32, d1 : i32, d2 : i32, d3 : i32, value : ${b?"vec4<f32>":"f32"}) {\n        let flatIndex = getOutputIndexFromCoords(vec4<i32>(d0, d1, d2, d3));\n        setOutputAtIndex(flatIndex ${b?"/ 4":""}, value);\n      }`;return d&&(R.push(`@group(0) @binding(2) var<storage, read> bias: array<${b?"vec4<f32>":"f32"}>;`),D+=`\n        fn getBiasByOutputCoords(coords : vec4<i32>) -> ${b?"vec4<f32>":"f32"} {\n          return bias[coords.${m?"w":"y"}${b?"/ 4":""}];\n        }`),Object.assign(Object.assign({},t),{outputs:[{dims:c,dataType:e[0].dataType,gpuDataType:a.GpuDataType.default}],dispatchGroup:()=>({x:A[0],y:A[1],z:A[2]}),getShaderSource:()=>`\n        ${s.utilFunctions}\n        //struct Uniforms { xShape : vec4<i32>, wShape : vec4<i32>, outShape : vec4<i32>,\n        //  outShapeStrides: vec3<i32>, filterDims : vec2<i32>, pad : vec2<i32>, stride : vec2<i32>,\n        //  dilation : vec2<i32>, dimAOuter : i32, dimBOuter : i32, dimInner : i32 };\n        ${R.join("")}\n        @group(0) @binding(${R.length}) var<storage, read_write> result: array<${b?"vec4<f32>":"f32"}>;\n        //@group(0) @binding(${R.length+1}) var<uniform> uniforms: Uniforms;\n\n        const xShape : vec4<i32> = vec4<i32>(${e[0].dims.join(",")});\n        const wShape : vec4<i32> = vec4<i32>(${e[1].dims.join(",")});\n        const outShape : vec4<i32> = vec4<i32>(${c.join(",")});\n        const outShapeStrides : vec3<i32> = vec3<i32>(${i.ShapeUtil.computeStrides(c).slice(0,3).join(",")});\n        const filterDims : vec2<i32> = vec2<i32>(${n.kernelShape[0]}, ${n.kernelShape[1]});\n        const pad : vec2<i32> = vec2<i32>(${n.pads[0]}, ${n.pads[1]});\n        const stride : vec2<i32> = vec2<i32>(${n.strides[0]}, ${n.strides[1]});\n        const dilation : vec2<i32> = vec2<i32>(${n.dilations[0]}, ${n.dilations[1]});\n        const dimAOuter : i32 = ${l};\n        const dimBOuter : i32 = ${f};\n        const dimInner : i32 = ${p};\n        ${D}\n        ${((e,t,n,r,i=!1,a,s=!1,u=4,c=4,l=4)=>{const f=e?"\n    let coord = vec4<i32>(batch, xRow, xCol, xCh);\n    ":"\n    let coord = vec4<i32>(batch, xCh, xRow, xCol);\n    ",p=e?"\n    let coords = vec4<i32>(\n      batch,\n      row / outWidth,\n      row % outWidth,\n      col);\n    ":"\n    let coords = vec4<i32>(\n      batch,\n      row,\n      col / outWidth,\n      col % outWidth);\n    ",d=e?"xShape[1]":"xShape[2]",h=e?"xShape[2]":"xShape[3]",m=e?"row":"col",g=e?"col":"row",v=`\n    let inChannels = wShape[2];\n    let outWidth = ${e?"outShape[2]":"outShape[3]"};\n    let outRow = ${m} / outWidth;\n    let outCol = ${m} % outWidth;\n\n    let WRow = ${g} / (filterDims[1] * inChannels);\n    let WCol = ${g} / inChannels % filterDims[1];\n    let xRow = outRow * stride[0] + dilation[0] * WRow - pad[0];\n    let xCol = outCol * stride[1] + dilation[1] * WCol - pad[1];\n    let xCh = ${g} % inChannels;\n    var resData = ${(0,o.typeSnippet)(u)}(0.0);\n    // The bounds checking is always needed since we use it to pad zero for\n    // the 'same' padding type.\n    if (xRow >= 0 && xRow < ${d} && xCol >= 0 && xCol < ${h}) {\n      ${f}\n      let xIndex = getIndexFromCoords4D(coord, xShape);\n      ${(e=>{switch(e){case 1:return"resData = x[xIndex];";case 3:return"resData = vec3<f32>(x[xIndex], x[xIndex + 1], x[xIndex + 2]);";case 4:return"resData = x[xIndex / 4];";default:throw new Error(`innerElementSize ${e} is not supported.`)}})(u)}\n    }\n    return resData;`,y=e?t&&r?`\n    let col = colIn * ${u};\n    ${v}`:`\n    let col = colIn * ${u};\n    if (row < dimAOuter && col < dimInner) {\n      ${v}\n    }\n    return ${(0,o.typeSnippet)(u)}(0.0);`:r&&n?`\n    let col = colIn * ${u};\n    ${v}`:`\n    let col = colIn * ${u};\n    if (row < dimInner && col < dimBOuter) {\n      ${v}\n    }\n    return ${(0,o.typeSnippet)(u)}(0.0);`,w=`${(e=>{switch(e){case 1:return"return w[row * wShape[3] + colIn];";case 4:return"return w[row * wShape[3] / 4 + colIn];";default:throw new Error(`innerElementSize ${e} is not supported.`)}})(c)}`,_=(0,o.typeSnippet)(l),b=e?(0,o.typeSnippet)(u):(0,o.typeSnippet)(c),k=e?(0,o.typeSnippet)(c):(0,o.typeSnippet)(u);return`\n    ${(0,o.activationFnSnippet)(a,s,4===l,4)}\n    fn mm_readA(batch: i32, row : i32, colIn : i32) -> ${b} {\n      ${e?y:w}\n    }\n\n    fn mm_readB(batch: i32, row : i32, colIn : i32) -> ${k} {\n      ${e?w:y}\n    }\n\n    fn mm_write(batch: i32, row : i32, colIn : i32, valueIn : ${_}) {\n      let col = colIn * ${l};\n      if (row < dimAOuter && col < dimBOuter)\n      {\n      var value = valueIn;\n      let outWidth = ${e?"outShape[2]":"outShape[3]"};\n      ${p}\n      ${(0,o.biasActivationSnippet)(i,a)}\n      setOutputAtCoords(coords[0], coords[1], coords[2], coords[3], value);\n      }\n    }`})(m,E,M,x,d,void 0,!1,I[0],I[1],I[2])}\n            ${b?(0,u.makeMatMulPackedVec4Source)(O,S,!m,j):(0,u.makeMatMulPackedSource)(O,S,!m,j,!1,void 0,h)}`})}},4085:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.utilFunctions=void 0,t.utilFunctions="\nfn getIndexFromCoords4D(coords : vec4<i32>, shape : vec4<i32>) -> i32 {\n  return dot(coords, vec4<i32>(\n      shape.y * shape.z * shape.w, shape.z * shape.w, shape.w, 1));\n}\nfn getOutputIndexFromCoords(coords : vec4<i32>) -> i32 {\n  return dot(coords, vec4<i32>(\n    outShapeStrides.x, outShapeStrides.y, outShapeStrides.z, 1));\n}\n"},158:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeMatMulPackedSource=t.makeMatMulPackedVec4Source=void 0,t.makeMatMulPackedVec4Source=(e,t,n=!1,r=32,i=!1,a=32,o=!1)=>{const s=t[1]*e[1],u=t[0]*e[0],c=n?s:r,l=n?r:s,f=c/t[0],p=r/t[1];if((!n||4!==f||4!==e[1])&&(n||3!==f&&4!==f)||c%t[0]!=0||r%t[1]!=0||4!==e[0])throw new Error(`If transposeA ${n} is true, innerElementSize ${f} and workPerThread[1] ${e[1]} must be 4.\n      Otherwise, innerElementSize ${f} must be 3 or 4.\n  tileAWidth ${c} must be divisible by workgroupSize[0]${t[0]}. tileInner ${r} must be divisible by workgroupSize[1] ${t[1]}. colPerThread ${e[0]} must be 4.`);return`\nvar<workgroup> mm_Asub : array<array<vec${f}<f32>, ${c/f}>, ${l}>;\nvar<workgroup> mm_Bsub : array<array<vec4<f32>, ${u/e[0]}>, ${r}>;\n\nconst rowPerThread = ${e[1]};\nconst colPerThread = ${e[0]};\nconst innerElementSize = ${f};\nconst tileInner = ${r};\n\n@compute @workgroup_size(${t[0]}, ${t[1]}, ${t[2]})\nfn main(@builtin(local_invocation_id) localId : vec3<u32>,\n        @builtin(global_invocation_id) globalId : vec3<u32>,\n        @builtin(workgroup_id) workgroupId : vec3<u32>) {\n  let localRow = i32(localId.y);\n  let tileRow = ${o?"0":"localRow * rowPerThread"};\n  let tileCol = i32(localId.x);\n\n  let globalRow = ${o?"0":"i32(globalId.y) * rowPerThread"};\n  let globalCol = i32(globalId.x);\n  let batch = ${i?"0":"i32(globalId.z)"};\n  let globalRowStart = i32(workgroupId.y) * ${s};\n\n  let numTiles = ${i?`${Math.ceil(a/r)}`:"(dimInner - 1) / tileInner + 1"};\n  var kStart = ${i?`i32(globalId.z) * ${a}`:"0"};\n\n  var acc: array<vec4<f32>, rowPerThread>;\n\n  // Loop over shared dimension.\n  let tileRowB = localRow * ${p};\n  for (var t = 0; t < numTiles; t = t + 1) {\n      // Load one tile of A into local memory.\n      for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {\n          let inputRow = tileRow + innerRow;\n          let inputCol = tileCol;\n          ${d=n,d?"\n        mm_Asub[inputRow][inputCol] = mm_readA(batch,\n          kStart + inputRow,\n          globalRowStart / innerElementSize + inputCol);\n        ":"\n        mm_Asub[inputRow][inputCol] = mm_readA(batch,\n          globalRow + innerRow,\n          kStart / innerElementSize + inputCol);\n        "}\n      }\n\n      // Load one tile of B into local memory.\n      for (var innerRow = 0; innerRow < ${p}; innerRow = innerRow + 1) {\n          let inputRow = tileRowB + innerRow;\n          let inputCol = tileCol;\n          mm_Bsub[inputRow][inputCol] = mm_readB(batch, kStart + inputRow, globalCol);\n      }\n      kStart = kStart + tileInner;\n      workgroupBarrier();\n\n      // Compute acc values for a single thread.\n      for (var k = 0; k < tileInner / innerElementSize; k = k + 1) {\n          let BCached0 = mm_Bsub[k * innerElementSize][tileCol];\n          let BCached1 = mm_Bsub[k * innerElementSize + 1][tileCol];\n          let BCached2 = mm_Bsub[k * innerElementSize + 2][tileCol];\n          ${3===f?"":"let BCached3 = mm_Bsub[k * innerElementSize + 3][tileCol];"}\n\n          ${((e,t)=>e?`\n        let ACached0 = mm_Asub[k * innerElementSize][localRow];\n        let ACached1 = mm_Asub[k * innerElementSize + 1][localRow];\n        let ACached2 = mm_Asub[k * innerElementSize + 2][localRow];\n        ${3===t?"":"let ACached3 = mm_Asub[k * innerElementSize + 3][localRow];"}\n        for (var i = 0; i < rowPerThread; i = i + 1) {\n          acc[i] = BCached0 * ACached0[i] + acc[i];\n          acc[i] = BCached1 * ACached1[i] + acc[i];\n          acc[i] = BCached2 * ACached2[i] + acc[i];\n          ${3===t?"":"acc[i] = BCached3 * ACached3[i] + acc[i];"}\n        }`:`\n        for (var i = 0; i < rowPerThread; i = i + 1) {\n          let ACached = mm_Asub[tileRow + i][k];\n          acc[i] = BCached0 * ACached.x + acc[i];\n          acc[i] = BCached1 * ACached.y + acc[i];\n          acc[i] = BCached2 * ACached.z + acc[i];\n          ${3===t?"":"acc[i] = BCached3 * ACached.w + acc[i];"}\n        }`)(n,f)}\n      }\n\n      workgroupBarrier();\n  }\n\n  for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {\n      mm_write(batch, globalRow + innerRow, globalCol, acc[innerRow]);\n  }\n}`;var d};const n=e=>e?"\n            mm_Asub[inputRow][inputCol] = mm_readA(batch,\n              kStart + inputRow,\n              globalRowStart + inputCol);\n            ":"\n            mm_Asub[inputRow][inputCol] = mm_readA(batch,\n              globalRowStart + inputRow,\n              kStart + inputCol);\n            ";t.makeMatMulPackedSource=(e,t,r=!1,i=32,a=!1,o=32,s=!1)=>{const u=e[1]*t[1],c=e[0]*t[0],l=r?u:i,f=r?i:u;if(f%t[1]!=0||l%t[0]!=0||i%t[1]!=0)throw new Error(`tileAHight ${f} must be divisible by workgroupSize[1]${t[1]}, tileAWidth ${l} must be divisible by workgroupSize[0]${t[0]}, tileInner ${i} must be divisible by workgroupSize[1]${t[1]}`);const p=f/t[1],d=l/t[0],h=i/t[1],m=s?`\n    let localRow = i32(localId.y);\n    let localCol = i32(localId.x);\n    let globalRowStart = i32(workgroupId.y) * ${u};\n    let globalColStart = i32(workgroupId.x) * ${c};\n\n    // Loop over shared dimension.\n    for (var t = 0; t < numTiles; t = t + 1) {\n      // Load one tile of A into local memory.\n      for (var inputRow = localRow; inputRow < ${f}; inputRow = inputRow + ${t[1]}) {\n        for (var inputCol = localCol; inputCol < ${l}; inputCol = inputCol + ${t[0]}) {\n          ${n(r)}\n        }\n      }\n      // Load one tile of B into local memory.\n      for (var inputRow = localRow; inputRow < ${i}; inputRow = inputRow + ${t[1]}) {\n            for (var inputCol = localCol; inputCol < ${c}; inputCol = inputCol + ${t[0]}) {\n          mm_Bsub[inputRow][inputCol] = mm_readB(batch,\n            kStart + inputRow,\n            globalColStart + inputCol);\n        }\n      }\n      kStart = kStart + tileInner;\n      workgroupBarrier();\n\n      // Compute acc values for a single thread.\n      var BCached : array<f32, colPerThread>;\n      for (var k = 0; k < tileInner; k = k + 1) {\n        for (var inner = 0; inner < colPerThread; inner = inner + 1) {\n          BCached[inner] = mm_Bsub[k][localCol + inner * ${t[0]}];\n        }\n        for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {\n          let ACached = ${r?`mm_Asub[k][localRow + innerRow * ${t[1]}];`:`mm_Asub[localRow + innerRow * ${t[1]}][k];`}\n          for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {\n            acc[innerRow][innerCol] = acc[innerRow][innerCol] +\n                ACached * BCached[innerCol];\n          }\n        }\n      }\n      workgroupBarrier();\n    }\n    for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {\n      let gRow = globalRowStart + localRow + innerRow * ${t[1]};\n      for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {\n        let gCol = globalColStart + localCol + innerCol * ${t[0]};\n        mm_write(batch, gRow, gCol, acc[innerRow][innerCol]);\n      }\n    }\n    `:`\nlet tileRow = i32(localId.y) * rowPerThread;\nlet tileCol = i32(localId.x) * colPerThread;\n\nlet globalRow = i32(globalId.y) * rowPerThread;\nlet globalCol = i32(globalId.x) * colPerThread;\nlet globalRowStart = i32(workgroupId.y) * ${u};\n\nlet tileRowA = i32(localId.y) * ${p};\nlet tileColA = i32(localId.x) * ${d};\nlet tileRowB = i32(localId.y) * ${h};\n// Loop over shared dimension.\nfor (var t = 0; t < numTiles; t = t + 1) {\n  // Load one tile of A into local memory.\n  for (var innerRow = 0; innerRow < ${p}; innerRow = innerRow + 1) {\n    for (var innerCol = 0; innerCol < ${d}; innerCol = innerCol + 1) {\n      let inputRow = tileRowA + innerRow;\n      let inputCol = tileColA + innerCol;\n      ${n(r)}\n    }\n  }\n\n  // Load one tile of B into local memory.\n  for (var innerRow = 0; innerRow < ${h}; innerRow = innerRow + 1) {\n    for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {\n      let inputRow = tileRowB + innerRow;\n      let inputCol = tileCol + innerCol;\n      mm_Bsub[inputRow][inputCol] = mm_readB(batch,\n        kStart + inputRow,\n        globalCol + innerCol);\n    }\n  }\n  kStart = kStart + tileInner;\n  workgroupBarrier();\n\n  // Compute acc values for a single thread.\n  var BCached : array<f32, colPerThread>;\n  for (var k = 0; k < tileInner; k = k + 1) {\n    for (var inner = 0; inner < colPerThread; inner = inner + 1) {\n      BCached[inner] = mm_Bsub[k][tileCol + inner];\n    }\n\n    for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {\n      ${(e=>e?"let ACached = mm_Asub[k][tileRow + innerRow];":"let ACached = mm_Asub[tileRow + innerRow][k];")(r)}\n      for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {\n        acc[innerRow][innerCol] = acc[innerRow][innerCol] + ACached * BCached[innerCol];\n      }\n    }\n  }\n\n  workgroupBarrier();\n}\n\nfor (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {\n  for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {\n    mm_write(batch, globalRow + innerRow, globalCol + innerCol,\n        acc[innerRow][innerCol]);\n  }\n}\n`;return`\n  var<workgroup> mm_Asub : array<array<f32, ${l}>, ${f}>;\n  var<workgroup> mm_Bsub : array<array<f32, ${c}>, ${i}>;\n  const rowPerThread = ${e[1]};\n  const colPerThread = ${e[0]};\n  const tileInner = ${i};\n\n@compute @workgroup_size(${t[0]}, ${t[1]}, ${t[2]})\nfn main(@builtin(local_invocation_id) localId : vec3<u32>,\n        @builtin(global_invocation_id) globalId : vec3<u32>,\n        @builtin(workgroup_id) workgroupId : vec3<u32>) {\n    let batch = ${a?"0":"i32(globalId.z)"};\n    let numTiles = ${a?`${Math.ceil(o/i)}`:"(dimInner - 1) / tileInner + 1"};\n    var kStart = ${a?`i32(globalId.z) * ${o}`:"0"};\n\n    var acc : array<array<f32, colPerThread>, rowPerThread>;\n\n    // Without this initialization strange values show up in acc.\n    for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {\n      for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {\n        acc[innerRow][innerCol] = 0.0;\n      }\n    }\n    ${m}\n  }\n`}},504:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sub=t.pow=t.mul=t.div=t.add=void 0;const r=n(6952),i=n(1163),a=n(2075),o=(e,t,n,o,s)=>{const u={name:t,inputTypes:[i.GpuDataType.default,i.GpuDataType.default],cacheHint:s};return Object.assign(Object.assign({},u),{get:()=>((e,t,n,o,s,u=t.dataType)=>{var c,l;const f=!r.ShapeUtil.areEqual(t.dims,n.dims);let p=t.dims,d=r.ShapeUtil.size(t.dims),h=!1;if(f){const e=r.BroadcastUtil.calcShape(t.dims,n.dims,!1);if(!e)throw new Error("Can't perform binary op on the given tensors");p=e,d=r.ShapeUtil.size(p);let i=1;for(let e=0;e<p.length;e++){const r=null!==(c=t.dims[t.dims.length-e])&&void 0!==c?c:1;if(r!==(null!==(l=n.dims[n.dims.length-e])&&void 0!==l?l:1))break;i*=r}i%4==0&&(h=!0)}else h=!0;return Object.assign(Object.assign({},e),{getShaderSource:e=>((e,t,n,i,o,s,u,c,l="f32",f="f32",p="f32")=>{const d=r.ShapeUtil.size(i),h=Math.ceil(d/4);let m,g;"string"==typeof u?m=g=(e,t)=>`${u}((${e}),(${t}))`:"function"==typeof u?m=g=u:(m=u.scalar,g=u.vector);let v="";const y=(0,a.createIndicesHelper)("output",i);if(s){const e=e=>{const t=r.ShapeUtil.computeStrides(e),n=[];for(let r=e.length-1;r>=0;r--){const a=0===i.length?"0u":1===i.length?"(*outputIndices)":`(*outputIndices)[${r+i.length-e.length}]`;n.push(`${t[r]}u * (${a} % ${e[r]}u)`)}return n.length>0?n.join("+"):"0u"};v=`\n  ${y.o2iImpl}\n\n  fn calcOffsetA(outputIndices: ptr<function, ${y.iType}>) -> u32 {\n    return ${e(t)};\n  }\n\n  fn calcOffsetB(outputIndices: ptr<function, ${y.iType}>) -> u32 {\n    return ${e(n)};\n  }\n  `}let w;if(o)w=s?`\n      ${y.indicesVariableDeclaration("outputIndices")}\n      ${y.o2iCall("global_idx * 4u","outputIndices")}\n      let offsetA = calcOffsetA(&outputIndices);\n      let offsetB = calcOffsetB(&outputIndices);\n      outputData[global_idx] = ${g("aData[offsetA / 4u]","bData[offsetB / 4u]")};`:`outputData[global_idx] = ${g("aData[global_idx]","bData[global_idx]")};`;else{if(!s)throw new Error("no necessary to use scalar implementation for element-wise binary op implementation.");const e=e=>{const t=`aData[indexA${e}][componentA${e}]`,n=`bData[indexB${e}][componentB${e}]`;return`\n      ${y.o2iCall(`global_idx * 4u + ${e}u`,"outputIndices")}\n      let offsetA${e} = calcOffsetA(&outputIndices);\n      let offsetB${e} = calcOffsetB(&outputIndices);\n      let indexA${e} = offsetA${e} / 4u;\n      let indexB${e} = offsetB${e} / 4u;\n      let componentA${e} = offsetA${e} % 4u;\n      let componentB${e} = offsetB${e} % 4u;\n      outputData[global_idx][${e}] = ${m(t,n)};`};w=`\n      ${y.indicesVariableDeclaration("outputIndices")}\n      ${e(0)}\n      ${e(1)}\n      ${e(2)}\n      ${e(3)}`}return`\n  @group(0) @binding(0) var<storage, read> aData : array<vec4<${l}>>;\n  @group(0) @binding(1) var<storage, read> bData : array<vec4<${f}>>;\n  @group(0) @binding(2) var<storage, read_write> outputData : array<vec4<${p}>>;\n\n  ${null!=c?c:""}\n  ${v}\n\n  ${e.mainStart()}\n    ${e.guardAgainstOutOfBoundsWorkgroupSizes(h)}\n    ${w}\n  }`})(e,t.dims,n.dims,p,h,f,o,s),outputs:[{dims:p,dataType:u,gpuDataType:i.GpuDataType.default}],dispatchGroup:()=>({x:Math.ceil(d/64/(h?4:1))})})})(u,e[0],e[1],n,o)})};t.add=e=>{e.compute(o(e.inputs,"Add",((e,t)=>`${e}+${t}`)))},t.div=e=>{e.compute(o(e.inputs,"Div",((e,t)=>`${e}/${t}`)))},t.mul=e=>{e.compute(o(e.inputs,"Mul",((e,t)=>`${e}*${t}`)))},t.pow=e=>{e.compute(o(e.inputs,"Pow",{scalar:(e,t)=>`pow_f32(${e},${t})`,vector:(e,t)=>`pow_vf32(${e},${t})`},"\n    fn pow_f32(a : f32, b : f32) -> f32 {\n      if (b == 0.0) {\n        return 1.0;\n      } else if (a < 0.0 && b != floor(b)) {\n        return pow(a, b); // NaN\n      }\n      return select(sign(a), 1.0, round(abs(b) % 2.0) != 1.0) * pow(abs(a), b);\n    }\n    fn pow_vf32(a : vec4<f32>, b : vec4<f32>) -> vec4<f32> {\n      // TODO: implement vectorized pow\n      return vec4<f32>(pow_f32(a.x, b.x), pow_f32(a.y, b.y), pow_f32(a.z, b.z), pow_f32(a.w, b.w));\n    }\n      "))},t.sub=e=>{e.compute(o(e.inputs,"Sub",((e,t)=>`${e}-${t}`)))}},2075:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createShaderHelper=t.createIndicesHelper=t.WORKGROUP_SIZE=void 0;const r=n(6952);t.WORKGROUP_SIZE=64,t.createIndicesHelper=(e,t)=>{const n=t.length<2?"u32":`array<u32, ${t.length}>`,i=r.ShapeUtil.computeStrides(t);let a="";for(let e=0;e<t.length-1;e++)a+=`\n    let dim${e} = current / ${i[e]}u;\n    let rest${e} = current % ${i[e]}u;\n    (*indices)[${e}] = dim${e};\n    current = rest${e};\n    `;a+=`(*indices)[${t.length-1}] = current;`;const o=t.length<2?"":`\n  fn ih_o2i_${e}(offset: u32, indices: ptr<function, ${n}>) {\n    var current = offset;\n    ${a}\n  }`,s=[];if(0===t.length)s.push("0u");else if(t.length<2)s.push("(*indices)");else for(let e=t.length-1;e>=0;e--)s.push(`${i[e]}u * ((*indices)[${e}])`);return{o2iImpl:o,o2iCall:(n,r)=>t.length<2?`${r}=${n};`:`ih_o2i_${e}(${n}, &${r});`,i2oImpl:t.length<2?"":`\n  fn ih_i2o_${e}(indices: ptr<function, ${n}>) -> u32 {\n    return ${s.join("+")};\n  }`,i2oExpression:(n,r)=>t.length<2?`(${r?"*":""}${n})`:`ih_i2o_${e}(${r?"":"&"}${n})`,indicesVariableDeclaration:(e,t)=>`var ${e}:${n}${t?`=${n}(${t.join(",")})`:""};`,iType:n}};class i{constructor(e){this.normalizedDispatchGroup=e}guardAgainstOutOfBoundsWorkgroupSizes(e){return`if (global_idx >= ${"number"==typeof e?`${e}u`:e}) { return; }`}mainStart(e=t.WORKGROUP_SIZE){const n="number"==typeof e?e:e[0],r="number"==typeof e?1:e[1],i="number"==typeof e?1:e[2],a=1===this.normalizedDispatchGroup[1]&&1===this.normalizedDispatchGroup[2];return`@compute @workgroup_size(${n}, ${r}, ${i})\n  fn main(${a?"@builtin(global_invocation_id) global_id : vec3<u32>":"@builtin(local_invocation_index) local_index : u32,\n    @builtin(workgroup_id) workgroup_id : vec3<u32>"}) {\n    ${a?"let global_idx = global_id.x;":`let global_idx = (workgroup_id.z * ${this.normalizedDispatchGroup[0]*this.normalizedDispatchGroup[1]}u +\n          workgroup_id.y * ${this.normalizedDispatchGroup[0]}u + workgroup_id.x) * ${n*r*i}u + local_index;`}\n  `}}t.createShaderHelper=e=>new i(e)},9192:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createGroupedConvProgramInfoLoader=void 0;const r=n(6952),i=n(1163),a=n(2075),o=n(9770),s=n(3997);t.createGroupedConvProgramInfoLoader=(e,t,n)=>{const u=(c=e.length>2,l=t.cacheKey,{name:"GroupedConv",inputTypes:c?[i.GpuDataType.default,i.GpuDataType.default,i.GpuDataType.default]:[i.GpuDataType.default,i.GpuDataType.default],cacheHint:l});var c,l;return Object.assign(Object.assign({},u),{get:()=>((e,t,n,u)=>{const c=e.length>2,l=c?"value += b[output_channel];":"",f=e[0].dims,p=e[1].dims,d=p[0]/n.group,h="f32",{activationFunction:m,applyActivation:g}=(0,s.getActicationSnippet)(n),v=[`@group(0) @binding(0) var<storage, read> x : array<${h}>;`,`@group(0) @binding(1) var<storage, read> w : array<${h}>;`];c&&v.push(`@group(0) @binding(2) var<storage, read> b : array<${h}>;`);const y="NHWC"===n.format,w=(0,o.calculateOutputShape)(f,p,n.dilations,n.pads,n.strides,y),_=r.ShapeUtil.size(w),b=(0,a.createIndicesHelper)("output",w),k=(0,a.createIndicesHelper)("x",f),$=(0,a.createIndicesHelper)("w",p);return Object.assign(Object.assign({},t),{outputs:[{dims:u?u(w):w,dataType:e[0].dataType,gpuDataType:i.GpuDataType.default}],getShaderSource:e=>`\n  const strides: vec2<u32> = vec2(${n.strides[0]}u, ${n.strides[1]}u);\n  const pads: vec2<u32> = vec2(${n.pads[0]}u, ${n.pads[1]}u);\n\n  ${v.join("\n")}\n  @group(0) @binding(${v.length}) var<storage, read_write> output : array<${h}>;\n\n  ${m}\n  ${b.o2iImpl}\n  ${k.i2oImpl}\n  ${$.i2oImpl}\n\n  ${e.mainStart()}\n    ${e.guardAgainstOutOfBoundsWorkgroupSizes(_)}\n\n    ${b.indicesVariableDeclaration("outputIndices")}\n    ${b.o2iCall("global_idx","outputIndices")}\n    let batch: u32 = outputIndices[0];\n    let output_channel: u32 = outputIndices[${y?3:1}];\n    let xRCCorner: vec2<u32> = vec2<u32>(outputIndices[${y?1:2}], outputIndices[${y?2:3}]) * strides - pads;\n    let group_id: u32 = output_channel / ${d}u;\n\n    var value: ${h} = ${h}(0);\n    for (var wInChannel: u32 = 0u; wInChannel < ${p[1]}u; wInChannel++) {\n      let input_channel = group_id * ${p[1]}u + wInChannel;\n      for (var wHeight: u32 = 0u; wHeight < ${p[2]}u; wHeight++) {\n        let xHeight = xRCCorner.x + wHeight * ${n.dilations[0]}u;\n\n        if (xHeight < 0u || xHeight >= ${f[y?1:2]}u) {\n          continue;\n        }\n\n        for (var wWidth: u32 = 0u; wWidth < ${p[3]}u; wWidth++) {\n          let xWidth = xRCCorner.y + wWidth * ${n.dilations[1]}u;\n          if (xWidth < 0u || xWidth >= ${f[y?2:3]}u) {\n            continue;\n          }\n\n          ${k.indicesVariableDeclaration("xIndices",y?["batch","xHeight","xWidth","input_channel"]:["batch","input_channel","xHeight","xWidth"])}\n          let xVal = x[${k.i2oExpression("xIndices")}];\n          ${$.indicesVariableDeclaration("wIndices",["output_channel","wInChannel","wHeight","wWidth"])}\n          let wVal = w[${$.i2oExpression("wIndices")}];\n          value += xVal*wVal;\n        }\n      }\n    }\n    ${l}\n    ${g}\n    output[global_idx] = value;\n  }`,dispatchGroup:()=>({x:Math.ceil(_/64)})})})(e,u,t,n)})}},9770:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.conv=t.parseConvAttributes=t.calculateOutputShape=void 0;const r=n(6952),i=n(387),a=n(9192),o=n(3822),s=n(3997),u=n(2625);t.calculateOutputShape=(e,t,n,r,i,a)=>{const o=e[0],s=e.slice(a?1:2,a?3:4),u=s.length,c=t[0],l=t.slice(2).map(((e,t)=>e+(e-1)*(n[t]-1))),f=s.map(((e,t)=>e+r[t]+r[t+u])).map(((e,t)=>Math.floor((e-l[t]+i[t])/i[t])));return f.splice(0,0,o),f.splice(a?3:1,0,c),f};const c=(0,i.createAttributeWithCacheKey)({perm:[2,3,1,0]}),l=(e,t)=>{const n=e.kernelShape.slice();for(let e=2;e<t[1].dims.length;++e)0===n[e-2]&&(n[e-2]=t[1].dims[e]);const i=e.pads.slice();r.PoolConvUtil.adjustPadsBasedOnAutoPad(t[0].dims,e.strides,e.dilations,n,i,"NHWC"===e.format,e.autoPad);const a=Object.assign({},e);return Object.assign(a,{kernelShape:n,pads:i,cacheKey:e.cacheKey}),a};t.parseConvAttributes=e=>{const t=(0,s.parseInternalActivationAttributes)(e),n=e.format,r=["NOTSET","VALID","SAME_UPPER","SAME_LOWER"][e.auto_pad],a=e.dilations,o=e.group,u=e.kernel_shape,c=e.pads,l=e.strides,f=e.w_is_const();return(0,i.createAttributeWithCacheKey)(Object.assign({autoPad:r,format:n,dilations:a,group:o,kernelShape:u,pads:c,strides:l,wIsConst:f},t))},t.conv=(e,n)=>{((e,t)=>{if(!e||2!==e.length&&3!==e.length)throw new Error("Conv requires 2 or 3 inputs");if(4!==e[0].dims.length&&3!==e[0].dims.length)throw new Error("currently only support conv 1D and 2D");if(e[0].dims.length!==e[1].dims.length)throw new Error("filter does not have same dimension as input");if(e[0].dims["NHWC"===t.format?e[0].dims.length-1:1]!==e[1].dims[1]*t.group)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(3===e.length&&(1!==e[2].dims.length||e[1].dims[0]!==e[2].dims[0]))throw new Error("invalid bias");const n=e[0].dims.length-2;if(t.dilations.length!==n)throw new Error(`dilations should be ${n}D`);if(t.strides.length!==n)throw new Error(`strides should be ${n}D`);if(t.pads.length!==2*n)throw new Error(`pads should be ${2*n}D`);if(0!==t.kernelShape.length&&t.kernelShape.length!==e[1].dims.length-2)throw new Error("invalid kernel shape");if(1!==e[0].dataType||1!==e[1].dataType)throw new Error("Conv input(X,W) should be float tensor");if(3===e.length&&1!==e[2].dataType)throw new Error("Conv input(bias) should be float tensor")})(e.inputs,n),3===e.inputs[0].dims.length?((e,t)=>{const n="NHWC"===t.format,r=[e.inputs[0].reshape(n?[e.inputs[0].dims[0],1,e.inputs[0].dims[1],e.inputs[0].dims[2]]:[e.inputs[0].dims[0],e.inputs[0].dims[1],1,e.inputs[0].dims[2]]),e.inputs[1].reshape([e.inputs[1].dims[0],e.inputs[1].dims[1],1,e.inputs[1].dims[2]])];3===e.inputs.length&&r.push(e.inputs[2]);const i=[0,t.pads[0],0,t.pads[1]],o=[1].concat(t.strides),s=[1].concat(t.dilations),u=[1].concat(t.kernelShape),c=l(Object.assign(Object.assign({},t),{pads:i,strides:o,dilations:s,kernelShape:u}),r);e.compute((0,a.createGroupedConvProgramInfoLoader)(r,c,(e=>n?[e[0],e[2],e[3]]:[])))})(e,n):((e,n,r)=>{var i;const s=l(r,n),f=3===n.length,p="NHWC"===r.format,d=n[0].dims[p?1:2],h=n[0].dims[p?2:3],m=n[0].dims[p?3:1],g=n[1].dims[2],v=n[1].dims[3],y=(0,t.calculateOutputShape)(n[0].dims,n[1].dims,r.dilations,s.pads,r.strides,p),w=y[p?1:2],_=y[p?2:3],b=y[p?3:1];if(p&&g===d&&v===h&&"VALID"===r.autoPad||1===g&&1===v&&1===r.dilations[0]&&1===r.dilations[1]&&1===r.strides[0]&&1===r.strides[1]&&("SAME_UPPER"===r.autoPad||"SAME_LOWER"===r.autoPad||"VALID"===r.autoPad))return void e.compute((0,a.createGroupedConvProgramInfoLoader)(n,s));if(!p||1!==r.group)return void e.compute((0,a.createGroupedConvProgramInfoLoader)(n,s));const k=p?w*_:b,$=p?b:w*_,S=g*v*m,O=null!==(i=e.customData.wT)&&void 0!==i?i:e.compute(Object.assign(Object.assign({},u.transposeProgramMetadata),{cacheHint:c.cacheKey,get:()=>(0,u.createTransposeProgramInfo)(n[1],c.perm)}),{inputs:[1],outputs:[r.wIsConst?-2:-1]})[0];r.wIsConst&&!e.customData.wT&&(e.customData.wT=O);const A=[n[0],O];f&&(p||1!==n[2].dims.length?A.push(n[2]):A.push(n[2].reshape([n[2].dims[0],1,1]))),e.compute((0,o.createConv2DMatMulProgramInfoLoader)(A,s,y,k,$,S,f,!0),{inputs:A})})(e,e.inputs,n)}},3822:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createConv2DMatMulProgramInfoLoader=void 0;const r=n(1163),i=n(9456);t.createConv2DMatMulProgramInfoLoader=(e,t,n,a,o,s,u,c)=>{const l=((e,t)=>({name:"Conv2DMatMul",inputTypes:e?[r.GpuDataType.default,r.GpuDataType.default,r.GpuDataType.default]:[r.GpuDataType.default,r.GpuDataType.default],cacheHint:t}))(u,t.cacheKey);return Object.assign(Object.assign({},l),{get:()=>(0,i.createConv2DMatMulProgramInfo)(e,l,t,n,a,o,s,u,c)})}},3997:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseInternalActivationAttributes=t.getActicationSnippet=void 0;const r=n(6952);t.getActicationSnippet=e=>{switch(e.activation){case"Relu":return{activationFunction:"",applyActivation:"value = max(value, 0.0);"};case"Sigmoid":return{activationFunction:"",applyActivation:"value = (1.0 / (1.0 + exp(-value)));"};case"Clip":return{activationFunction:`const clip_min_=f32(${e.clipMin});const clip_max_=f32(${e.clipMax});`,applyActivation:"value = clamp(value, clip_min_, clip_max_);"};default:return{activationFunction:"",applyActivation:""}}},t.parseInternalActivationAttributes=e=>{const t=(null==e?void 0:e.activation)||"";if("Clip"===t){const[n,i]=(null==e?void 0:e.activation_params)||[r.MIN_CLIP,r.MAX_CLIP];return{activation:t,clipMax:i,clipMin:n,activationCacheKey:`${t}:${n},${i}`}}return{activation:t,activationCacheKey:t}}},4271:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseGemmAttributes=t.gemm=void 0;const r=n(6952),i=n(387),a=n(1163);t.gemm=(e,t)=>{(e=>{if(!e)throw new Error("Input is missing");if(e.length<2||e.length>3)throw new Error("Invaid input number.");if(3===e.length&&e[2].dims.length>2)throw new Error("Invalid input shape of C");if(1!==e[0].dataType||1!==e[1].dataType||3===e.length&&1!==e[2].dataType)throw new Error("Invalid input type.");if(e[0].dataType!==e[1].dataType||3===e.length&&e[0].dataType!==e[2].dataType)throw new Error("Input types are mismatched")})(e.inputs),e.compute(((e,t)=>{const n={name:"Gemm",inputTypes:3===e.length?[a.GpuDataType.default,a.GpuDataType.default,a.GpuDataType.default]:[a.GpuDataType.default,a.GpuDataType.default],cacheHint:t.cacheKey};return Object.assign(Object.assign({},n),{get:()=>((e,t,n)=>{const i=t[0].dims.slice(),o=t[1].dims.slice(),[s,u,c]=r.GemmUtil.getShapeOfGemmResult(i,n.transA,o,n.transB,3===t.length?t[2].dims:void 0),l=[s,u];if(!l)throw new Error("Can't use gemm on the given tensors");const f=r.ShapeUtil.size(l);let p="";n.transA&&n.transB?p="value += a[k * M + m] * b[n * K + k];":n.transA&&!n.transB?p="value += a[k * M + m] * b[k * N + n];":!n.transA&&n.transB?p="value += a[m * K + k] * b[n * K + k];":n.transA||n.transB||(p="value += a[m * K + k] * b[k * N + n];");const d="f32",h=1===n.alpha?"":"value *= alpha;",m=3===t.length?`value += beta * c[${((e,t,n)=>{if(0===n.length)return"0u";const r=1===n.length&&1!==e||2===n.length&&n[0]!==e,i=n[n.length-1]!==t;let a="0u";return r||(a+=`+ m * ${n[n.length-1]}u`),i||(a+="+n"),a})(s,u,t[2].dims)}];`:"",g=[`@group(0) @binding(0) var<storage, read> a : array<${d}>;`,`@group(0) @binding(1) var<storage, read> b : array<${d}>;`];return 3===t.length&&g.push(`@group(0) @binding(2) var<storage, read> c : array<${d}>;`),Object.assign(Object.assign({},e),{outputs:[{dims:l,dataType:t[0].dataType,gpuDataType:a.GpuDataType.default}],getShaderSource:e=>`\n  const M: u32 = ${s}u;\n  const N: u32 = ${u}u;\n  const K: u32 = ${c}u;\n  const alpha = ${d}(${n.alpha});\n  const beta = ${d}(${n.beta});\n\n  ${g.join("\n")}\n  @group(0) @binding(${t.length}) var<storage, read_write> output : array<${d}>;\n\n  ${e.mainStart()}\n    ${e.guardAgainstOutOfBoundsWorkgroupSizes(f)}\n\n    let m = global_id.x / N;\n    let n = global_id.x % N;\n\n    var value = ${d}(0);\n    for (var k: u32 = 0u; k<${c}u; k++) {\n      ${p}\n    }\n\n    ${h}\n    ${m}\n    output[global_id.x] = value;\n\n  }`,dispatchGroup:()=>({x:Math.ceil(f/64)})})})(n,e,t)})})(e.inputs,t))},t.parseGemmAttributes=e=>(0,i.createAttributeWithCacheKey)(e)},1522:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.matMul=t.createMatmulProgramInfoLoader=void 0;const r=n(6952),i=n(1163),a=n(3997);t.createMatmulProgramInfoLoader=(e,t)=>{const n=(o=e.length>2,s=t.activationCacheKey,{name:"MatMul",inputTypes:o?[i.GpuDataType.default,i.GpuDataType.default,i.GpuDataType.default]:[i.GpuDataType.default,i.GpuDataType.default],cacheHint:s});var o,s;return Object.assign(Object.assign({},n),{get:()=>((e,t,n)=>{const o=t[0].dims,s=t[1].dims,u=r.BroadcastUtil.calcShape(o,s,!0);if(!u)throw new Error("Can't use matmul on the given tensors");const c=r.ShapeUtil.size(u),l="f32",{activationFunction:f,applyActivation:p}=(0,a.getActicationSnippet)(n),d=u[u.length-2],h=o[o.length-1],m=u[u.length-1];return Object.assign(Object.assign({},e),{outputs:[{dims:u,dataType:t[0].dataType,gpuDataType:i.GpuDataType.default}],getShaderSource:e=>`\n  const M: u32 = ${d}u;\n  const N: u32 = ${m}u;\n  const K: u32 = ${h}u;\n\n  @group(0) @binding(0) var<storage, read> a : array<${l}>;\n  @group(0) @binding(1) var<storage, read> b : array<${l}>;\n  @group(0) @binding(2) var<storage, read_write> output : array<${l}>;\n\n  ${f}\n\n  ${e.mainStart()}\n    ${e.guardAgainstOutOfBoundsWorkgroupSizes(c)}\n\n    let stack = global_idx / (M * N);\n    let mn = global_idx % (M * N);\n    let n = global_idx % N;\n    let m = mn / N;\n\n    let offsetA = stack * (M * K);\n    let offsetB = stack * (K * N);\n\n    var value = ${l}(0);\n    for (var k: u32 = 0u; k<${h}u; k++) {\n      value += a[offsetA + m * K + k] * b[offsetB + k * N + n];\n    }\n    ${p}\n    output[global_idx] = value;\n  }`,dispatchGroup:()=>({x:Math.ceil(c/64)})})})(n,e,t)})},t.matMul=e=>{(e=>{if(!e||2!==e.length)throw new Error("MatMul requires 2 inputs.");if(e[0].dims[e[0].dims.length-1]!==e[1].dims[e[1].dims.length-2])throw new Error("shared dimension does not match.");if(1!==e[0].dataType||1!==e[1].dataType)throw new Error("inputs should be float type")})(e.inputs),e.compute((0,t.createMatmulProgramInfoLoader)(e.inputs,{activation:"",activationCacheKey:""}))}},5262:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.globalMaxPool=t.parseGlobalMaxPoolAttributes=t.parseMaxPoolAttributes=t.maxPool=t.globalAveragePool=t.parseGlobalAveragePoolAttributes=t.averagePool=t.parseAveragePoolAttributes=void 0;const r=n(6952),i=n(387),a=n(1163),o=n(2075),s=e=>{if(!e||1!==e.length)throw new Error("Pool ops requires 1 input.");if(4!==e[0].dims.length)throw new Error("Pool ops supports 2-D inputs only for now.");if(1!==e[0].dataType)throw new Error("Invalid input type.")},u=(e,t,n)=>{const i="NHWC"===t.format,a=i?[e[0].dims[0],e[0].dims[3],e[0].dims[1],e[0].dims[2]]:e[0].dims.slice(),o=Object.hasOwnProperty.call(t,"dilations"),s=t.kernelShape.slice(),u=t.strides.slice(),c=o?t.dilations.slice():[],l=t.pads.slice();r.PoolConvUtil.adjustPoolAttributes(n,a,s,u,c,l);const f=r.PoolConvUtil.computePoolOutputShape(n,a,u,c,s,l,t.autoPad),p=Object.assign({},t);return o?Object.assign(p,{kernelShape:s,strides:u,pads:l,dilations:c,cacheKey:t.cacheKey}):Object.assign(p,{kernelShape:s,strides:u,pads:l,cacheKey:t.cacheKey}),[p,i?[f[0],f[2],f[3],f[1]]:f]},c=(e,t,n,i,a,s,u,c)=>{const l="NHWC"===i.format,f=t.length,p=r.ShapeUtil.size(n),d=(0,o.createIndicesHelper)("output",n),h=(0,o.createIndicesHelper)("x",t);if(i.kernelShape.length<=2){const n=i.kernelShape[i.kernelShape.length-1],r=i.strides[i.strides.length-1],o=i.pads[i.pads.length/2-1],m=f-(l?2:1);let g="",v="",y="";if(g=o+i.pads[i.pads.length-1]!==0?`\n              for (var i: u32 = 0u; i < ${n}u; i++) {\n                xIndices[${m}] = indices[${m}] * ${r} - ${o} + i;\n                if (xIndices[${m}] < 0 || xIndices[${m}] >= ${t[m]}) {\n                  pad++;\n                  continue;\n                }\n                let x_val = x[${h.i2oExpression("xIndices")}];\n                ${a}\n              }`:`\n              for (var i: u32 = 0u; i < ${n}u; i++) {\n                xIndices[${m}] = indices[${m}] * ${r} - ${o} + i;\n                let x_val = x[${h.i2oExpression("xIndices")}];\n                ${a}\n              }`,2===i.kernelShape.length){const e=i.kernelShape[i.kernelShape.length-2],r=i.strides[i.strides.length-2],a=i.pads[i.pads.length/2-2],o=i.pads[i.pads.length-2],s=f-(l?3:2),u=t[s];v=a+o!==0?`\n                for (var j: u32 = 0u; j < ${e}u; j++) {\n                  xIndices[${s}] = indices[${s}] * ${r} - ${a} + j;\n                  if (xIndices[${s}] < 0 || xIndices[${s}] >= ${u}) {\n                    pad+= ${n};\n                    continue;\n                  }\n              `:`\n                for (var j: u32 = 0u; j < ${e}u; j++) {\n                  xIndices[${s}] = indices[${s}] * ${r} - ${a} + j;\n                `,y="\n              }\n            "}return`\n            @group(0) @binding(0) var<storage, read> x : array<${u}>;\n            @group(0) @binding(1) var<storage, read_write> output : array<${u}>;\n\n            ${d.o2iImpl}\n            ${h.i2oImpl}\n\n            ${e.mainStart()}\n              ${e.guardAgainstOutOfBoundsWorkgroupSizes(p)}\n\n              ${d.indicesVariableDeclaration("indices")}\n              ${d.o2iCall("global_idx","indices")}\n              ${d.indicesVariableDeclaration("xIndices")}\n              ${d.o2iCall("global_idx","xIndices")}\n\n              var value: ${u} = ${u}(${c});\n              var pad = 0;\n              ${v}\n              ${g}\n              ${y}\n              ${s}\n\n              output[global_idx] = value;\n            }`}{if(l)throw new Error("Pooling with kernelShape.length > 2 is not supported for NHWC format.");const n=r.ShapeUtil.size(i.kernelShape),o=r.ShapeUtil.computeStrides(i.kernelShape),m=o.length,g=i.pads.length;let v="";return v=i.pads.reduce(((e,t)=>e+t))?`\n                if (xIndices[j] >= inputDims[j]) {\n                  pad++;\n                  isPad = true;\n                  break;\n                }\n              }\n              if (!isPad) {\n                let x_val = x[${h.i2oExpression("xIndices")}];\n                ${a}\n              }`:`\n              }\n              let x_val = x[${h.i2oExpression("xIndices")}];\n              ${a}\n            `,`\n            @group(0) @binding(0) var<storage, read> x : array<${u}>;\n            @group(0) @binding(1) var<storage, read_write> output : array<${u}>;\n\n            ${d.o2iImpl}\n            ${h.i2oImpl}\n\n            const pads = array<u32, ${g}>(${i.pads.map((e=>`${e}u`)).join(",")});\n            const inputDims = array<u32, ${f}>(${t.map((e=>`${e}u`)).join(",")});\n            const kernelStrides = array<u32, ${m}>(${o.map((e=>`${e}u`)).join(",")});\n            const strides = array<u32, ${m}>(${i.strides.map((e=>`${e}u`)).join(",")});\n\n            ${e.mainStart()}\n              ${e.guardAgainstOutOfBoundsWorkgroupSizes(p)}\n\n              ${d.indicesVariableDeclaration("indices")}\n              ${d.o2iCall("global_idx","indices")}\n              ${d.indicesVariableDeclaration("xIndices")}\n              ${d.o2iCall("global_idx","xIndices")}\n\n              var offsets: array<u32, ${m}>;\n\n              var value = ${u}(${c});\n              var pad = 0;\n              var isPad = false;\n\n              for (var i: u32 = 0u; i < ${n}u; i++) {\n                var offset = i;\n                for (var j = 0u; j < ${m-1}u; j++) {\n                  offsets[j] = offset / kernelStrides[j];\n                  offset -= offsets[j] * kernelStrides[j];\n                }\n                offsets[${m-1}] = offset;\n\n                isPad = false;\n                for (var j = ${f-m}u; j < ${f}u; j++) {\n                  xIndices[j] = indices[j] * strides[j - ${f-m}u]\n                    + offsets[j - ${f-m}u] - pads[j - 2u];\n                  ${v}\n              }\n              ${s}\n\n              output[global_idx] = value;\n            }`}},l=e=>({format:e.format,autoPad:["NOTSET","VALID","SAME_UPPER","SAME_LOWER"][e.auto_pad],ceilMode:e.ceil_mode,kernelShape:e.kernel_shape,strides:e.strides,pads:e.pads}),f=(e,t,n,i)=>{const[o,s]=u(e,i,n),l=r.ShapeUtil.size(o.kernelShape),f="f32";let p="";return o.countIncludePad?p+=`value /= ${f}(${l});`:p+=`value /= ${f}(${l} - pad);`,Object.assign(Object.assign({},t),{outputs:[{dims:s,dataType:e[0].dataType,gpuDataType:a.GpuDataType.default}],getShaderSource:t=>c(t,e[0].dims,s,o,"value += x_val;",p,f,"0.0"),dispatchGroup:()=>({x:Math.ceil(r.ShapeUtil.size(s)/64)})})};t.parseAveragePoolAttributes=e=>{const t=0!==e.count_include_pad,n=l(e);if(0!==n.ceilMode)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");return(0,i.createAttributeWithCacheKey)(Object.assign({countIncludePad:t},n))},t.averagePool=(e,t)=>{s(e.inputs);const n={name:"AveragePool",inputTypes:[a.GpuDataType.default],cacheHint:t.cacheKey};e.compute(Object.assign(Object.assign({},n),{get:()=>f(e.inputs,n,!1,t)}))};const p={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[],cacheKey:""};t.parseGlobalAveragePoolAttributes=e=>{const t=e.format;return Object.assign(Object.assign({format:t},p),{cacheKey:t})},t.globalAveragePool=(e,t)=>{s(e.inputs);const n={name:"GlobalAveragePool",inputTypes:[a.GpuDataType.default],cacheHint:t.cacheKey};e.compute(Object.assign(Object.assign({},n),{get:()=>f(e.inputs,n,!0,t)}))};const d=(e,t,n,i)=>{const[o,s]=u(e,i,n);return Object.assign(Object.assign({},t),{outputs:[{dims:s,dataType:e[0].dataType,gpuDataType:a.GpuDataType.default}],getShaderSource:t=>c(t,e[0].dims,s,o,"\n      value = max(x_val, value);\n    ","","f32","-1e5"),dispatchGroup:()=>({x:Math.ceil(r.ShapeUtil.size(s)/64)})})};t.maxPool=(e,t)=>{s(e.inputs);const n={name:"MaxPool",inputTypes:[a.GpuDataType.default],cacheHint:t.cacheKey};e.compute(Object.assign(Object.assign({},n),{get:()=>d(e.inputs,n,!1,t)}))},t.parseMaxPoolAttributes=e=>{const t=e.storage_order,n=e.dilations,r=l(e);if(0!==t)throw new Error("column major storage order is not yet supported for MaxPool");if(0!==r.ceilMode)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");return(0,i.createAttributeWithCacheKey)(Object.assign({storageOrder:t,dilations:n},r))},t.parseGlobalMaxPoolAttributes=e=>{const t=e.format;return Object.assign(Object.assign({format:t},p),{cacheKey:t})},t.globalMaxPool=(e,t)=>{s(e.inputs);const n={name:"GlobalMaxPool",inputTypes:[a.GpuDataType.default],cacheHint:t.cacheKey};e.compute(Object.assign(Object.assign({},n),{get:()=>d(e.inputs,n,!0,t)}))}},2625:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseTransposeAttributes=t.transpose=t.createTransposeProgramInfo=t.transposeProgramMetadata=void 0;const r=n(6952),i=n(387),a=n(1163),o=n(2075);t.transposeProgramMetadata={name:"Transpose",inputTypes:[a.GpuDataType.default]};const s=(e,t)=>t&&t.length!==e.length?[...e.keys()].reverse():t;t.createTransposeProgramInfo=(e,n)=>{const i=e.dims,u=s(i,n),c=((e,t)=>r.ShapeUtil.sortBasedOnPerm(e,s(e,t)))(i,u),l=i.length,f=r.ShapeUtil.size(c),p=(0,o.createIndicesHelper)("output",c),d=(0,o.createIndicesHelper)("a",i);return Object.assign(Object.assign({},t.transposeProgramMetadata),{outputs:[{dims:c,dataType:e.dataType,gpuDataType:a.GpuDataType.default}],getShaderSource:e=>`\n  @group(0) @binding(0) var<storage, read> a : array<f32>;\n  @group(0) @binding(1) var<storage, read_write> output : array<f32>;\n\n  ${((e,t)=>{const n=[];n.push(`fn perm(a: ptr<function, array<u32, ${t}>>, i: ptr<function, array<u32, ${t}>>) {`);for(let r=0;r<t;++r)n.push(`\t(*a)[${e[r]}]=(*i)[${r}];`);return n.push("\t}"),n.join("\n")})(u,l)}\n  ${p.o2iImpl}\n  ${d.i2oImpl}\n\n  ${e.mainStart()}\n    ${e.guardAgainstOutOfBoundsWorkgroupSizes(f)}\n\n    ${p.indicesVariableDeclaration("indices")}\n    ${p.o2iCall("global_idx","indices")}\n    ${d.indicesVariableDeclaration("aIndices")}\n    perm(&aIndices, &indices);\n\n    output[global_idx] = a[${d.i2oExpression("aIndices")}];\n  }`,dispatchGroup:()=>({x:Math.ceil(f/64)})})},t.transpose=(e,n)=>{(e=>{if(!e||1!==e.length)throw new Error("Transpose requires 1 input.");if(1!==e[0].dataType)throw new Error("input should be float tensor")})(e.inputs),e.compute(Object.assign(Object.assign({},t.transposeProgramMetadata),{cacheHint:n.cacheKey,get:()=>(0,t.createTransposeProgramInfo)(e.inputs[0],n.perm)}))},t.parseTransposeAttributes=e=>(0,i.createAttributeWithCacheKey)({perm:e.perm})},9302:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.thresholdedRelu=t.tanh=t.tan=t.sqrt=t.sinh=t.sin=t.sigmoid=t.relu=t.reciprocal=t.neg=t.leakyRelu=t.floor=t.exp=t.erf=t.elu=t.parseAlphaAttributes=t.cosh=t.cos=t.ceil=t.clip=t.clipV10=t.atanh=t.atan=t.asinh=t.asin=t.acosh=t.acos=t.abs=void 0;const r=n(6952),i=n(387),a=n(1163),o=(e,t,n,i,o)=>{const s={name:t,inputTypes:[a.GpuDataType.default],cacheHint:o};return Object.assign(Object.assign({},s),{get:()=>((e,t,n,i)=>Object.assign(Object.assign({},e),{getShaderSource:e=>((e,t,n,r)=>{const i=Math.ceil(t/4);let a="";return a="string"==typeof n?`${n}(a)`:n("a"),`\n  @group(0) @binding(0) var<storage, read> inputData : array<vec4<f32>>;\n  @group(0) @binding(1) var<storage, read_write> outputData : array<vec4<f32>>;\n\n  ${null!=r?r:""}\n\n  ${e.mainStart()}\n    ${e.guardAgainstOutOfBoundsWorkgroupSizes(i)}\n\n    let a = inputData[global_idx];\n    outputData[global_idx] = ${a};\n  }`})(e,r.ShapeUtil.size(t.dims),n,i),outputs:[{dims:t.dims,dataType:t.dataType,gpuDataType:a.GpuDataType.default}],dispatchGroup:e=>({x:Math.ceil(r.ShapeUtil.size(e[0].dims)/64/4)})}))(s,e,n,i)})};t.abs=e=>{e.compute(o(e.inputs[0],"Abs","abs"))},t.acos=e=>{e.compute(o(e.inputs[0],"Acos","acos"))},t.acosh=e=>{e.compute(o(e.inputs[0],"Acosh","acosh"))},t.asin=e=>{e.compute(o(e.inputs[0],"Asin","asin"))},t.asinh=e=>{e.compute(o(e.inputs[0],"Asinh","asinh"))},t.atan=e=>{e.compute(o(e.inputs[0],"Atan","atan"))},t.atanh=e=>{e.compute(o(e.inputs[0],"Atanh","atanh"))},t.clipV10=(e,t)=>{e.compute(o(e.inputs[0],"Clip",(e=>`clamp(${e}, clip_min_, clip_max_)`),`\n    const clip_min_: vec4<f32> = vec4(f32(${t.min}));\n    const clip_max_: vec4<f32> = vec4(f32(${t.max}));\n`,t.cacheKey),{inputs:[0]})},t.clip=e=>{const n=(e=>{const t=e.length>=2?e[1].getFloat32Array()[0]:r.MIN_CLIP,n=e.length>=3?e[2].getFloat32Array()[0]:r.MAX_CLIP;return(0,i.createAttributeWithCacheKey)({min:t,max:n})})(e.inputs);(0,t.clipV10)(e,n)},t.ceil=e=>{e.compute(o(e.inputs[0],"Ceil","ceil"))},t.cos=e=>{e.compute(o(e.inputs[0],"Cos","cos"))},t.cosh=e=>{e.compute(o(e.inputs[0],"Cosh","cosh"))},t.parseAlphaAttributes=e=>(0,i.createAttributeWithCacheKey)(e),t.elu=(e,t)=>{e.compute(o(e.inputs[0],"Elu",(e=>`elu_vf32(${e})`),`\n  const elu_alpha_: f32 = f32(${t.alpha});\n\n  fn elu_f32(a: f32) -> f32 {\n  return select((exp(a) - 1.0) * elu_alpha_, a, a >= 0.0);\n  }\n\n  fn elu_vf32(v: vec4<f32>) -> vec4<f32> {\n  return vec4(elu_f32(v.x), elu_f32(v.y), elu_f32(v.z), elu_f32(v.w));\n  }`,t.cacheKey))},t.erf=e=>{e.compute(o(e.inputs[0],"Erf",(e=>`erf_vf32(${e})`),"\n  const r0: f32 = 0.3275911;\n  const r1: f32 = 0.254829592;\n  const r2: f32 = -0.284496736;\n  const r3: f32 = 1.421413741;\n  const r4: f32 = -1.453152027;\n  const r5: f32 = 1.061405429;\n\n  fn erf_vf32(v: vec4<f32>) -> vec4<f32> {\n    let absv = abs(v);\n    let x = 1.0 / (1.0 + r0 * absv);\n    return sign(v) * (1.0 - ((((r5 * x + r4) * x + r3) * x + r2) * x + r1) * x * exp(-absv * absv));\n  }"))},t.exp=e=>{e.compute(o(e.inputs[0],"Exp","exp"))},t.floor=e=>{e.compute(o(e.inputs[0],"Floor","floor"))},t.leakyRelu=(e,t)=>{e.compute(o(e.inputs[0],"LeakyRelu",(e=>`select(leaky_relu_alpha_ * ${e}, ${e}, ${e} >= vec4<f32>(0.0))`),`const leaky_relu_alpha_: f32 = f32(${t.alpha});`,t.cacheKey))},t.neg=e=>{e.compute(o(e.inputs[0],"Neg",(e=>`-${e}`)))},t.reciprocal=e=>{e.compute(o(e.inputs[0],"Reciprocal",(e=>`1.0/${e}`)))},t.relu=e=>{e.compute(o(e.inputs[0],"Relu",(e=>`select(vec4<f32>(0.0), ${e}, ${e} > vec4<f32>(0.0))`)))},t.sigmoid=e=>{e.compute(o(e.inputs[0],"Sigmoid",(e=>`(1.0 / (1.0 + exp(-${e})))`)))},t.sin=e=>{e.compute(o(e.inputs[0],"Sin","sin"))},t.sinh=e=>{e.compute(o(e.inputs[0],"Sinh","sinh"))},t.sqrt=e=>{e.compute(o(e.inputs[0],"Sqrt","sqrt"))},t.tan=e=>{e.compute(o(e.inputs[0],"Tan","tan"))},t.tanh=e=>{e.compute(o(e.inputs[0],"Tanh","tanh"))},t.thresholdedRelu=(e,t)=>(e.compute(o(e.inputs[0],"ThresholdedRelu",(e=>`select(vec4<f32>(0.0), ${e}, ${e} > thresholded_relu_alpha_)`),`const thresholded_relu_alpha_: vec4<f32> = vec4<f32>(${t.alpha});`,t.cacheKey)),0)},8305:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgramManager=void 0;const r=n(4955),i=n(2075);t.ProgramManager=class{constructor(e){this.backend=e,this.repo=new Map,this.attributesBound=!1}getArtifact(e){return this.repo.get(e)}setArtifact(e,t){this.repo.set(e,t)}run(e,t,n,r){const i=this.backend.device,a=this.backend.getComputePassEncoder();this.backend.profilingEnabled&&a.writeTimestamp(this.backend.profilingQuerySet,0),a.setPipeline(e.computePipeline);const o=[];for(const e of t)o.push({binding:o.length,resource:{buffer:e.buffer}});for(const e of n)o.push({binding:o.length,resource:{buffer:e.buffer}});const s=i.createBindGroup({layout:e.computePipeline.getBindGroupLayout(0),entries:o});if(a.setBindGroup(0,s),a.dispatchWorkgroups(...r),this.backend.pendingDispatchNumber++,this.backend.profilingEnabled){a.writeTimestamp(this.backend.profilingQuerySet,1);const e=this.backend.gpuDataManager.create(16,GPUBufferUsage.COPY_SRC|GPUBufferUsage.QUERY_RESOLVE),t=this.backend.gpuDataManager.create(16,GPUBufferUsage.MAP_READ|GPUBufferUsage.COPY_DST);this.backend.endComputePass(),this.backend.getCommandEncoder().resolveQuerySet(this.backend.profilingQuerySet,0,2,e.buffer,0),this.backend.getCommandEncoder().copyBufferToBuffer(e.buffer,0,t.buffer,0,16),this.backend.flush();const n=this.backend.currentKernelId,r=this.backend.kernels.get(n)[0];t.buffer.mapAsync(GPUMapMode.READ).then((()=>{const i=new BigUint64Array(t.buffer.getMappedRange()),a=i[0],o=i[1];t.buffer.unmap(),void 0===this.backend.profilingTimeBase&&(this.backend.profilingTimeBase=a);const s=Number(a-this.backend.profilingTimeBase),u=Number(o-this.backend.profilingTimeBase);if(!Number.isSafeInteger(s)||!Number.isSafeInteger(u))throw new RangeError("incorrect timestamp range");this.backend.gpuDataManager.release(e.id),this.backend.gpuDataManager.release(t.id),console.log(`[profiling] kernel "${n}|${r}" execution time: ${u-s} ns`)}))}this.backend.pendingDispatchNumber>=16&&this.backend.flush()}dispose(){}build(e,t){const n=this.backend.device,a=e.getShaderSource((0,i.createShaderHelper)(t)),o=n.createShaderModule({code:a});return(0,r.LOG_DEBUG)("verbose",(()=>`[WebGPU] shader code: ${a}`)),{programInfo:e,computePipeline:n.createComputePipeline({compute:{module:o,entryPoint:"main"},layout:"auto"})}}normalizeDispatchGroupSize(e){const t="number"==typeof e?e:e.x,n="number"==typeof e?1:e.y||1,r="number"==typeof e?1:e.z||1,i=this.backend.device.limits.maxComputeWorkgroupsPerDimension;if(t<=i&&n<=i&&r<=i)return[t,n,r];const a=t*n*r;let o=Math.ceil(Math.sqrt(a));if(o>i){if(o=Math.ceil(Math.cbrt(a)),o>i)throw new Error("Total dispatch size exceeds WebGPU maximum.");return[o,o,o]}return[o,o,1]}}},1163:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.GpuDataType=void 0,(n=t.GpuDataType||(t.GpuDataType={}))[n.default=0]="default",n[n.upload=1]="upload",n[n.profile=2]="profile"},3899:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.iterateExtraOptions=void 0,t.iterateExtraOptions=(e,n,r,i)=>{if("object"==typeof e&&null!==e){if(r.has(e))throw new Error("Circular reference in options");r.add(e)}Object.entries(e).forEach((([e,a])=>{const o=n?n+e:e;if("object"==typeof a)(0,t.iterateExtraOptions)(a,o+".",r,i);else if("string"==typeof a||"number"==typeof a)i(o,a.toString());else{if("boolean"!=typeof a)throw new Error("Can't handle extra config type: "+typeof a);i(o,a?"1":"0")}}))}},9544:function(e,t,n){"use strict";var r,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.endProfiling=t.run=t.releaseSession=t.createSession=t.createSessionFinalize=t.createSessionAllocate=t.initializeRuntime=t.initializeWebAssemblyInstance=void 0;const s=n(8453),u=o(n(1259)),c=n(263),l=()=>!!s.env.wasm.proxy&&"undefined"!=typeof document;let f,p,d,h=!1,m=!1,g=!1;const v=[],y=[],w=[],_=[],b=[],k=[],$=()=>{if(h||!m||g||!f)throw new Error("worker not ready")},S=e=>{switch(e.data.type){case"init-wasm":h=!1,e.data.err?(g=!0,p[1](e.data.err)):(m=!0,p[0]());break;case"init-ort":e.data.err?d[1](e.data.err):d[0]();break;case"create_allocate":e.data.err?v.shift()[1](e.data.err):v.shift()[0](e.data.out);break;case"create_finalize":e.data.err?y.shift()[1](e.data.err):y.shift()[0](e.data.out);break;case"create":e.data.err?w.shift()[1](e.data.err):w.shift()[0](e.data.out);break;case"release":e.data.err?_.shift()[1](e.data.err):_.shift()[0]();break;case"run":e.data.err?b.shift()[1](e.data.err):b.shift()[0](e.data.out);break;case"end-profiling":e.data.err?k.shift()[1](e.data.err):k.shift()[0]()}},O="undefined"!=typeof document?null===(r=null===document||void 0===document?void 0:document.currentScript)||void 0===r?void 0:r.src:void 0;t.initializeWebAssemblyInstance=async()=>{if(l()){if(m)return;if(h)throw new Error("multiple calls to 'initWasm()' detected.");if(g)throw new Error("previous call to 'initWasm()' failed.");return h=!0,void 0===s.env.wasm.wasmPaths&&O&&0!==O.indexOf("blob:")&&(s.env.wasm.wasmPaths=O.substr(0,+O.lastIndexOf("/")+1)),new Promise(((e,t)=>{null==f||f.terminate(),f=n(8050).Z(),f.onmessage=S,p=[e,t];const r={type:"init-wasm",in:s.env.wasm};f.postMessage(r)}))}return(0,c.initializeWebAssembly)(s.env.wasm)},t.initializeRuntime=async e=>{if(l())return $(),new Promise(((t,n)=>{d=[t,n];const r={type:"init-ort",in:e};f.postMessage(r)}));await u.initRuntime(e)},t.createSessionAllocate=async e=>l()?($(),new Promise(((t,n)=>{v.push([t,n]);const r={type:"create_allocate",in:{model:e}};f.postMessage(r,[e.buffer])}))):u.createSessionAllocate(e),t.createSessionFinalize=async(e,t)=>l()?($(),new Promise(((n,r)=>{y.push([n,r]);const i={type:"create_finalize",in:{modeldata:e,options:t}};f.postMessage(i)}))):u.createSessionFinalize(e,t),t.createSession=async(e,t)=>l()?($(),new Promise(((n,r)=>{w.push([n,r]);const i={type:"create",in:{model:e,options:t}};f.postMessage(i,[e.buffer])}))):u.createSession(e,t),t.releaseSession=async e=>{if(l())return $(),new Promise(((t,n)=>{_.push([t,n]);const r={type:"release",in:e};f.postMessage(r)}));u.releaseSession(e)},t.run=async(e,t,n,r,i)=>l()?($(),new Promise(((a,o)=>{b.push([a,o]);const s={type:"run",in:{sessionId:e,inputIndices:t,inputs:n,outputIndices:r,options:i}};f.postMessage(s,u.extractTransferableBuffers(n))}))):u.run(e,t,n,r,i),t.endProfiling=async e=>{if(l())return $(),new Promise(((t,n)=>{k.push([t,n]);const r={type:"end-profiling",in:e};f.postMessage(r)}));u.endProfiling(e)}},7918:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setRunOptions=void 0;const r=n(3899),i=n(9444),a=n(263);t.setRunOptions=e=>{const t=(0,a.getInstance)();let n=0;const o=[],s=e||{};try{if(void 0===(null==e?void 0:e.logSeverityLevel))s.logSeverityLevel=2;else if("number"!=typeof e.logSeverityLevel||!Number.isInteger(e.logSeverityLevel)||e.logSeverityLevel<0||e.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${e.logSeverityLevel}`);if(void 0===(null==e?void 0:e.logVerbosityLevel))s.logVerbosityLevel=0;else if("number"!=typeof e.logVerbosityLevel||!Number.isInteger(e.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${e.logVerbosityLevel}`);void 0===(null==e?void 0:e.terminate)&&(s.terminate=!1);let a=0;if(void 0!==(null==e?void 0:e.tag)&&(a=(0,i.allocWasmString)(e.tag,o)),n=t._OrtCreateRunOptions(s.logSeverityLevel,s.logVerbosityLevel,!!s.terminate,a),0===n)throw new Error("Can't create run options");return void 0!==(null==e?void 0:e.extra)&&(0,r.iterateExtraOptions)(e.extra,"",new WeakSet,((e,r)=>{const a=(0,i.allocWasmString)(e,o),s=(0,i.allocWasmString)(r,o);if(0!==t._OrtAddRunConfigEntry(n,a,s))throw new Error(`Can't set a run config entry: ${e} - ${r}`)})),[n,o]}catch(e){throw 0!==n&&t._OrtReleaseRunOptions(n),o.forEach(t._free),e}}},6640:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnnxruntimeWebAssemblySessionHandler=void 0;const r=n(2806),i=n(8453),a=n(2850),o=n(9544);let s;t.OnnxruntimeWebAssemblySessionHandler=class{async createSessionAllocate(e){const t=await fetch(e),n=await t.arrayBuffer();return(0,o.createSessionAllocate)(new Uint8Array(n))}async loadModel(e,t){if(s||(await(0,o.initializeRuntime)(i.env),s=!0),"string"==typeof e)if("undefined"==typeof fetch){const n=await(0,a.promisify)(r.readFile)(e);[this.sessionId,this.inputNames,this.outputNames]=await(0,o.createSession)(n,t)}else{const n=await this.createSessionAllocate(e);[this.sessionId,this.inputNames,this.outputNames]=await(0,o.createSessionFinalize)(n,t)}else[this.sessionId,this.inputNames,this.outputNames]=await(0,o.createSession)(e,t)}async dispose(){return(0,o.releaseSession)(this.sessionId)}async run(e,t,n){const r=[],a=[];Object.entries(e).forEach((e=>{const t=e[0],n=e[1],i=this.inputNames.indexOf(t);if(-1===i)throw new Error(`invalid input '${t}'`);r.push(n),a.push(i)}));const s=[];Object.entries(t).forEach((e=>{const t=e[0],n=this.outputNames.indexOf(t);if(-1===n)throw new Error(`invalid output '${t}'`);s.push(n)}));const u=await(0,o.run)(this.sessionId,a,r.map((e=>[e.type,e.dims,e.data])),s,n),c={};for(let e=0;e<u.length;e++)c[this.outputNames[s[e]]]=new i.Tensor(u[e][0],u[e][2],u[e][1]);return c}startProfiling(){}endProfiling(){(0,o.endProfiling)(this.sessionId)}}},7622:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSessionOptions=void 0;const r=n(3899),i=n(9444),a=n(263);t.setSessionOptions=e=>{var t,n,o,s;const u=(0,a.getInstance)();let c=0;const l=[],f=e||{};(e=>{e.extra||(e.extra={}),e.extra.session||(e.extra.session={});const t=e.extra.session;t.use_ort_model_bytes_directly||(t.use_ort_model_bytes_directly="1"),e.executionProviders&&e.executionProviders.some((e=>"webgpu"===("string"==typeof e?e:e.name)))&&(e.enableMemPattern=!1)})(f);try{const e=(e=>{switch(e){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${e}`)}})(null!==(t=f.graphOptimizationLevel)&&void 0!==t?t:"all"),p=(e=>{switch(e){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${e}`)}})(null!==(n=f.executionMode)&&void 0!==n?n:"sequential"),d="string"==typeof f.logId?(0,i.allocWasmString)(f.logId,l):0,h=null!==(o=f.logSeverityLevel)&&void 0!==o?o:2;if(!Number.isInteger(h)||h<0||h>4)throw new Error(`log serverity level is not valid: ${h}`);const m=null!==(s=f.logVerbosityLevel)&&void 0!==s?s:0;if(!Number.isInteger(m)||m<0||m>4)throw new Error(`log verbosity level is not valid: ${m}`);const g="string"==typeof f.optimizedModelFilePath?(0,i.allocWasmString)(f.optimizedModelFilePath,l):0;if(c=u._OrtCreateSessionOptions(e,!!f.enableCpuMemArena,!!f.enableMemPattern,p,!!f.enableProfiling,0,d,h,m,g),0===c)throw new Error("Can't create session options");return f.executionProviders&&((e,t,n)=>{for(const r of t){let t="string"==typeof r?r:r.name;switch(t){case"xnnpack":t="XNNPACK";break;case"webnn":if(t="WEBNN","string"!=typeof r){const t=r;if(null==t?void 0:t.deviceType){const r=(0,i.allocWasmString)("deviceType",n),o=(0,i.allocWasmString)(t.deviceType,n);if(0!==(0,a.getInstance)()._OrtAddSessionConfigEntry(e,r,o))throw new Error(`Can't set a session config entry: 'deviceType' - ${t.deviceType}`)}if(null==t?void 0:t.powerPreference){const r=(0,i.allocWasmString)("powerPreference",n),o=(0,i.allocWasmString)(t.powerPreference,n);if(0!==(0,a.getInstance)()._OrtAddSessionConfigEntry(e,r,o))throw new Error(`Can't set a session config entry: 'powerPreference' - ${t.powerPreference}`)}}break;case"webgpu":t="JS";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported EP: ${t}`)}const o=(0,i.allocWasmString)(t,n);if(0!==(0,a.getInstance)()._OrtAppendExecutionProvider(e,o))throw new Error(`Can't append execution provider: ${t}`)}})(c,f.executionProviders,l),void 0!==f.extra&&(0,r.iterateExtraOptions)(f.extra,"",new WeakSet,((e,t)=>{const n=(0,i.allocWasmString)(e,l),r=(0,i.allocWasmString)(t,l);if(0!==u._OrtAddSessionConfigEntry(c,n,r))throw new Error(`Can't set a session config entry: ${e} - ${t}`)})),[c,l]}catch(e){throw 0!==c&&u._OrtReleaseSessionOptions(c),l.forEach(u._free),e}}},9444:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.allocWasmString=void 0;const r=n(263);t.allocWasmString=(e,t)=>{const n=(0,r.getInstance)(),i=n.lengthBytesUTF8(e)+1,a=n._malloc(i);return n.stringToUTF8(e,a,i),t.push(a),a}},7917:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logLevelStringToEnum=t.tensorTypeToTypedArrayConstructor=t.getTensorElementSize=t.tensorDataTypeEnumToString=t.tensorDataTypeStringToEnum=void 0,t.tensorDataTypeStringToEnum=e=>{switch(e){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${e}`)}},t.tensorDataTypeEnumToString=e=>{switch(e){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:case 10:return"uint16";case 6:return"int32";case 12:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${e}`)}},t.getTensorElementSize=e=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][e],t.tensorTypeToTypedArrayConstructor=e=>{switch(e){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${e}`)}},t.logLevelStringToEnum=e=>{switch(e){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${e}`)}}},1259:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractTransferableBuffers=t.endProfiling=t.run=t.releaseSession=t.createSession=t.createSessionFinalize=t.createSessionAllocate=t.initRuntime=void 0;const r=n(7675),i=n(7918),a=n(7622),o=n(9444),s=n(7917),u=n(263);t.initRuntime=async e=>{await(async(e,t)=>{const n=(0,u.getInstance)()._OrtInit(e,t);if(0!==n)throw new Error(`Can't initialize onnxruntime. error code = ${n}`)})(e.wasm.numThreads,(0,s.logLevelStringToEnum)(e.logLevel)),await(0,r.init)((0,u.getInstance)(),e)};const c=new Map;t.createSessionAllocate=e=>{const t=(0,u.getInstance)(),n=t._malloc(e.byteLength);return t.HEAPU8.set(e,n),[n,e.byteLength]},t.createSessionFinalize=(e,t)=>{const n=(0,u.getInstance)();let r=0,i=0,o=[];try{if([i,o]=(0,a.setSessionOptions)(t),r=n._OrtCreateSession(e[0],e[1],i),0===r)throw new Error("Can't create a session")}finally{n._free(e[0]),0!==i&&n._OrtReleaseSessionOptions(i),o.forEach(n._free)}const s=n._OrtGetInputCount(r),l=n._OrtGetOutputCount(r),f=[],p=[],d=[],h=[];for(let e=0;e<s;e++){const t=n._OrtGetInputName(r,e);if(0===t)throw new Error("Can't get an input name");p.push(t),f.push(n.UTF8ToString(t))}for(let e=0;e<l;e++){const t=n._OrtGetOutputName(r,e);if(0===t)throw new Error("Can't get an output name");h.push(t),d.push(n.UTF8ToString(t))}return c.set(r,[r,p,h]),[r,f,d]},t.createSession=(e,n)=>{const r=(0,t.createSessionAllocate)(e);return(0,t.createSessionFinalize)(r,n)},t.releaseSession=e=>{const t=(0,u.getInstance)(),n=c.get(e);if(!n)throw new Error("invalid session id");const r=n[0],i=n[1],a=n[2];i.forEach(t._OrtFree),a.forEach(t._OrtFree),t._OrtReleaseSession(r),c.delete(e)},t.run=async(e,t,n,r,a)=>{const l=(0,u.getInstance)(),f=c.get(e);if(!f)throw new Error("invalid session id");const p=f[0],d=f[1],h=f[2],m=t.length,g=r.length;let v=0,y=[];const w=[],_=[];try{[v,y]=(0,i.setRunOptions)(a);for(let e=0;e<m;e++){const t=n[e][0],r=n[e][1],i=n[e][2];let a,u;if(Array.isArray(i)){u=4*i.length,a=l._malloc(u),_.push(a);let e=a/4;for(let t=0;t<i.length;t++){if("string"!=typeof i[t])throw new TypeError(`tensor data at index ${t} is not a string`);l.HEAPU32[e++]=(0,o.allocWasmString)(i[t],_)}}else u=i.byteLength,a=l._malloc(u),_.push(a),l.HEAPU8.set(new Uint8Array(i.buffer,i.byteOffset,u),a);const c=l.stackSave(),f=l.stackAlloc(4*r.length);try{let e=f/4;r.forEach((t=>l.HEAP32[e++]=t));const n=l._OrtCreateTensor((0,s.tensorDataTypeStringToEnum)(t),a,u,f,r.length);if(0===n)throw new Error("Can't create a tensor");w.push(n)}finally{l.stackRestore(c)}}const e=l.stackSave(),u=l.stackAlloc(4*m),c=l.stackAlloc(4*m),f=l.stackAlloc(4*g),b=l.stackAlloc(4*g);try{let e=u/4,n=c/4,i=f/4,a=b/4;for(let r=0;r<m;r++)l.HEAPU32[e++]=w[r],l.HEAPU32[n++]=d[t[r]];for(let e=0;e<g;e++)l.HEAPU32[i++]=0,l.HEAPU32[a++]=h[r[e]];let o=l._OrtRun(p,c,u,m,b,g,f,v);const y=l.jsepRunPromise;y&&void 0!==y.then&&(o=await y);const _=[];if(0===o)for(let e=0;e<g;e++){const t=l.HEAPU32[f/4+e],n=l.stackSave(),r=l.stackAlloc(16);let i,a=0;try{if(o=l._OrtGetTensorData(t,r,r+4,r+8,r+12),0!==o)throw new Error(`Can't access output tensor data. error code = ${o}`);let e=r/4;const n=l.HEAPU32[e++];a=l.HEAPU32[e++];const u=l.HEAPU32[e++],c=l.HEAPU32[e++],f=[];for(let e=0;e<c;e++)f.push(l.HEAPU32[u/4+e]);l._OrtFree(u);const p=0===f.length?1:f.reduce(((e,t)=>e*t));if(i=(0,s.tensorDataTypeEnumToString)(n),"string"===i){const e=[];let t=a/4;for(let n=0;n<p;n++){const r=l.HEAPU32[t++],i=n===p-1?void 0:l.HEAPU32[t]-r;e.push(l.UTF8ToString(r,i))}_.push([i,f,e])}else{const e=new((0,s.tensorTypeToTypedArrayConstructor)(i))(p);new Uint8Array(e.buffer,e.byteOffset,e.byteLength).set(l.HEAPU8.subarray(a,a+e.byteLength)),_.push([i,f,e])}}finally{l.stackRestore(n),"string"===i&&a&&l._free(a),l._OrtReleaseTensor(t)}}if(0===o)return _;throw new Error(`failed to call OrtRun(). error code = ${o}.`)}finally{l.stackRestore(e)}}finally{w.forEach(l._OrtReleaseTensor),_.forEach(l._free),l._OrtReleaseRunOptions(v),y.forEach(l._free)}},t.endProfiling=e=>{const t=(0,u.getInstance)(),n=c.get(e);if(!n)throw new Error("invalid session id");const r=n[0],i=t._OrtEndProfiling(r);if(0===i)throw new Error("Can't get an profile file name");t._OrtFree(i)},t.extractTransferableBuffers=e=>{const t=[];for(const n of e){const e=n[2];!Array.isArray(e)&&e.buffer&&t.push(e.buffer)}return t}},263:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.dispose=t.getInstance=t.initializeWebAssembly=void 0;const o=a(n(6449)),s=n(932),u=n(3474);let c,l=!1,f=!1,p=!1;t.initializeWebAssembly=async e=>{if(l)return Promise.resolve();if(f)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(p)throw new Error("previous call to 'initializeWebAssembly()' failed.");f=!0;const t=e.initTimeout,r=e.numThreads,i=e.simd,a=r>1&&(()=>{try{return"undefined"!=typeof SharedArrayBuffer&&("undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch(e){return!1}})(),d=i&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch(e){return!1}})(),h=e.wasmPaths,m="string"==typeof h?h:void 0,g=((e,t)=>t?e?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":e?"ort-wasm-simd.wasm":"ort-wasm.wasm")(d,a),v="object"==typeof h?h[g]:void 0;let y=!1;const w=[];if(t>0&&w.push(new Promise((e=>{setTimeout((()=>{y=!0,e()}),t)}))),w.push(new Promise(((e,t)=>{const r=a?u:s,i={locateFile:(e,t)=>a&&e.endsWith(".worker.js")&&"undefined"!=typeof Blob?URL.createObjectURL(new Blob([n(4154)],{type:"text/javascript"})):e.endsWith(".wasm")?v||(null!=m?m:t)+g:t+e};if(a)if("undefined"==typeof Blob)i.mainScriptUrlOrBlob=o.join("/","ort-wasm-threaded.js");else{const e=`var ortWasmThreaded=(function(){var _scriptDir;return ${r.toString()}})();`;i.mainScriptUrlOrBlob=new Blob([e],{type:"text/javascript"})}r(i).then((t=>{f=!1,l=!0,c=t,e()}),(e=>{f=!1,p=!0,t(e)}))}))),await Promise.race(w),y)throw new Error(`WebAssembly backend initializing failed due to timeout: ${t}ms`)},t.getInstance=()=>{if(l&&c)return c;throw new Error("WebAssembly is not initialized yet.")},t.dispose=()=>{var e;!l||f||p||(f=!0,null===(e=c.PThread)||void 0===e||e.terminateAllThreads(),c=void 0,f=!1,l=!1,p=!0)}},8050:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(6614),i=n.n(r);function a(){return i()('/*!\n* ONNX Runtime Web v1.16.0\n* Copyright (c) Microsoft Corporation. All rights reserved.\n* Licensed under the MIT License.\n*/\n(()=>{var e={838:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebGpuBackend=void 0;const r=n(955),i=n(771),a=n(510),o=n(305);t.WebGpuBackend=class{constructor(){this.currentKernelId=null,this.commandEncoder=null,this.computePassEncoder=null,this.pendingDispatchNumber=0,this.profilingEnabled=!1}get currentKernelCustomData(){if(null===this.currentKernelId)throw new Error("currentKernelCustomData(): currentKernelId is null. (should not happen)");let e=this.kernelCustomData.get(this.currentKernelId);return e||(e={},this.kernelCustomData.set(this.currentKernelId,e)),e}async initialize(e){if(!navigator.gpu)throw new Error("WebGpuBackend: WebGPU is not available.");const t=await navigator.gpu.requestAdapter();if(!t)throw new Error("WebGpuBackend: Failed to get GPU adapter.");const n={requiredLimits:{maxComputeWorkgroupStorageSize:t.limits.maxComputeWorkgroupStorageSize,maxComputeWorkgroupsPerDimension:t.limits.maxComputeWorkgroupsPerDimension,maxStorageBufferBindingSize:t.limits.maxStorageBufferBindingSize}};t.features.has("timestamp-query-inside-passes")&&"default"===e.webgpu.profilingMode&&(this.profilingEnabled=!0,n.requiredFeatures=["timestamp-query-inside-passes"]),this.device=await t.requestDevice(n),this.gpuDataManager=(0,i.createGpuDataManager)(this),this.programManager=new o.ProgramManager(this),this.kernels=new Map,this.kernelPersistentData=new Map,this.kernelCustomData=new Map,(0,r.configureLogger)(e.logLevel,!!e.debug),this.device.onuncapturederror=e=>{e.error instanceof GPUValidationError&&console.error(`An uncaught WebGPU validation error was raised: ${e.error.message}`)},this.profilingEnabled&&(this.profilingQuerySet=this.device.createQuerySet({type:"timestamp",count:2}))}dispose(){}getCommandEncoder(){return this.commandEncoder||(this.commandEncoder=this.device.createCommandEncoder()),this.commandEncoder}getComputePassEncoder(){return this.computePassEncoder||(this.computePassEncoder=this.getCommandEncoder().beginComputePass()),this.computePassEncoder}endComputePass(){this.computePassEncoder&&(this.computePassEncoder.end(),this.computePassEncoder=null)}flush(){this.endComputePass(),this.device.queue.submit([this.getCommandEncoder().finish()]),this.gpuDataManager.refreshPendingBuffers(),this.commandEncoder=null,this.pendingDispatchNumber=0}run(e,t,n,i,a){if(t.length!==e.inputTypes.length)throw new Error(`Input size must be equal to ${e.inputTypes.length}.`);const o=[];for(let e=0;e<t.length;++e){const n=this.gpuDataManager.get(t[e].data);if(!n)throw new Error(`no GPU data for input: ${t[e].data}`);o[e]=n}const s=((e,t,n)=>{const r=t.map((e=>`${e.join(",")}`)).join("_"),i=n.join("_");let a=e.name;return e.cacheHint&&(a+="["+e.cacheHint+"]"),a+=":"+r+";"+i,a})(e,t.map((e=>e.dims)),o.map((e=>e.type)));let u=this.programManager.getArtifact(s);const c=u?u.programInfo:"function"==typeof e.get?e.get():e,l=0===n.length?c.outputs.map(((e,t)=>t)):n;if(l.length!==c.outputs.length)throw new Error(`Output size ${l.length} must be equal to ${c.outputs.length}.`);const f=[],p=[];for(let e=0;e<c.outputs.length;++e){if(!Number.isInteger(l[e])||l[e]<-2||l[e]>=c.outputs.length)throw new Error(`Invalid output index: ${l[e]}`);const t=-1===l[e],n=-2===l[e],r=t||n?a(c.outputs[e].dataType,c.outputs[e].dims):i(l[e],c.outputs[e].dataType,c.outputs[e].dims),o=this.gpuDataManager.get(r.data);if(!o)throw new Error(`no GPU data for output: ${r.data}`);if(t&&this.temporaryData.push(o),n){let e=this.kernelPersistentData.get(this.currentKernelId);e||(e=[],this.kernelPersistentData.set(this.currentKernelId,e)),e.push(o)}f.push(r),p.push(o)}const d=this.programManager.normalizeDispatchGroupSize(c.dispatchGroup(t));return u||(u=this.programManager.build(c,d),this.programManager.setArtifact(s,u)),(0,r.LOG_DEBUG)("info",(()=>`[ProgramManager] run "${c.name}" (key=${s}) with ${d[0]}x${d[1]}x${d[2]}`)),this.programManager.run(u,o,p,d),f}upload(e,t){this.gpuDataManager.upload(e,t)}memcpy(e,t){this.gpuDataManager.memcpy(e,t)}async download(e,t){const n=await this.gpuDataManager.download(e);t().set(new Uint8Array(n))}alloc(e){return this.gpuDataManager.create(e).id}free(e){return this.gpuDataManager.release(e)}createKernel(e,t,n){const r=a.WEBGPU_OP_RESOLVE_RULES.get(e);if(!r)throw new Error(`kernel not implemented: ${e}`);this.kernels.set(t,[e,r[0],[r[1],n]])}releaseKernel(e){const t=this.kernelPersistentData.get(e);if(t){for(const e of t)this.gpuDataManager.release(e.id);this.kernelPersistentData.delete(e)}this.kernelCustomData.delete(e),this.kernels.delete(e)}computeKernel(e,t){const n=this.kernels.get(e);if(!n)throw new Error(`kernel not created: ${e}`);const[i,a,o]=n;if(null!==this.currentKernelId)throw new Error(`kernel "${i}" is not allowed to be called recursively`);this.currentKernelId=e,o[0]&&(o[1]=o[0](o[1]),o[0]=void 0),(0,r.LOG_DEBUG)("info",(()=>`[WebGPU] Start to run kernel "${i}"...`)),this.temporaryData=[];try{return a(t,o[1]),0}catch(e){return(0,r.LOG_DEBUG)("warning",`[WebGPU] Kernel "${i}" failed. Error: ${e}`),1}finally{for(const e of this.temporaryData)this.gpuDataManager.release(e.id);this.temporaryData=[],this.currentKernelId=null}}}},675:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;const r=n(917),i=n(838),a=n(955),o=n(952);class s{constructor(e,t,n,r){this.module=e,this.dataType=t,this.data=n,this.dims=r}getFloat32Array(){return new Float32Array(this.module.HEAP8.buffer,this.data,o.ShapeUtil.size(this.dims))}reshape(e){if(o.ShapeUtil.size(e)!==o.ShapeUtil.size(this.dims))throw new Error("Invalid new shape");return new s(this.module,this.dataType,this.data,e)}}class u{get customData(){return this.backend.currentKernelCustomData}constructor(e,t,n){this.module=e,this.backend=t;const r=e.HEAPU32;let i=n>>2;this.opKernelContext=r[i++];const a=r[i++],o=[];for(let t=0;t<a;t++){const t=r[i++],n=r[i++],a=r[i++],u=[];for(let e=0;e<a;e++)u.push(r[i++]);o.push(new s(e,t,n,u))}this.inputs=o}compute(e,t){var n,i,a;const u=null!==(i=null===(n=null==t?void 0:t.inputs)||void 0===n?void 0:n.map((e=>"number"==typeof e?this.inputs[e]:e)))&&void 0!==i?i:this.inputs,c=null!==(a=null==t?void 0:t.outputs)&&void 0!==a?a:[];return this.backend.run(e,u,c,((e,t,n)=>new s(this.module,t,this.output(e,n),n)),((e,t)=>{const n=(0,r.getTensorElementSize)(e);if(!n)throw new Error(`Unsupported data type: ${e}`);const i=n*o.ShapeUtil.size(t);return new s(this.module,e,this.backend.gpuDataManager.create(i).id,t)}))}output(e,t){const n=this.module.stackSave();try{const n=this.module.stackAlloc(4*(1+t.length));let r=n>>2;this.module.HEAPU32[r++]=t.length;for(let e=0;e<t.length;e++)this.module.HEAPU32[r++]=t[e];return this.module._JsepOutput(this.opKernelContext,e,n)}finally{this.module.stackRestore(n)}}}t.init=async(e,t)=>{const n=e.jsepInit;if(n&&navigator.gpu){if(!t.wasm.simd)throw new Error("Not supported for WebGPU=ON and SIMD=OFF. Please set `env.wasm.simd` to true when using WebGPU EP");const r=new i.WebGpuBackend;await r.initialize(t),n({backend:r},(e=>r.alloc(e)),(e=>r.free(e)),((t,n,i,o=!1)=>{if(o)(0,a.LOG_DEBUG)("verbose",(()=>`[WebGPU] jsepCopyGpuToGpu: src=${t}, dst=${n}, size=${i}`)),r.memcpy(t,n);else{(0,a.LOG_DEBUG)("verbose",(()=>`[WebGPU] jsepCopyCpuToGpu: dataOffset=${t}, gpuDataId=${n}, size=${i}`));const o=e.HEAPU8.subarray(t,t+i);r.upload(n,o)}}),(async(t,n,i)=>{(0,a.LOG_DEBUG)("verbose",(()=>`[WebGPU] jsepCopyGpuToCpu: gpuDataId=${t}, dataOffset=${n}, size=${i}`)),await r.download(t,(()=>e.HEAPU8.subarray(n,n+i)))}),((e,t,n)=>r.createKernel(e,t,n)),(e=>r.releaseKernel(e)),((t,n)=>{(0,a.LOG_DEBUG)("verbose",(()=>`[WebGPU] jsepRun: kernel=${t}, contextDataOffset=${n}`));const i=new u(e,r,n);return r.computeKernel(t,i)}))}}},955:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LOG_DEBUG=t.LOG=t.configureLogger=void 0;const r=n(917),i=["V","I","W","E","F"];let a,o;t.configureLogger=(e,t)=>{a=e,o=t},t.LOG=(e,t)=>{const n=(0,r.logLevelStringToEnum)(e);var o,s;n>=(0,r.logLevelStringToEnum)(a)&&(o=n,s="function"==typeof t?t():t,console.log(`[${i[o]},${(new Date).toISOString()}]${s}`))},t.LOG_DEBUG=(...e)=>{o&&(0,t.LOG)(...e)}},952:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_CLIP=t.MIN_CLIP=t.GemmUtil=t.PoolConvUtil=t.ShapeUtil=t.BroadcastUtil=t.MatMulUtil=void 0;class n{static calcMatMulShape(e,t){return e[1]!==t[0]?void 0:[e[0],t[1]]}}t.MatMulUtil=n;class r{static calcShape(e,t,r=!1){const i=e.length,a=t.length;if(0===i)return t;if(0===a)return e;const o=Math.max(e.length,t.length),s=new Array(o);if(r){if(i<2||a<2)return;const r=n.calcMatMulShape([e[i-2],e[i-1]],[t[a-2],t[a-1]]);if(void 0===r)return;[s[o-2],s[o-1]]=r}for(let n=r?3:1;n<=o;n++){const r=i-n<0?1:e[i-n],u=a-n<0?1:t[a-n];if(r!==u&&r>1&&u>1)return;s[o-n]=Math.max(r,u)}return s}static isValidBroadcast(e,t){const n=e.length,r=t.length;if(n>r)return!1;for(let i=1;i<=n;i++)if(1!==e[n-i]&&e[n-i]!==t[r-i])return!1;return!0}}t.BroadcastUtil=r;class i{static size(e){return i.getSizeFromDimensionRange(e,0,e.length)}static sizeFromDimension(e,t){if(t<0||t>e.length)throw new Error(`invalid dimension of ${t} for sizeFromDimension as Tensor has ${e.length} dimensions.`);return i.getSizeFromDimensionRange(e,t,e.length)}static sizeToDimension(e,t){if(t<0||t>e.length)throw new Error(`invalid dimension of ${t} for sizeToDimension as Tensor has ${e.length} dimensions.`);return i.getSizeFromDimensionRange(e,0,t)}static getSizeFromDimensionRange(e,t,n){let r=1;for(let i=t;i<n;i++){if(e[i]<=0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains 0 or negative values in them.");r*=e[i]}return r}static computeStrides(e){const t=e.length;if(0===t)return[];if(1===t)return[1];const n=new Array(t);n[t-1]=1,n[t-2]=e[t-1];for(let r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}static normalizeAxis(e,t){if(e<-t&&e>=t)throw new Error("unsupported axis for this operation.");return e<0?e+t:e}static normalizeAxes(e,t){return e.map((n=>this.normalizeAxis(n,null!=t?t:e.length)))}static sortBasedOnPerm(e,t){return t?t.map((t=>e[t])):e.slice().reverse()}static padShape(e,t){const n=e.length;return e.map(((e,r)=>e+t[r]+t[r+n]))}static areEqual(e,t){return e.length===t.length&&e.every(((e,n)=>e===t[n]))}}t.ShapeUtil=i;class a{static adjustPoolAttributes(e,t,n,r,i,a){if(!e&&n.length!==t.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(e)for(let e=0;e<t.length-2;e++)e>=n.length?n.push(t[e+2]):n[e]=t[e+2];for(let e=0;e<n.length;e++)if(e<r.length){if(r[e]<0)throw new Error("strides should be greater than or equal to 1")}else r.push(1);for(let e=0;e<n.length;e++)if(e<i.length){if(i[e]<0)throw new Error("dilations should be greater than or equal to 1")}else i.push(1);for(let e=0;e<2*n.length;e++)if(e<a.length){if(a[e]<0)throw new Error("pad should be greater than or equal to 1")}else a.push(0);for(let e=0;e<n.length;e++){if(n[e]<=0)throw new Error("kernel shapes need to be greater than 0");if(a[e]>=n[e]||a[e+n.length]>=n[e])throw new Error("pads should be smaller than kernel")}}static adjustPadsBasedOnAutoPad(e,t,n,r,i,o,s){if(s){if(i.length!==2*(e.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(t.length!==e.length-2)throw new Error("length of strides should be the length of data dimensions");if(r.length!==e.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(let u=0;u<e.length-2;u++)a.adjustPadAndReturnShape(e[u+(o?1:2)],t[u],n[u],r[u],i,u,u+e.length-2,s)}}static computePoolOutputShape(e,t,n,r,i,o,s){if(t.length<=0)throw new Error("input shape must be of size greater than 0");const u=[t[0],t[1]];return a.computeShapeHelper(e,t,u,n,r,i,o,s),u}static computeConvOutputShape(e,t,n,r,i,o,s){if(e.length<=0||t.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");const u=[e[0],t[0]];return a.computeShapeHelper(!1,e,u,n,r,i,o,s),u}static computeShapeHelper(e,t,n,r,i,o,s,u){if(e)for(let e=0;e<t.length-2;e++)n.push(1);else for(let e=0;e<t.length-2;e++)n.push(a.adjustPadAndReturnShape(t[e+2],r[e],i[e],o[e],s,e,e+t.length-2,u))}static adjustPadAndReturnShape(e,t,n,r,i,a,o,s){const u=n*(r-1)+1;if(!s||"NOTSET"===s)return Math.floor((e+i[a]+i[o]-u)/t+1);switch(s){case"VALID":return i[a]=0,i[o]=0,Math.floor((e-u)/t+1);case"SAME_LOWER":case"SAME_UPPER":if(1!==n)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");{const n=((e+t-1)/t-1)*t+r-e;return i[a]="SAME_LOWER"===s?Math.floor((n+1)/2):Math.floor(n/2),i[o]=n-i[a],Math.floor((e+n-r)/t+1)}default:throw new Error("Unsupported AutoPad type")}}}t.PoolConvUtil=a,t.GemmUtil=class{static getShapeOfGemmResult(e,t,n,i,a){if(2!==e.length||2!==n.length)throw new Error("shape need to be of size 2");let o,s,u;t?(o=e[1],s=e[0]):(o=e[0],s=e[1]);let c=-1;if(i?(u=n[0],c=1):(u=n[1],c=0),n[c]!==s)throw new Error("dimension mismatch");if(o<=0||u<=0||s<=0)throw new Error("invalid shape specified");if(a&&!r.isValidBroadcast(a,[o,u]))throw new Error("gemm: invalid bias shape for broadcast");return[o,u,s]}},t.MIN_CLIP=-34028234663852886e22,t.MAX_CLIP=34028234663852886e22},387:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createAttributeWithCacheKey=void 0;class n{constructor(e){Object.assign(this,e)}get cacheKey(){return this._cacheKey||(this._cacheKey=Object.getOwnPropertyNames(this).sort().map((e=>`${this[e]}`)).join(";")),this._cacheKey}}t.createAttributeWithCacheKey=e=>new n(e)},771:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createGpuDataManager=void 0;const r=n(955),i=n(163),a=e=>16*Math.ceil(e/16);let o=0;class s{constructor(e){this.backend=e,this.storageCache=new Map,this.downloadCache=new Map,this.buffersForUploadingPending=[],this.buffersPending=[]}upload(e,t){const n=t.buffer,i=t.byteOffset,o=t.byteLength,s=a(o),u=this.storageCache.get(e);if(!u)throw new Error("gpu data for uploading does not exist");if(u.originalSize!==o)throw new Error(`inconsistent data size. gpu data size=${u.originalSize}, data size=${o}`);const c=this.backend.device.createBuffer({mappedAtCreation:!0,size:s,usage:GPUBufferUsage.MAP_WRITE|GPUBufferUsage.COPY_SRC}),l=c.getMappedRange();new Uint8Array(l).set(new Uint8Array(n,i,o)),c.unmap();const f=this.backend.getCommandEncoder();this.backend.endComputePass(),f.copyBufferToBuffer(c,0,u.gpuData.buffer,0,s),(0,r.LOG_DEBUG)("verbose",(()=>`[WebGPU] GpuDataManager.upload(id=${e})`)),this.buffersForUploadingPending.push(c)}memcpy(e,t){const n=this.storageCache.get(e);if(!n)throw new Error("source gpu data for memcpy does not exist");const r=this.storageCache.get(t);if(!r)throw new Error("destination gpu data for memcpy does not exist");if(n.originalSize!==r.originalSize)throw new Error("inconsistent source and destination gpu data size");const i=a(n.originalSize);this.backend.getCommandEncoder().copyBufferToBuffer(n.gpuData.buffer,0,r.gpuData.buffer,0,i)}create(e,t=GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST){const n=a(e),s=this.backend.device.createBuffer({size:n,usage:t}),u={id:o++,type:i.GpuDataType.default,buffer:s};return this.storageCache.set(u.id,{gpuData:u,originalSize:e}),(0,r.LOG_DEBUG)("verbose",(()=>`[WebGPU] GpuDataManager.create(size=${e}) => id=${u.id}`)),u}get(e){var t;return null===(t=this.storageCache.get(e))||void 0===t?void 0:t.gpuData}release(e){const t=this.storageCache.get(e);if(!t)throw new Error("releasing data does not exist");return(0,r.LOG_DEBUG)("verbose",(()=>`[WebGPU] GpuDataManager.release(id=${e}), gpuDataId=${t.gpuData.id}`)),this.storageCache.delete(e),this.buffersPending.push(t.gpuData.buffer),this.downloadCache.get(e)&&this.downloadCache.delete(e),t.originalSize}async download(e){const t=this.downloadCache.get(e);if(t)return t.data;const n=this.storageCache.get(e);if(!n)throw new Error("data does not exist");const r=this.backend.getCommandEncoder();this.backend.endComputePass();const i=this.backend.device.createBuffer({size:n.originalSize,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ});r.copyBufferToBuffer(n.gpuData.buffer,0,i,0,n.originalSize),this.backend.flush();const a=new Promise((e=>{i.mapAsync(GPUMapMode.READ).then((()=>{const t=i.getMappedRange().slice(0);i.destroy(),e(t)}))}));return this.downloadCache.set(e,{data:a}),a}refreshPendingBuffers(){for(const e of this.buffersForUploadingPending)e.destroy();for(const e of this.buffersPending)e.destroy()}}t.createGpuDataManager=(...e)=>new s(...e)},510:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.WEBGPU_OP_RESOLVE_RULES=void 0;const o=a(n(504)),s=n(770),u=n(271),c=n(522),l=a(n(262)),f=n(625),p=a(n(302));t.WEBGPU_OP_RESOLVE_RULES=new Map([["Abs",[p.abs]],["Acos",[p.acos]],["Acosh",[p.acosh]],["Add",[o.add]],["Asin",[p.asin]],["Asinh",[p.asinh]],["Atan",[p.atan]],["Atanh",[p.atanh]],["AveragePool",[l.averagePool,l.parseAveragePoolAttributes]],["Ceil",[p.ceil]],["ClipV10",[p.clipV10]],["Clip",[p.clip]],["Conv",[s.conv,s.parseConvAttributes]],["Cos",[p.cos]],["Cosh",[p.cosh]],["Div",[o.div]],["Elu",[p.elu,p.parseAlphaAttributes]],["Erf",[p.erf]],["Exp",[p.exp]],["Floor",[p.floor]],["Gemm",[u.gemm,u.parseGemmAttributes]],["GlobalAveragePool",[l.globalAveragePool,l.parseGlobalAveragePoolAttributes]],["GlobalMaxPool",[l.globalMaxPool,l.parseGlobalMaxPoolAttributes]],["LeakyRelu",[p.leakyRelu,p.parseAlphaAttributes]],["MatMul",[c.matMul]],["MaxPool",[l.maxPool,l.parseMaxPoolAttributes]],["Mul",[o.mul]],["Neg",[p.neg]],["Pow",[o.pow]],["Reciprocal",[p.reciprocal]],["Relu",[p.relu]],["Sigmoid",[p.sigmoid]],["Sin",[p.sin]],["Sinh",[p.sinh]],["Sqrt",[p.sqrt]],["Sub",[o.sub]],["Tan",[p.tan]],["Tanh",[p.tanh]],["ThresholdedRelu",[p.thresholdedRelu,p.parseAlphaAttributes]],["Transpose",[f.transpose,f.parseTransposeAttributes]]])},427:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.biasActivationSnippet=t.activationFnSnippet=t.typeSnippet=void 0,t.typeSnippet=e=>{switch(e){case 1:return"f32";case 2:return"vec2<f32>";case 3:return"vec3<f32>";case 4:return"vec4<f32>";default:throw new Error(`${e}-component is not supported.`)}},t.activationFnSnippet=(e,t=!1,n=!1,r=3)=>"",t.biasActivationSnippet=(e,t)=>`\\n      ${e?"value = value + getBiasByOutputCoords(coords);":""}\\n      ${t?"value = activation(value, coords);":""}\\n      `},456:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createConv2DMatMulProgramInfo=void 0;const r=n(955),i=n(952),a=n(163),o=n(427),s=n(85),u=n(158);t.createConv2DMatMulProgramInfo=(e,t,n,c,l,f,p,d,h)=>{const g="NHWC"===n.format,m=g?e[0].dims[3]:e[0].dims[1],v=c[0],y=g?c[2]:c[3],w=g?c[1]:c[2],_=g?c[3]:c[1],b=((m%4==0||m%3==0)&&g||y%4==0&&!g)&&_%4==0,$=g?_:y*w,S=g?y*w:_,k=b?[8,8,1]:[$<=4?4:16,$>4&&S<=4?4:16,1],O=b?[4,4,1]:[$<=4?1:2,$>4&&S<=4?1:2,1],A=[Math.ceil($/k[0]/O[0]),Math.ceil(S/k[1]/O[1]),Math.ceil(v/k[2]/O[1])];(0,r.LOG_DEBUG)("verbose",(()=>`[conv2d_mm_webgpu] dispatch = ${A}`));const C=b?g&&m%4!=0?3:4:O[0],T=k[1]*O[1],j=k[0]*O[0],P=Math.max(k[0]*C,k[1]),E=l%T==0,M=f%j==0,x=p%P==0,R=b?[C,4,4]:[1,1,1],I=[`@group(0) @binding(0) var<storage, read> x: array<${b&&4===C?"vec4<f32>":"f32"}>;`,`@group(0) @binding(1) var<storage, read> w: array<${b?"vec4<f32>":"f32"}>;`];let D=`\\n      fn setOutputAtIndex(flatIndex : i32, value : ${b?"vec4<f32>":"f32"}) {\\n        result[flatIndex] = ${b?"vec4<f32>":"f32"}(value);\\n      }\\n      fn setOutputAtCoords(d0 : i32, d1 : i32, d2 : i32, d3 : i32, value : ${b?"vec4<f32>":"f32"}) {\\n        let flatIndex = getOutputIndexFromCoords(vec4<i32>(d0, d1, d2, d3));\\n        setOutputAtIndex(flatIndex ${b?"/ 4":""}, value);\\n      }`;return d&&(I.push(`@group(0) @binding(2) var<storage, read> bias: array<${b?"vec4<f32>":"f32"}>;`),D+=`\\n        fn getBiasByOutputCoords(coords : vec4<i32>) -> ${b?"vec4<f32>":"f32"} {\\n          return bias[coords.${g?"w":"y"}${b?"/ 4":""}];\\n        }`),Object.assign(Object.assign({},t),{outputs:[{dims:c,dataType:e[0].dataType,gpuDataType:a.GpuDataType.default}],dispatchGroup:()=>({x:A[0],y:A[1],z:A[2]}),getShaderSource:()=>`\\n        ${s.utilFunctions}\\n        //struct Uniforms { xShape : vec4<i32>, wShape : vec4<i32>, outShape : vec4<i32>,\\n        //  outShapeStrides: vec3<i32>, filterDims : vec2<i32>, pad : vec2<i32>, stride : vec2<i32>,\\n        //  dilation : vec2<i32>, dimAOuter : i32, dimBOuter : i32, dimInner : i32 };\\n        ${I.join("")}\\n        @group(0) @binding(${I.length}) var<storage, read_write> result: array<${b?"vec4<f32>":"f32"}>;\\n        //@group(0) @binding(${I.length+1}) var<uniform> uniforms: Uniforms;\\n\\n        const xShape : vec4<i32> = vec4<i32>(${e[0].dims.join(",")});\\n        const wShape : vec4<i32> = vec4<i32>(${e[1].dims.join(",")});\\n        const outShape : vec4<i32> = vec4<i32>(${c.join(",")});\\n        const outShapeStrides : vec3<i32> = vec3<i32>(${i.ShapeUtil.computeStrides(c).slice(0,3).join(",")});\\n        const filterDims : vec2<i32> = vec2<i32>(${n.kernelShape[0]}, ${n.kernelShape[1]});\\n        const pad : vec2<i32> = vec2<i32>(${n.pads[0]}, ${n.pads[1]});\\n        const stride : vec2<i32> = vec2<i32>(${n.strides[0]}, ${n.strides[1]});\\n        const dilation : vec2<i32> = vec2<i32>(${n.dilations[0]}, ${n.dilations[1]});\\n        const dimAOuter : i32 = ${l};\\n        const dimBOuter : i32 = ${f};\\n        const dimInner : i32 = ${p};\\n        ${D}\\n        ${((e,t,n,r,i=!1,a,s=!1,u=4,c=4,l=4)=>{const f=e?"\\n    let coord = vec4<i32>(batch, xRow, xCol, xCh);\\n    ":"\\n    let coord = vec4<i32>(batch, xCh, xRow, xCol);\\n    ",p=e?"\\n    let coords = vec4<i32>(\\n      batch,\\n      row / outWidth,\\n      row % outWidth,\\n      col);\\n    ":"\\n    let coords = vec4<i32>(\\n      batch,\\n      row,\\n      col / outWidth,\\n      col % outWidth);\\n    ",d=e?"xShape[1]":"xShape[2]",h=e?"xShape[2]":"xShape[3]",g=e?"row":"col",m=e?"col":"row",v=`\\n    let inChannels = wShape[2];\\n    let outWidth = ${e?"outShape[2]":"outShape[3]"};\\n    let outRow = ${g} / outWidth;\\n    let outCol = ${g} % outWidth;\\n\\n    let WRow = ${m} / (filterDims[1] * inChannels);\\n    let WCol = ${m} / inChannels % filterDims[1];\\n    let xRow = outRow * stride[0] + dilation[0] * WRow - pad[0];\\n    let xCol = outCol * stride[1] + dilation[1] * WCol - pad[1];\\n    let xCh = ${m} % inChannels;\\n    var resData = ${(0,o.typeSnippet)(u)}(0.0);\\n    // The bounds checking is always needed since we use it to pad zero for\\n    // the \'same\' padding type.\\n    if (xRow >= 0 && xRow < ${d} && xCol >= 0 && xCol < ${h}) {\\n      ${f}\\n      let xIndex = getIndexFromCoords4D(coord, xShape);\\n      ${(e=>{switch(e){case 1:return"resData = x[xIndex];";case 3:return"resData = vec3<f32>(x[xIndex], x[xIndex + 1], x[xIndex + 2]);";case 4:return"resData = x[xIndex / 4];";default:throw new Error(`innerElementSize ${e} is not supported.`)}})(u)}\\n    }\\n    return resData;`,y=e?t&&r?`\\n    let col = colIn * ${u};\\n    ${v}`:`\\n    let col = colIn * ${u};\\n    if (row < dimAOuter && col < dimInner) {\\n      ${v}\\n    }\\n    return ${(0,o.typeSnippet)(u)}(0.0);`:r&&n?`\\n    let col = colIn * ${u};\\n    ${v}`:`\\n    let col = colIn * ${u};\\n    if (row < dimInner && col < dimBOuter) {\\n      ${v}\\n    }\\n    return ${(0,o.typeSnippet)(u)}(0.0);`,w=`${(e=>{switch(e){case 1:return"return w[row * wShape[3] + colIn];";case 4:return"return w[row * wShape[3] / 4 + colIn];";default:throw new Error(`innerElementSize ${e} is not supported.`)}})(c)}`,_=(0,o.typeSnippet)(l),b=e?(0,o.typeSnippet)(u):(0,o.typeSnippet)(c),$=e?(0,o.typeSnippet)(c):(0,o.typeSnippet)(u);return`\\n    ${(0,o.activationFnSnippet)(a,s,4===l,4)}\\n    fn mm_readA(batch: i32, row : i32, colIn : i32) -> ${b} {\\n      ${e?y:w}\\n    }\\n\\n    fn mm_readB(batch: i32, row : i32, colIn : i32) -> ${$} {\\n      ${e?w:y}\\n    }\\n\\n    fn mm_write(batch: i32, row : i32, colIn : i32, valueIn : ${_}) {\\n      let col = colIn * ${l};\\n      if (row < dimAOuter && col < dimBOuter)\\n      {\\n      var value = valueIn;\\n      let outWidth = ${e?"outShape[2]":"outShape[3]"};\\n      ${p}\\n      ${(0,o.biasActivationSnippet)(i,a)}\\n      setOutputAtCoords(coords[0], coords[1], coords[2], coords[3], value);\\n      }\\n    }`})(g,E,M,x,d,void 0,!1,R[0],R[1],R[2])}\\n            ${b?(0,u.makeMatMulPackedVec4Source)(O,k,!g,P):(0,u.makeMatMulPackedSource)(O,k,!g,P,!1,void 0,h)}`})}},85:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.utilFunctions=void 0,t.utilFunctions="\\nfn getIndexFromCoords4D(coords : vec4<i32>, shape : vec4<i32>) -> i32 {\\n  return dot(coords, vec4<i32>(\\n      shape.y * shape.z * shape.w, shape.z * shape.w, shape.w, 1));\\n}\\nfn getOutputIndexFromCoords(coords : vec4<i32>) -> i32 {\\n  return dot(coords, vec4<i32>(\\n    outShapeStrides.x, outShapeStrides.y, outShapeStrides.z, 1));\\n}\\n"},158:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeMatMulPackedSource=t.makeMatMulPackedVec4Source=void 0,t.makeMatMulPackedVec4Source=(e,t,n=!1,r=32,i=!1,a=32,o=!1)=>{const s=t[1]*e[1],u=t[0]*e[0],c=n?s:r,l=n?r:s,f=c/t[0],p=r/t[1];if((!n||4!==f||4!==e[1])&&(n||3!==f&&4!==f)||c%t[0]!=0||r%t[1]!=0||4!==e[0])throw new Error(`If transposeA ${n} is true, innerElementSize ${f} and workPerThread[1] ${e[1]} must be 4.\\n      Otherwise, innerElementSize ${f} must be 3 or 4.\\n  tileAWidth ${c} must be divisible by workgroupSize[0]${t[0]}. tileInner ${r} must be divisible by workgroupSize[1] ${t[1]}. colPerThread ${e[0]} must be 4.`);return`\\nvar<workgroup> mm_Asub : array<array<vec${f}<f32>, ${c/f}>, ${l}>;\\nvar<workgroup> mm_Bsub : array<array<vec4<f32>, ${u/e[0]}>, ${r}>;\\n\\nconst rowPerThread = ${e[1]};\\nconst colPerThread = ${e[0]};\\nconst innerElementSize = ${f};\\nconst tileInner = ${r};\\n\\n@compute @workgroup_size(${t[0]}, ${t[1]}, ${t[2]})\\nfn main(@builtin(local_invocation_id) localId : vec3<u32>,\\n        @builtin(global_invocation_id) globalId : vec3<u32>,\\n        @builtin(workgroup_id) workgroupId : vec3<u32>) {\\n  let localRow = i32(localId.y);\\n  let tileRow = ${o?"0":"localRow * rowPerThread"};\\n  let tileCol = i32(localId.x);\\n\\n  let globalRow = ${o?"0":"i32(globalId.y) * rowPerThread"};\\n  let globalCol = i32(globalId.x);\\n  let batch = ${i?"0":"i32(globalId.z)"};\\n  let globalRowStart = i32(workgroupId.y) * ${s};\\n\\n  let numTiles = ${i?`${Math.ceil(a/r)}`:"(dimInner - 1) / tileInner + 1"};\\n  var kStart = ${i?`i32(globalId.z) * ${a}`:"0"};\\n\\n  var acc: array<vec4<f32>, rowPerThread>;\\n\\n  // Loop over shared dimension.\\n  let tileRowB = localRow * ${p};\\n  for (var t = 0; t < numTiles; t = t + 1) {\\n      // Load one tile of A into local memory.\\n      for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {\\n          let inputRow = tileRow + innerRow;\\n          let inputCol = tileCol;\\n          ${d=n,d?"\\n        mm_Asub[inputRow][inputCol] = mm_readA(batch,\\n          kStart + inputRow,\\n          globalRowStart / innerElementSize + inputCol);\\n        ":"\\n        mm_Asub[inputRow][inputCol] = mm_readA(batch,\\n          globalRow + innerRow,\\n          kStart / innerElementSize + inputCol);\\n        "}\\n      }\\n\\n      // Load one tile of B into local memory.\\n      for (var innerRow = 0; innerRow < ${p}; innerRow = innerRow + 1) {\\n          let inputRow = tileRowB + innerRow;\\n          let inputCol = tileCol;\\n          mm_Bsub[inputRow][inputCol] = mm_readB(batch, kStart + inputRow, globalCol);\\n      }\\n      kStart = kStart + tileInner;\\n      workgroupBarrier();\\n\\n      // Compute acc values for a single thread.\\n      for (var k = 0; k < tileInner / innerElementSize; k = k + 1) {\\n          let BCached0 = mm_Bsub[k * innerElementSize][tileCol];\\n          let BCached1 = mm_Bsub[k * innerElementSize + 1][tileCol];\\n          let BCached2 = mm_Bsub[k * innerElementSize + 2][tileCol];\\n          ${3===f?"":"let BCached3 = mm_Bsub[k * innerElementSize + 3][tileCol];"}\\n\\n          ${((e,t)=>e?`\\n        let ACached0 = mm_Asub[k * innerElementSize][localRow];\\n        let ACached1 = mm_Asub[k * innerElementSize + 1][localRow];\\n        let ACached2 = mm_Asub[k * innerElementSize + 2][localRow];\\n        ${3===t?"":"let ACached3 = mm_Asub[k * innerElementSize + 3][localRow];"}\\n        for (var i = 0; i < rowPerThread; i = i + 1) {\\n          acc[i] = BCached0 * ACached0[i] + acc[i];\\n          acc[i] = BCached1 * ACached1[i] + acc[i];\\n          acc[i] = BCached2 * ACached2[i] + acc[i];\\n          ${3===t?"":"acc[i] = BCached3 * ACached3[i] + acc[i];"}\\n        }`:`\\n        for (var i = 0; i < rowPerThread; i = i + 1) {\\n          let ACached = mm_Asub[tileRow + i][k];\\n          acc[i] = BCached0 * ACached.x + acc[i];\\n          acc[i] = BCached1 * ACached.y + acc[i];\\n          acc[i] = BCached2 * ACached.z + acc[i];\\n          ${3===t?"":"acc[i] = BCached3 * ACached.w + acc[i];"}\\n        }`)(n,f)}\\n      }\\n\\n      workgroupBarrier();\\n  }\\n\\n  for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {\\n      mm_write(batch, globalRow + innerRow, globalCol, acc[innerRow]);\\n  }\\n}`;var d};const n=e=>e?"\\n            mm_Asub[inputRow][inputCol] = mm_readA(batch,\\n              kStart + inputRow,\\n              globalRowStart + inputCol);\\n            ":"\\n            mm_Asub[inputRow][inputCol] = mm_readA(batch,\\n              globalRowStart + inputRow,\\n              kStart + inputCol);\\n            ";t.makeMatMulPackedSource=(e,t,r=!1,i=32,a=!1,o=32,s=!1)=>{const u=e[1]*t[1],c=e[0]*t[0],l=r?u:i,f=r?i:u;if(f%t[1]!=0||l%t[0]!=0||i%t[1]!=0)throw new Error(`tileAHight ${f} must be divisible by workgroupSize[1]${t[1]}, tileAWidth ${l} must be divisible by workgroupSize[0]${t[0]}, tileInner ${i} must be divisible by workgroupSize[1]${t[1]}`);const p=f/t[1],d=l/t[0],h=i/t[1],g=s?`\\n    let localRow = i32(localId.y);\\n    let localCol = i32(localId.x);\\n    let globalRowStart = i32(workgroupId.y) * ${u};\\n    let globalColStart = i32(workgroupId.x) * ${c};\\n\\n    // Loop over shared dimension.\\n    for (var t = 0; t < numTiles; t = t + 1) {\\n      // Load one tile of A into local memory.\\n      for (var inputRow = localRow; inputRow < ${f}; inputRow = inputRow + ${t[1]}) {\\n        for (var inputCol = localCol; inputCol < ${l}; inputCol = inputCol + ${t[0]}) {\\n          ${n(r)}\\n        }\\n      }\\n      // Load one tile of B into local memory.\\n      for (var inputRow = localRow; inputRow < ${i}; inputRow = inputRow + ${t[1]}) {\\n            for (var inputCol = localCol; inputCol < ${c}; inputCol = inputCol + ${t[0]}) {\\n          mm_Bsub[inputRow][inputCol] = mm_readB(batch,\\n            kStart + inputRow,\\n            globalColStart + inputCol);\\n        }\\n      }\\n      kStart = kStart + tileInner;\\n      workgroupBarrier();\\n\\n      // Compute acc values for a single thread.\\n      var BCached : array<f32, colPerThread>;\\n      for (var k = 0; k < tileInner; k = k + 1) {\\n        for (var inner = 0; inner < colPerThread; inner = inner + 1) {\\n          BCached[inner] = mm_Bsub[k][localCol + inner * ${t[0]}];\\n        }\\n        for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {\\n          let ACached = ${r?`mm_Asub[k][localRow + innerRow * ${t[1]}];`:`mm_Asub[localRow + innerRow * ${t[1]}][k];`}\\n          for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {\\n            acc[innerRow][innerCol] = acc[innerRow][innerCol] +\\n                ACached * BCached[innerCol];\\n          }\\n        }\\n      }\\n      workgroupBarrier();\\n    }\\n    for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {\\n      let gRow = globalRowStart + localRow + innerRow * ${t[1]};\\n      for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {\\n        let gCol = globalColStart + localCol + innerCol * ${t[0]};\\n        mm_write(batch, gRow, gCol, acc[innerRow][innerCol]);\\n      }\\n    }\\n    `:`\\nlet tileRow = i32(localId.y) * rowPerThread;\\nlet tileCol = i32(localId.x) * colPerThread;\\n\\nlet globalRow = i32(globalId.y) * rowPerThread;\\nlet globalCol = i32(globalId.x) * colPerThread;\\nlet globalRowStart = i32(workgroupId.y) * ${u};\\n\\nlet tileRowA = i32(localId.y) * ${p};\\nlet tileColA = i32(localId.x) * ${d};\\nlet tileRowB = i32(localId.y) * ${h};\\n// Loop over shared dimension.\\nfor (var t = 0; t < numTiles; t = t + 1) {\\n  // Load one tile of A into local memory.\\n  for (var innerRow = 0; innerRow < ${p}; innerRow = innerRow + 1) {\\n    for (var innerCol = 0; innerCol < ${d}; innerCol = innerCol + 1) {\\n      let inputRow = tileRowA + innerRow;\\n      let inputCol = tileColA + innerCol;\\n      ${n(r)}\\n    }\\n  }\\n\\n  // Load one tile of B into local memory.\\n  for (var innerRow = 0; innerRow < ${h}; innerRow = innerRow + 1) {\\n    for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {\\n      let inputRow = tileRowB + innerRow;\\n      let inputCol = tileCol + innerCol;\\n      mm_Bsub[inputRow][inputCol] = mm_readB(batch,\\n        kStart + inputRow,\\n        globalCol + innerCol);\\n    }\\n  }\\n  kStart = kStart + tileInner;\\n  workgroupBarrier();\\n\\n  // Compute acc values for a single thread.\\n  var BCached : array<f32, colPerThread>;\\n  for (var k = 0; k < tileInner; k = k + 1) {\\n    for (var inner = 0; inner < colPerThread; inner = inner + 1) {\\n      BCached[inner] = mm_Bsub[k][tileCol + inner];\\n    }\\n\\n    for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {\\n      ${(e=>e?"let ACached = mm_Asub[k][tileRow + innerRow];":"let ACached = mm_Asub[tileRow + innerRow][k];")(r)}\\n      for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {\\n        acc[innerRow][innerCol] = acc[innerRow][innerCol] + ACached * BCached[innerCol];\\n      }\\n    }\\n  }\\n\\n  workgroupBarrier();\\n}\\n\\nfor (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {\\n  for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {\\n    mm_write(batch, globalRow + innerRow, globalCol + innerCol,\\n        acc[innerRow][innerCol]);\\n  }\\n}\\n`;return`\\n  var<workgroup> mm_Asub : array<array<f32, ${l}>, ${f}>;\\n  var<workgroup> mm_Bsub : array<array<f32, ${c}>, ${i}>;\\n  const rowPerThread = ${e[1]};\\n  const colPerThread = ${e[0]};\\n  const tileInner = ${i};\\n\\n@compute @workgroup_size(${t[0]}, ${t[1]}, ${t[2]})\\nfn main(@builtin(local_invocation_id) localId : vec3<u32>,\\n        @builtin(global_invocation_id) globalId : vec3<u32>,\\n        @builtin(workgroup_id) workgroupId : vec3<u32>) {\\n    let batch = ${a?"0":"i32(globalId.z)"};\\n    let numTiles = ${a?`${Math.ceil(o/i)}`:"(dimInner - 1) / tileInner + 1"};\\n    var kStart = ${a?`i32(globalId.z) * ${o}`:"0"};\\n\\n    var acc : array<array<f32, colPerThread>, rowPerThread>;\\n\\n    // Without this initialization strange values show up in acc.\\n    for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {\\n      for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {\\n        acc[innerRow][innerCol] = 0.0;\\n      }\\n    }\\n    ${g}\\n  }\\n`}},504:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sub=t.pow=t.mul=t.div=t.add=void 0;const r=n(952),i=n(163),a=n(75),o=(e,t,n,o,s)=>{const u={name:t,inputTypes:[i.GpuDataType.default,i.GpuDataType.default],cacheHint:s};return Object.assign(Object.assign({},u),{get:()=>((e,t,n,o,s,u=t.dataType)=>{var c,l;const f=!r.ShapeUtil.areEqual(t.dims,n.dims);let p=t.dims,d=r.ShapeUtil.size(t.dims),h=!1;if(f){const e=r.BroadcastUtil.calcShape(t.dims,n.dims,!1);if(!e)throw new Error("Can\'t perform binary op on the given tensors");p=e,d=r.ShapeUtil.size(p);let i=1;for(let e=0;e<p.length;e++){const r=null!==(c=t.dims[t.dims.length-e])&&void 0!==c?c:1;if(r!==(null!==(l=n.dims[n.dims.length-e])&&void 0!==l?l:1))break;i*=r}i%4==0&&(h=!0)}else h=!0;return Object.assign(Object.assign({},e),{getShaderSource:e=>((e,t,n,i,o,s,u,c,l="f32",f="f32",p="f32")=>{const d=r.ShapeUtil.size(i),h=Math.ceil(d/4);let g,m;"string"==typeof u?g=m=(e,t)=>`${u}((${e}),(${t}))`:"function"==typeof u?g=m=u:(g=u.scalar,m=u.vector);let v="";const y=(0,a.createIndicesHelper)("output",i);if(s){const e=e=>{const t=r.ShapeUtil.computeStrides(e),n=[];for(let r=e.length-1;r>=0;r--){const a=0===i.length?"0u":1===i.length?"(*outputIndices)":`(*outputIndices)[${r+i.length-e.length}]`;n.push(`${t[r]}u * (${a} % ${e[r]}u)`)}return n.length>0?n.join("+"):"0u"};v=`\\n  ${y.o2iImpl}\\n\\n  fn calcOffsetA(outputIndices: ptr<function, ${y.iType}>) -> u32 {\\n    return ${e(t)};\\n  }\\n\\n  fn calcOffsetB(outputIndices: ptr<function, ${y.iType}>) -> u32 {\\n    return ${e(n)};\\n  }\\n  `}let w;if(o)w=s?`\\n      ${y.indicesVariableDeclaration("outputIndices")}\\n      ${y.o2iCall("global_idx * 4u","outputIndices")}\\n      let offsetA = calcOffsetA(&outputIndices);\\n      let offsetB = calcOffsetB(&outputIndices);\\n      outputData[global_idx] = ${m("aData[offsetA / 4u]","bData[offsetB / 4u]")};`:`outputData[global_idx] = ${m("aData[global_idx]","bData[global_idx]")};`;else{if(!s)throw new Error("no necessary to use scalar implementation for element-wise binary op implementation.");const e=e=>{const t=`aData[indexA${e}][componentA${e}]`,n=`bData[indexB${e}][componentB${e}]`;return`\\n      ${y.o2iCall(`global_idx * 4u + ${e}u`,"outputIndices")}\\n      let offsetA${e} = calcOffsetA(&outputIndices);\\n      let offsetB${e} = calcOffsetB(&outputIndices);\\n      let indexA${e} = offsetA${e} / 4u;\\n      let indexB${e} = offsetB${e} / 4u;\\n      let componentA${e} = offsetA${e} % 4u;\\n      let componentB${e} = offsetB${e} % 4u;\\n      outputData[global_idx][${e}] = ${g(t,n)};`};w=`\\n      ${y.indicesVariableDeclaration("outputIndices")}\\n      ${e(0)}\\n      ${e(1)}\\n      ${e(2)}\\n      ${e(3)}`}return`\\n  @group(0) @binding(0) var<storage, read> aData : array<vec4<${l}>>;\\n  @group(0) @binding(1) var<storage, read> bData : array<vec4<${f}>>;\\n  @group(0) @binding(2) var<storage, read_write> outputData : array<vec4<${p}>>;\\n\\n  ${null!=c?c:""}\\n  ${v}\\n\\n  ${e.mainStart()}\\n    ${e.guardAgainstOutOfBoundsWorkgroupSizes(h)}\\n    ${w}\\n  }`})(e,t.dims,n.dims,p,h,f,o,s),outputs:[{dims:p,dataType:u,gpuDataType:i.GpuDataType.default}],dispatchGroup:()=>({x:Math.ceil(d/64/(h?4:1))})})})(u,e[0],e[1],n,o)})};t.add=e=>{e.compute(o(e.inputs,"Add",((e,t)=>`${e}+${t}`)))},t.div=e=>{e.compute(o(e.inputs,"Div",((e,t)=>`${e}/${t}`)))},t.mul=e=>{e.compute(o(e.inputs,"Mul",((e,t)=>`${e}*${t}`)))},t.pow=e=>{e.compute(o(e.inputs,"Pow",{scalar:(e,t)=>`pow_f32(${e},${t})`,vector:(e,t)=>`pow_vf32(${e},${t})`},"\\n    fn pow_f32(a : f32, b : f32) -> f32 {\\n      if (b == 0.0) {\\n        return 1.0;\\n      } else if (a < 0.0 && b != floor(b)) {\\n        return pow(a, b); // NaN\\n      }\\n      return select(sign(a), 1.0, round(abs(b) % 2.0) != 1.0) * pow(abs(a), b);\\n    }\\n    fn pow_vf32(a : vec4<f32>, b : vec4<f32>) -> vec4<f32> {\\n      // TODO: implement vectorized pow\\n      return vec4<f32>(pow_f32(a.x, b.x), pow_f32(a.y, b.y), pow_f32(a.z, b.z), pow_f32(a.w, b.w));\\n    }\\n      "))},t.sub=e=>{e.compute(o(e.inputs,"Sub",((e,t)=>`${e}-${t}`)))}},75:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createShaderHelper=t.createIndicesHelper=t.WORKGROUP_SIZE=void 0;const r=n(952);t.WORKGROUP_SIZE=64,t.createIndicesHelper=(e,t)=>{const n=t.length<2?"u32":`array<u32, ${t.length}>`,i=r.ShapeUtil.computeStrides(t);let a="";for(let e=0;e<t.length-1;e++)a+=`\\n    let dim${e} = current / ${i[e]}u;\\n    let rest${e} = current % ${i[e]}u;\\n    (*indices)[${e}] = dim${e};\\n    current = rest${e};\\n    `;a+=`(*indices)[${t.length-1}] = current;`;const o=t.length<2?"":`\\n  fn ih_o2i_${e}(offset: u32, indices: ptr<function, ${n}>) {\\n    var current = offset;\\n    ${a}\\n  }`,s=[];if(0===t.length)s.push("0u");else if(t.length<2)s.push("(*indices)");else for(let e=t.length-1;e>=0;e--)s.push(`${i[e]}u * ((*indices)[${e}])`);return{o2iImpl:o,o2iCall:(n,r)=>t.length<2?`${r}=${n};`:`ih_o2i_${e}(${n}, &${r});`,i2oImpl:t.length<2?"":`\\n  fn ih_i2o_${e}(indices: ptr<function, ${n}>) -> u32 {\\n    return ${s.join("+")};\\n  }`,i2oExpression:(n,r)=>t.length<2?`(${r?"*":""}${n})`:`ih_i2o_${e}(${r?"":"&"}${n})`,indicesVariableDeclaration:(e,t)=>`var ${e}:${n}${t?`=${n}(${t.join(",")})`:""};`,iType:n}};class i{constructor(e){this.normalizedDispatchGroup=e}guardAgainstOutOfBoundsWorkgroupSizes(e){return`if (global_idx >= ${"number"==typeof e?`${e}u`:e}) { return; }`}mainStart(e=t.WORKGROUP_SIZE){const n="number"==typeof e?e:e[0],r="number"==typeof e?1:e[1],i="number"==typeof e?1:e[2],a=1===this.normalizedDispatchGroup[1]&&1===this.normalizedDispatchGroup[2];return`@compute @workgroup_size(${n}, ${r}, ${i})\\n  fn main(${a?"@builtin(global_invocation_id) global_id : vec3<u32>":"@builtin(local_invocation_index) local_index : u32,\\n    @builtin(workgroup_id) workgroup_id : vec3<u32>"}) {\\n    ${a?"let global_idx = global_id.x;":`let global_idx = (workgroup_id.z * ${this.normalizedDispatchGroup[0]*this.normalizedDispatchGroup[1]}u +\\n          workgroup_id.y * ${this.normalizedDispatchGroup[0]}u + workgroup_id.x) * ${n*r*i}u + local_index;`}\\n  `}}t.createShaderHelper=e=>new i(e)},192:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createGroupedConvProgramInfoLoader=void 0;const r=n(952),i=n(163),a=n(75),o=n(770),s=n(997);t.createGroupedConvProgramInfoLoader=(e,t,n)=>{const u=(c=e.length>2,l=t.cacheKey,{name:"GroupedConv",inputTypes:c?[i.GpuDataType.default,i.GpuDataType.default,i.GpuDataType.default]:[i.GpuDataType.default,i.GpuDataType.default],cacheHint:l});var c,l;return Object.assign(Object.assign({},u),{get:()=>((e,t,n,u)=>{const c=e.length>2,l=c?"value += b[output_channel];":"",f=e[0].dims,p=e[1].dims,d=p[0]/n.group,h="f32",{activationFunction:g,applyActivation:m}=(0,s.getActicationSnippet)(n),v=[`@group(0) @binding(0) var<storage, read> x : array<${h}>;`,`@group(0) @binding(1) var<storage, read> w : array<${h}>;`];c&&v.push(`@group(0) @binding(2) var<storage, read> b : array<${h}>;`);const y="NHWC"===n.format,w=(0,o.calculateOutputShape)(f,p,n.dilations,n.pads,n.strides,y),_=r.ShapeUtil.size(w),b=(0,a.createIndicesHelper)("output",w),$=(0,a.createIndicesHelper)("x",f),S=(0,a.createIndicesHelper)("w",p);return Object.assign(Object.assign({},t),{outputs:[{dims:u?u(w):w,dataType:e[0].dataType,gpuDataType:i.GpuDataType.default}],getShaderSource:e=>`\\n  const strides: vec2<u32> = vec2(${n.strides[0]}u, ${n.strides[1]}u);\\n  const pads: vec2<u32> = vec2(${n.pads[0]}u, ${n.pads[1]}u);\\n\\n  ${v.join("\\n")}\\n  @group(0) @binding(${v.length}) var<storage, read_write> output : array<${h}>;\\n\\n  ${g}\\n  ${b.o2iImpl}\\n  ${$.i2oImpl}\\n  ${S.i2oImpl}\\n\\n  ${e.mainStart()}\\n    ${e.guardAgainstOutOfBoundsWorkgroupSizes(_)}\\n\\n    ${b.indicesVariableDeclaration("outputIndices")}\\n    ${b.o2iCall("global_idx","outputIndices")}\\n    let batch: u32 = outputIndices[0];\\n    let output_channel: u32 = outputIndices[${y?3:1}];\\n    let xRCCorner: vec2<u32> = vec2<u32>(outputIndices[${y?1:2}], outputIndices[${y?2:3}]) * strides - pads;\\n    let group_id: u32 = output_channel / ${d}u;\\n\\n    var value: ${h} = ${h}(0);\\n    for (var wInChannel: u32 = 0u; wInChannel < ${p[1]}u; wInChannel++) {\\n      let input_channel = group_id * ${p[1]}u + wInChannel;\\n      for (var wHeight: u32 = 0u; wHeight < ${p[2]}u; wHeight++) {\\n        let xHeight = xRCCorner.x + wHeight * ${n.dilations[0]}u;\\n\\n        if (xHeight < 0u || xHeight >= ${f[y?1:2]}u) {\\n          continue;\\n        }\\n\\n        for (var wWidth: u32 = 0u; wWidth < ${p[3]}u; wWidth++) {\\n          let xWidth = xRCCorner.y + wWidth * ${n.dilations[1]}u;\\n          if (xWidth < 0u || xWidth >= ${f[y?2:3]}u) {\\n            continue;\\n          }\\n\\n          ${$.indicesVariableDeclaration("xIndices",y?["batch","xHeight","xWidth","input_channel"]:["batch","input_channel","xHeight","xWidth"])}\\n          let xVal = x[${$.i2oExpression("xIndices")}];\\n          ${S.indicesVariableDeclaration("wIndices",["output_channel","wInChannel","wHeight","wWidth"])}\\n          let wVal = w[${S.i2oExpression("wIndices")}];\\n          value += xVal*wVal;\\n        }\\n      }\\n    }\\n    ${l}\\n    ${m}\\n    output[global_idx] = value;\\n  }`,dispatchGroup:()=>({x:Math.ceil(_/64)})})})(e,u,t,n)})}},770:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.conv=t.parseConvAttributes=t.calculateOutputShape=void 0;const r=n(952),i=n(387),a=n(192),o=n(822),s=n(997),u=n(625);t.calculateOutputShape=(e,t,n,r,i,a)=>{const o=e[0],s=e.slice(a?1:2,a?3:4),u=s.length,c=t[0],l=t.slice(2).map(((e,t)=>e+(e-1)*(n[t]-1))),f=s.map(((e,t)=>e+r[t]+r[t+u])).map(((e,t)=>Math.floor((e-l[t]+i[t])/i[t])));return f.splice(0,0,o),f.splice(a?3:1,0,c),f};const c=(0,i.createAttributeWithCacheKey)({perm:[2,3,1,0]}),l=(e,t)=>{const n=e.kernelShape.slice();for(let e=2;e<t[1].dims.length;++e)0===n[e-2]&&(n[e-2]=t[1].dims[e]);const i=e.pads.slice();r.PoolConvUtil.adjustPadsBasedOnAutoPad(t[0].dims,e.strides,e.dilations,n,i,"NHWC"===e.format,e.autoPad);const a=Object.assign({},e);return Object.assign(a,{kernelShape:n,pads:i,cacheKey:e.cacheKey}),a};t.parseConvAttributes=e=>{const t=(0,s.parseInternalActivationAttributes)(e),n=e.format,r=["NOTSET","VALID","SAME_UPPER","SAME_LOWER"][e.auto_pad],a=e.dilations,o=e.group,u=e.kernel_shape,c=e.pads,l=e.strides,f=e.w_is_const();return(0,i.createAttributeWithCacheKey)(Object.assign({autoPad:r,format:n,dilations:a,group:o,kernelShape:u,pads:c,strides:l,wIsConst:f},t))},t.conv=(e,n)=>{((e,t)=>{if(!e||2!==e.length&&3!==e.length)throw new Error("Conv requires 2 or 3 inputs");if(4!==e[0].dims.length&&3!==e[0].dims.length)throw new Error("currently only support conv 1D and 2D");if(e[0].dims.length!==e[1].dims.length)throw new Error("filter does not have same dimension as input");if(e[0].dims["NHWC"===t.format?e[0].dims.length-1:1]!==e[1].dims[1]*t.group)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(3===e.length&&(1!==e[2].dims.length||e[1].dims[0]!==e[2].dims[0]))throw new Error("invalid bias");const n=e[0].dims.length-2;if(t.dilations.length!==n)throw new Error(`dilations should be ${n}D`);if(t.strides.length!==n)throw new Error(`strides should be ${n}D`);if(t.pads.length!==2*n)throw new Error(`pads should be ${2*n}D`);if(0!==t.kernelShape.length&&t.kernelShape.length!==e[1].dims.length-2)throw new Error("invalid kernel shape");if(1!==e[0].dataType||1!==e[1].dataType)throw new Error("Conv input(X,W) should be float tensor");if(3===e.length&&1!==e[2].dataType)throw new Error("Conv input(bias) should be float tensor")})(e.inputs,n),3===e.inputs[0].dims.length?((e,t)=>{const n="NHWC"===t.format,r=[e.inputs[0].reshape(n?[e.inputs[0].dims[0],1,e.inputs[0].dims[1],e.inputs[0].dims[2]]:[e.inputs[0].dims[0],e.inputs[0].dims[1],1,e.inputs[0].dims[2]]),e.inputs[1].reshape([e.inputs[1].dims[0],e.inputs[1].dims[1],1,e.inputs[1].dims[2]])];3===e.inputs.length&&r.push(e.inputs[2]);const i=[0,t.pads[0],0,t.pads[1]],o=[1].concat(t.strides),s=[1].concat(t.dilations),u=[1].concat(t.kernelShape),c=l(Object.assign(Object.assign({},t),{pads:i,strides:o,dilations:s,kernelShape:u}),r);e.compute((0,a.createGroupedConvProgramInfoLoader)(r,c,(e=>n?[e[0],e[2],e[3]]:[])))})(e,n):((e,n,r)=>{var i;const s=l(r,n),f=3===n.length,p="NHWC"===r.format,d=n[0].dims[p?1:2],h=n[0].dims[p?2:3],g=n[0].dims[p?3:1],m=n[1].dims[2],v=n[1].dims[3],y=(0,t.calculateOutputShape)(n[0].dims,n[1].dims,r.dilations,s.pads,r.strides,p),w=y[p?1:2],_=y[p?2:3],b=y[p?3:1];if(p&&m===d&&v===h&&"VALID"===r.autoPad||1===m&&1===v&&1===r.dilations[0]&&1===r.dilations[1]&&1===r.strides[0]&&1===r.strides[1]&&("SAME_UPPER"===r.autoPad||"SAME_LOWER"===r.autoPad||"VALID"===r.autoPad))return void e.compute((0,a.createGroupedConvProgramInfoLoader)(n,s));if(!p||1!==r.group)return void e.compute((0,a.createGroupedConvProgramInfoLoader)(n,s));const $=p?w*_:b,S=p?b:w*_,k=m*v*g,O=null!==(i=e.customData.wT)&&void 0!==i?i:e.compute(Object.assign(Object.assign({},u.transposeProgramMetadata),{cacheHint:c.cacheKey,get:()=>(0,u.createTransposeProgramInfo)(n[1],c.perm)}),{inputs:[1],outputs:[r.wIsConst?-2:-1]})[0];r.wIsConst&&!e.customData.wT&&(e.customData.wT=O);const A=[n[0],O];f&&(p||1!==n[2].dims.length?A.push(n[2]):A.push(n[2].reshape([n[2].dims[0],1,1]))),e.compute((0,o.createConv2DMatMulProgramInfoLoader)(A,s,y,$,S,k,f,!0),{inputs:A})})(e,e.inputs,n)}},822:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createConv2DMatMulProgramInfoLoader=void 0;const r=n(163),i=n(456);t.createConv2DMatMulProgramInfoLoader=(e,t,n,a,o,s,u,c)=>{const l=((e,t)=>({name:"Conv2DMatMul",inputTypes:e?[r.GpuDataType.default,r.GpuDataType.default,r.GpuDataType.default]:[r.GpuDataType.default,r.GpuDataType.default],cacheHint:t}))(u,t.cacheKey);return Object.assign(Object.assign({},l),{get:()=>(0,i.createConv2DMatMulProgramInfo)(e,l,t,n,a,o,s,u,c)})}},997:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseInternalActivationAttributes=t.getActicationSnippet=void 0;const r=n(952);t.getActicationSnippet=e=>{switch(e.activation){case"Relu":return{activationFunction:"",applyActivation:"value = max(value, 0.0);"};case"Sigmoid":return{activationFunction:"",applyActivation:"value = (1.0 / (1.0 + exp(-value)));"};case"Clip":return{activationFunction:`const clip_min_=f32(${e.clipMin});const clip_max_=f32(${e.clipMax});`,applyActivation:"value = clamp(value, clip_min_, clip_max_);"};default:return{activationFunction:"",applyActivation:""}}},t.parseInternalActivationAttributes=e=>{const t=(null==e?void 0:e.activation)||"";if("Clip"===t){const[n,i]=(null==e?void 0:e.activation_params)||[r.MIN_CLIP,r.MAX_CLIP];return{activation:t,clipMax:i,clipMin:n,activationCacheKey:`${t}:${n},${i}`}}return{activation:t,activationCacheKey:t}}},271:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseGemmAttributes=t.gemm=void 0;const r=n(952),i=n(387),a=n(163);t.gemm=(e,t)=>{(e=>{if(!e)throw new Error("Input is missing");if(e.length<2||e.length>3)throw new Error("Invaid input number.");if(3===e.length&&e[2].dims.length>2)throw new Error("Invalid input shape of C");if(1!==e[0].dataType||1!==e[1].dataType||3===e.length&&1!==e[2].dataType)throw new Error("Invalid input type.");if(e[0].dataType!==e[1].dataType||3===e.length&&e[0].dataType!==e[2].dataType)throw new Error("Input types are mismatched")})(e.inputs),e.compute(((e,t)=>{const n={name:"Gemm",inputTypes:3===e.length?[a.GpuDataType.default,a.GpuDataType.default,a.GpuDataType.default]:[a.GpuDataType.default,a.GpuDataType.default],cacheHint:t.cacheKey};return Object.assign(Object.assign({},n),{get:()=>((e,t,n)=>{const i=t[0].dims.slice(),o=t[1].dims.slice(),[s,u,c]=r.GemmUtil.getShapeOfGemmResult(i,n.transA,o,n.transB,3===t.length?t[2].dims:void 0),l=[s,u];if(!l)throw new Error("Can\'t use gemm on the given tensors");const f=r.ShapeUtil.size(l);let p="";n.transA&&n.transB?p="value += a[k * M + m] * b[n * K + k];":n.transA&&!n.transB?p="value += a[k * M + m] * b[k * N + n];":!n.transA&&n.transB?p="value += a[m * K + k] * b[n * K + k];":n.transA||n.transB||(p="value += a[m * K + k] * b[k * N + n];");const d="f32",h=1===n.alpha?"":"value *= alpha;",g=3===t.length?`value += beta * c[${((e,t,n)=>{if(0===n.length)return"0u";const r=1===n.length&&1!==e||2===n.length&&n[0]!==e,i=n[n.length-1]!==t;let a="0u";return r||(a+=`+ m * ${n[n.length-1]}u`),i||(a+="+n"),a})(s,u,t[2].dims)}];`:"",m=[`@group(0) @binding(0) var<storage, read> a : array<${d}>;`,`@group(0) @binding(1) var<storage, read> b : array<${d}>;`];return 3===t.length&&m.push(`@group(0) @binding(2) var<storage, read> c : array<${d}>;`),Object.assign(Object.assign({},e),{outputs:[{dims:l,dataType:t[0].dataType,gpuDataType:a.GpuDataType.default}],getShaderSource:e=>`\\n  const M: u32 = ${s}u;\\n  const N: u32 = ${u}u;\\n  const K: u32 = ${c}u;\\n  const alpha = ${d}(${n.alpha});\\n  const beta = ${d}(${n.beta});\\n\\n  ${m.join("\\n")}\\n  @group(0) @binding(${t.length}) var<storage, read_write> output : array<${d}>;\\n\\n  ${e.mainStart()}\\n    ${e.guardAgainstOutOfBoundsWorkgroupSizes(f)}\\n\\n    let m = global_id.x / N;\\n    let n = global_id.x % N;\\n\\n    var value = ${d}(0);\\n    for (var k: u32 = 0u; k<${c}u; k++) {\\n      ${p}\\n    }\\n\\n    ${h}\\n    ${g}\\n    output[global_id.x] = value;\\n\\n  }`,dispatchGroup:()=>({x:Math.ceil(f/64)})})})(n,e,t)})})(e.inputs,t))},t.parseGemmAttributes=e=>(0,i.createAttributeWithCacheKey)(e)},522:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.matMul=t.createMatmulProgramInfoLoader=void 0;const r=n(952),i=n(163),a=n(997);t.createMatmulProgramInfoLoader=(e,t)=>{const n=(o=e.length>2,s=t.activationCacheKey,{name:"MatMul",inputTypes:o?[i.GpuDataType.default,i.GpuDataType.default,i.GpuDataType.default]:[i.GpuDataType.default,i.GpuDataType.default],cacheHint:s});var o,s;return Object.assign(Object.assign({},n),{get:()=>((e,t,n)=>{const o=t[0].dims,s=t[1].dims,u=r.BroadcastUtil.calcShape(o,s,!0);if(!u)throw new Error("Can\'t use matmul on the given tensors");const c=r.ShapeUtil.size(u),l="f32",{activationFunction:f,applyActivation:p}=(0,a.getActicationSnippet)(n),d=u[u.length-2],h=o[o.length-1],g=u[u.length-1];return Object.assign(Object.assign({},e),{outputs:[{dims:u,dataType:t[0].dataType,gpuDataType:i.GpuDataType.default}],getShaderSource:e=>`\\n  const M: u32 = ${d}u;\\n  const N: u32 = ${g}u;\\n  const K: u32 = ${h}u;\\n\\n  @group(0) @binding(0) var<storage, read> a : array<${l}>;\\n  @group(0) @binding(1) var<storage, read> b : array<${l}>;\\n  @group(0) @binding(2) var<storage, read_write> output : array<${l}>;\\n\\n  ${f}\\n\\n  ${e.mainStart()}\\n    ${e.guardAgainstOutOfBoundsWorkgroupSizes(c)}\\n\\n    let stack = global_idx / (M * N);\\n    let mn = global_idx % (M * N);\\n    let n = global_idx % N;\\n    let m = mn / N;\\n\\n    let offsetA = stack * (M * K);\\n    let offsetB = stack * (K * N);\\n\\n    var value = ${l}(0);\\n    for (var k: u32 = 0u; k<${h}u; k++) {\\n      value += a[offsetA + m * K + k] * b[offsetB + k * N + n];\\n    }\\n    ${p}\\n    output[global_idx] = value;\\n  }`,dispatchGroup:()=>({x:Math.ceil(c/64)})})})(n,e,t)})},t.matMul=e=>{(e=>{if(!e||2!==e.length)throw new Error("MatMul requires 2 inputs.");if(e[0].dims[e[0].dims.length-1]!==e[1].dims[e[1].dims.length-2])throw new Error("shared dimension does not match.");if(1!==e[0].dataType||1!==e[1].dataType)throw new Error("inputs should be float type")})(e.inputs),e.compute((0,t.createMatmulProgramInfoLoader)(e.inputs,{activation:"",activationCacheKey:""}))}},262:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.globalMaxPool=t.parseGlobalMaxPoolAttributes=t.parseMaxPoolAttributes=t.maxPool=t.globalAveragePool=t.parseGlobalAveragePoolAttributes=t.averagePool=t.parseAveragePoolAttributes=void 0;const r=n(952),i=n(387),a=n(163),o=n(75),s=e=>{if(!e||1!==e.length)throw new Error("Pool ops requires 1 input.");if(4!==e[0].dims.length)throw new Error("Pool ops supports 2-D inputs only for now.");if(1!==e[0].dataType)throw new Error("Invalid input type.")},u=(e,t,n)=>{const i="NHWC"===t.format,a=i?[e[0].dims[0],e[0].dims[3],e[0].dims[1],e[0].dims[2]]:e[0].dims.slice(),o=Object.hasOwnProperty.call(t,"dilations"),s=t.kernelShape.slice(),u=t.strides.slice(),c=o?t.dilations.slice():[],l=t.pads.slice();r.PoolConvUtil.adjustPoolAttributes(n,a,s,u,c,l);const f=r.PoolConvUtil.computePoolOutputShape(n,a,u,c,s,l,t.autoPad),p=Object.assign({},t);return o?Object.assign(p,{kernelShape:s,strides:u,pads:l,dilations:c,cacheKey:t.cacheKey}):Object.assign(p,{kernelShape:s,strides:u,pads:l,cacheKey:t.cacheKey}),[p,i?[f[0],f[2],f[3],f[1]]:f]},c=(e,t,n,i,a,s,u,c)=>{const l="NHWC"===i.format,f=t.length,p=r.ShapeUtil.size(n),d=(0,o.createIndicesHelper)("output",n),h=(0,o.createIndicesHelper)("x",t);if(i.kernelShape.length<=2){const n=i.kernelShape[i.kernelShape.length-1],r=i.strides[i.strides.length-1],o=i.pads[i.pads.length/2-1],g=f-(l?2:1);let m="",v="",y="";if(m=o+i.pads[i.pads.length-1]!==0?`\\n              for (var i: u32 = 0u; i < ${n}u; i++) {\\n                xIndices[${g}] = indices[${g}] * ${r} - ${o} + i;\\n                if (xIndices[${g}] < 0 || xIndices[${g}] >= ${t[g]}) {\\n                  pad++;\\n                  continue;\\n                }\\n                let x_val = x[${h.i2oExpression("xIndices")}];\\n                ${a}\\n              }`:`\\n              for (var i: u32 = 0u; i < ${n}u; i++) {\\n                xIndices[${g}] = indices[${g}] * ${r} - ${o} + i;\\n                let x_val = x[${h.i2oExpression("xIndices")}];\\n                ${a}\\n              }`,2===i.kernelShape.length){const e=i.kernelShape[i.kernelShape.length-2],r=i.strides[i.strides.length-2],a=i.pads[i.pads.length/2-2],o=i.pads[i.pads.length-2],s=f-(l?3:2),u=t[s];v=a+o!==0?`\\n                for (var j: u32 = 0u; j < ${e}u; j++) {\\n                  xIndices[${s}] = indices[${s}] * ${r} - ${a} + j;\\n                  if (xIndices[${s}] < 0 || xIndices[${s}] >= ${u}) {\\n                    pad+= ${n};\\n                    continue;\\n                  }\\n              `:`\\n                for (var j: u32 = 0u; j < ${e}u; j++) {\\n                  xIndices[${s}] = indices[${s}] * ${r} - ${a} + j;\\n                `,y="\\n              }\\n            "}return`\\n            @group(0) @binding(0) var<storage, read> x : array<${u}>;\\n            @group(0) @binding(1) var<storage, read_write> output : array<${u}>;\\n\\n            ${d.o2iImpl}\\n            ${h.i2oImpl}\\n\\n            ${e.mainStart()}\\n              ${e.guardAgainstOutOfBoundsWorkgroupSizes(p)}\\n\\n              ${d.indicesVariableDeclaration("indices")}\\n              ${d.o2iCall("global_idx","indices")}\\n              ${d.indicesVariableDeclaration("xIndices")}\\n              ${d.o2iCall("global_idx","xIndices")}\\n\\n              var value: ${u} = ${u}(${c});\\n              var pad = 0;\\n              ${v}\\n              ${m}\\n              ${y}\\n              ${s}\\n\\n              output[global_idx] = value;\\n            }`}{if(l)throw new Error("Pooling with kernelShape.length > 2 is not supported for NHWC format.");const n=r.ShapeUtil.size(i.kernelShape),o=r.ShapeUtil.computeStrides(i.kernelShape),g=o.length,m=i.pads.length;let v="";return v=i.pads.reduce(((e,t)=>e+t))?`\\n                if (xIndices[j] >= inputDims[j]) {\\n                  pad++;\\n                  isPad = true;\\n                  break;\\n                }\\n              }\\n              if (!isPad) {\\n                let x_val = x[${h.i2oExpression("xIndices")}];\\n                ${a}\\n              }`:`\\n              }\\n              let x_val = x[${h.i2oExpression("xIndices")}];\\n              ${a}\\n            `,`\\n            @group(0) @binding(0) var<storage, read> x : array<${u}>;\\n            @group(0) @binding(1) var<storage, read_write> output : array<${u}>;\\n\\n            ${d.o2iImpl}\\n            ${h.i2oImpl}\\n\\n            const pads = array<u32, ${m}>(${i.pads.map((e=>`${e}u`)).join(",")});\\n            const inputDims = array<u32, ${f}>(${t.map((e=>`${e}u`)).join(",")});\\n            const kernelStrides = array<u32, ${g}>(${o.map((e=>`${e}u`)).join(",")});\\n            const strides = array<u32, ${g}>(${i.strides.map((e=>`${e}u`)).join(",")});\\n\\n            ${e.mainStart()}\\n              ${e.guardAgainstOutOfBoundsWorkgroupSizes(p)}\\n\\n              ${d.indicesVariableDeclaration("indices")}\\n              ${d.o2iCall("global_idx","indices")}\\n              ${d.indicesVariableDeclaration("xIndices")}\\n              ${d.o2iCall("global_idx","xIndices")}\\n\\n              var offsets: array<u32, ${g}>;\\n\\n              var value = ${u}(${c});\\n              var pad = 0;\\n              var isPad = false;\\n\\n              for (var i: u32 = 0u; i < ${n}u; i++) {\\n                var offset = i;\\n                for (var j = 0u; j < ${g-1}u; j++) {\\n                  offsets[j] = offset / kernelStrides[j];\\n                  offset -= offsets[j] * kernelStrides[j];\\n                }\\n                offsets[${g-1}] = offset;\\n\\n                isPad = false;\\n                for (var j = ${f-g}u; j < ${f}u; j++) {\\n                  xIndices[j] = indices[j] * strides[j - ${f-g}u]\\n                    + offsets[j - ${f-g}u] - pads[j - 2u];\\n                  ${v}\\n              }\\n              ${s}\\n\\n              output[global_idx] = value;\\n            }`}},l=e=>({format:e.format,autoPad:["NOTSET","VALID","SAME_UPPER","SAME_LOWER"][e.auto_pad],ceilMode:e.ceil_mode,kernelShape:e.kernel_shape,strides:e.strides,pads:e.pads}),f=(e,t,n,i)=>{const[o,s]=u(e,i,n),l=r.ShapeUtil.size(o.kernelShape),f="f32";let p="";return o.countIncludePad?p+=`value /= ${f}(${l});`:p+=`value /= ${f}(${l} - pad);`,Object.assign(Object.assign({},t),{outputs:[{dims:s,dataType:e[0].dataType,gpuDataType:a.GpuDataType.default}],getShaderSource:t=>c(t,e[0].dims,s,o,"value += x_val;",p,f,"0.0"),dispatchGroup:()=>({x:Math.ceil(r.ShapeUtil.size(s)/64)})})};t.parseAveragePoolAttributes=e=>{const t=0!==e.count_include_pad,n=l(e);if(0!==n.ceilMode)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");return(0,i.createAttributeWithCacheKey)(Object.assign({countIncludePad:t},n))},t.averagePool=(e,t)=>{s(e.inputs);const n={name:"AveragePool",inputTypes:[a.GpuDataType.default],cacheHint:t.cacheKey};e.compute(Object.assign(Object.assign({},n),{get:()=>f(e.inputs,n,!1,t)}))};const p={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[],cacheKey:""};t.parseGlobalAveragePoolAttributes=e=>{const t=e.format;return Object.assign(Object.assign({format:t},p),{cacheKey:t})},t.globalAveragePool=(e,t)=>{s(e.inputs);const n={name:"GlobalAveragePool",inputTypes:[a.GpuDataType.default],cacheHint:t.cacheKey};e.compute(Object.assign(Object.assign({},n),{get:()=>f(e.inputs,n,!0,t)}))};const d=(e,t,n,i)=>{const[o,s]=u(e,i,n);return Object.assign(Object.assign({},t),{outputs:[{dims:s,dataType:e[0].dataType,gpuDataType:a.GpuDataType.default}],getShaderSource:t=>c(t,e[0].dims,s,o,"\\n      value = max(x_val, value);\\n    ","","f32","-1e5"),dispatchGroup:()=>({x:Math.ceil(r.ShapeUtil.size(s)/64)})})};t.maxPool=(e,t)=>{s(e.inputs);const n={name:"MaxPool",inputTypes:[a.GpuDataType.default],cacheHint:t.cacheKey};e.compute(Object.assign(Object.assign({},n),{get:()=>d(e.inputs,n,!1,t)}))},t.parseMaxPoolAttributes=e=>{const t=e.storage_order,n=e.dilations,r=l(e);if(0!==t)throw new Error("column major storage order is not yet supported for MaxPool");if(0!==r.ceilMode)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");return(0,i.createAttributeWithCacheKey)(Object.assign({storageOrder:t,dilations:n},r))},t.parseGlobalMaxPoolAttributes=e=>{const t=e.format;return Object.assign(Object.assign({format:t},p),{cacheKey:t})},t.globalMaxPool=(e,t)=>{s(e.inputs);const n={name:"GlobalMaxPool",inputTypes:[a.GpuDataType.default],cacheHint:t.cacheKey};e.compute(Object.assign(Object.assign({},n),{get:()=>d(e.inputs,n,!0,t)}))}},625:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseTransposeAttributes=t.transpose=t.createTransposeProgramInfo=t.transposeProgramMetadata=void 0;const r=n(952),i=n(387),a=n(163),o=n(75);t.transposeProgramMetadata={name:"Transpose",inputTypes:[a.GpuDataType.default]};const s=(e,t)=>t&&t.length!==e.length?[...e.keys()].reverse():t;t.createTransposeProgramInfo=(e,n)=>{const i=e.dims,u=s(i,n),c=((e,t)=>r.ShapeUtil.sortBasedOnPerm(e,s(e,t)))(i,u),l=i.length,f=r.ShapeUtil.size(c),p=(0,o.createIndicesHelper)("output",c),d=(0,o.createIndicesHelper)("a",i);return Object.assign(Object.assign({},t.transposeProgramMetadata),{outputs:[{dims:c,dataType:e.dataType,gpuDataType:a.GpuDataType.default}],getShaderSource:e=>`\\n  @group(0) @binding(0) var<storage, read> a : array<f32>;\\n  @group(0) @binding(1) var<storage, read_write> output : array<f32>;\\n\\n  ${((e,t)=>{const n=[];n.push(`fn perm(a: ptr<function, array<u32, ${t}>>, i: ptr<function, array<u32, ${t}>>) {`);for(let r=0;r<t;++r)n.push(`\\t(*a)[${e[r]}]=(*i)[${r}];`);return n.push("\\t}"),n.join("\\n")})(u,l)}\\n  ${p.o2iImpl}\\n  ${d.i2oImpl}\\n\\n  ${e.mainStart()}\\n    ${e.guardAgainstOutOfBoundsWorkgroupSizes(f)}\\n\\n    ${p.indicesVariableDeclaration("indices")}\\n    ${p.o2iCall("global_idx","indices")}\\n    ${d.indicesVariableDeclaration("aIndices")}\\n    perm(&aIndices, &indices);\\n\\n    output[global_idx] = a[${d.i2oExpression("aIndices")}];\\n  }`,dispatchGroup:()=>({x:Math.ceil(f/64)})})},t.transpose=(e,n)=>{(e=>{if(!e||1!==e.length)throw new Error("Transpose requires 1 input.");if(1!==e[0].dataType)throw new Error("input should be float tensor")})(e.inputs),e.compute(Object.assign(Object.assign({},t.transposeProgramMetadata),{cacheHint:n.cacheKey,get:()=>(0,t.createTransposeProgramInfo)(e.inputs[0],n.perm)}))},t.parseTransposeAttributes=e=>(0,i.createAttributeWithCacheKey)({perm:e.perm})},302:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.thresholdedRelu=t.tanh=t.tan=t.sqrt=t.sinh=t.sin=t.sigmoid=t.relu=t.reciprocal=t.neg=t.leakyRelu=t.floor=t.exp=t.erf=t.elu=t.parseAlphaAttributes=t.cosh=t.cos=t.ceil=t.clip=t.clipV10=t.atanh=t.atan=t.asinh=t.asin=t.acosh=t.acos=t.abs=void 0;const r=n(952),i=n(387),a=n(163),o=(e,t,n,i,o)=>{const s={name:t,inputTypes:[a.GpuDataType.default],cacheHint:o};return Object.assign(Object.assign({},s),{get:()=>((e,t,n,i)=>Object.assign(Object.assign({},e),{getShaderSource:e=>((e,t,n,r)=>{const i=Math.ceil(t/4);let a="";return a="string"==typeof n?`${n}(a)`:n("a"),`\\n  @group(0) @binding(0) var<storage, read> inputData : array<vec4<f32>>;\\n  @group(0) @binding(1) var<storage, read_write> outputData : array<vec4<f32>>;\\n\\n  ${null!=r?r:""}\\n\\n  ${e.mainStart()}\\n    ${e.guardAgainstOutOfBoundsWorkgroupSizes(i)}\\n\\n    let a = inputData[global_idx];\\n    outputData[global_idx] = ${a};\\n  }`})(e,r.ShapeUtil.size(t.dims),n,i),outputs:[{dims:t.dims,dataType:t.dataType,gpuDataType:a.GpuDataType.default}],dispatchGroup:e=>({x:Math.ceil(r.ShapeUtil.size(e[0].dims)/64/4)})}))(s,e,n,i)})};t.abs=e=>{e.compute(o(e.inputs[0],"Abs","abs"))},t.acos=e=>{e.compute(o(e.inputs[0],"Acos","acos"))},t.acosh=e=>{e.compute(o(e.inputs[0],"Acosh","acosh"))},t.asin=e=>{e.compute(o(e.inputs[0],"Asin","asin"))},t.asinh=e=>{e.compute(o(e.inputs[0],"Asinh","asinh"))},t.atan=e=>{e.compute(o(e.inputs[0],"Atan","atan"))},t.atanh=e=>{e.compute(o(e.inputs[0],"Atanh","atanh"))},t.clipV10=(e,t)=>{e.compute(o(e.inputs[0],"Clip",(e=>`clamp(${e}, clip_min_, clip_max_)`),`\\n    const clip_min_: vec4<f32> = vec4(f32(${t.min}));\\n    const clip_max_: vec4<f32> = vec4(f32(${t.max}));\\n`,t.cacheKey),{inputs:[0]})},t.clip=e=>{const n=(e=>{const t=e.length>=2?e[1].getFloat32Array()[0]:r.MIN_CLIP,n=e.length>=3?e[2].getFloat32Array()[0]:r.MAX_CLIP;return(0,i.createAttributeWithCacheKey)({min:t,max:n})})(e.inputs);(0,t.clipV10)(e,n)},t.ceil=e=>{e.compute(o(e.inputs[0],"Ceil","ceil"))},t.cos=e=>{e.compute(o(e.inputs[0],"Cos","cos"))},t.cosh=e=>{e.compute(o(e.inputs[0],"Cosh","cosh"))},t.parseAlphaAttributes=e=>(0,i.createAttributeWithCacheKey)(e),t.elu=(e,t)=>{e.compute(o(e.inputs[0],"Elu",(e=>`elu_vf32(${e})`),`\\n  const elu_alpha_: f32 = f32(${t.alpha});\\n\\n  fn elu_f32(a: f32) -> f32 {\\n  return select((exp(a) - 1.0) * elu_alpha_, a, a >= 0.0);\\n  }\\n\\n  fn elu_vf32(v: vec4<f32>) -> vec4<f32> {\\n  return vec4(elu_f32(v.x), elu_f32(v.y), elu_f32(v.z), elu_f32(v.w));\\n  }`,t.cacheKey))},t.erf=e=>{e.compute(o(e.inputs[0],"Erf",(e=>`erf_vf32(${e})`),"\\n  const r0: f32 = 0.3275911;\\n  const r1: f32 = 0.254829592;\\n  const r2: f32 = -0.284496736;\\n  const r3: f32 = 1.421413741;\\n  const r4: f32 = -1.453152027;\\n  const r5: f32 = 1.061405429;\\n\\n  fn erf_vf32(v: vec4<f32>) -> vec4<f32> {\\n    let absv = abs(v);\\n    let x = 1.0 / (1.0 + r0 * absv);\\n    return sign(v) * (1.0 - ((((r5 * x + r4) * x + r3) * x + r2) * x + r1) * x * exp(-absv * absv));\\n  }"))},t.exp=e=>{e.compute(o(e.inputs[0],"Exp","exp"))},t.floor=e=>{e.compute(o(e.inputs[0],"Floor","floor"))},t.leakyRelu=(e,t)=>{e.compute(o(e.inputs[0],"LeakyRelu",(e=>`select(leaky_relu_alpha_ * ${e}, ${e}, ${e} >= vec4<f32>(0.0))`),`const leaky_relu_alpha_: f32 = f32(${t.alpha});`,t.cacheKey))},t.neg=e=>{e.compute(o(e.inputs[0],"Neg",(e=>`-${e}`)))},t.reciprocal=e=>{e.compute(o(e.inputs[0],"Reciprocal",(e=>`1.0/${e}`)))},t.relu=e=>{e.compute(o(e.inputs[0],"Relu",(e=>`select(vec4<f32>(0.0), ${e}, ${e} > vec4<f32>(0.0))`)))},t.sigmoid=e=>{e.compute(o(e.inputs[0],"Sigmoid",(e=>`(1.0 / (1.0 + exp(-${e})))`)))},t.sin=e=>{e.compute(o(e.inputs[0],"Sin","sin"))},t.sinh=e=>{e.compute(o(e.inputs[0],"Sinh","sinh"))},t.sqrt=e=>{e.compute(o(e.inputs[0],"Sqrt","sqrt"))},t.tan=e=>{e.compute(o(e.inputs[0],"Tan","tan"))},t.tanh=e=>{e.compute(o(e.inputs[0],"Tanh","tanh"))},t.thresholdedRelu=(e,t)=>(e.compute(o(e.inputs[0],"ThresholdedRelu",(e=>`select(vec4<f32>(0.0), ${e}, ${e} > thresholded_relu_alpha_)`),`const thresholded_relu_alpha_: vec4<f32> = vec4<f32>(${t.alpha});`,t.cacheKey)),0)},305:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgramManager=void 0;const r=n(955),i=n(75);t.ProgramManager=class{constructor(e){this.backend=e,this.repo=new Map,this.attributesBound=!1}getArtifact(e){return this.repo.get(e)}setArtifact(e,t){this.repo.set(e,t)}run(e,t,n,r){const i=this.backend.device,a=this.backend.getComputePassEncoder();this.backend.profilingEnabled&&a.writeTimestamp(this.backend.profilingQuerySet,0),a.setPipeline(e.computePipeline);const o=[];for(const e of t)o.push({binding:o.length,resource:{buffer:e.buffer}});for(const e of n)o.push({binding:o.length,resource:{buffer:e.buffer}});const s=i.createBindGroup({layout:e.computePipeline.getBindGroupLayout(0),entries:o});if(a.setBindGroup(0,s),a.dispatchWorkgroups(...r),this.backend.pendingDispatchNumber++,this.backend.profilingEnabled){a.writeTimestamp(this.backend.profilingQuerySet,1);const e=this.backend.gpuDataManager.create(16,GPUBufferUsage.COPY_SRC|GPUBufferUsage.QUERY_RESOLVE),t=this.backend.gpuDataManager.create(16,GPUBufferUsage.MAP_READ|GPUBufferUsage.COPY_DST);this.backend.endComputePass(),this.backend.getCommandEncoder().resolveQuerySet(this.backend.profilingQuerySet,0,2,e.buffer,0),this.backend.getCommandEncoder().copyBufferToBuffer(e.buffer,0,t.buffer,0,16),this.backend.flush();const n=this.backend.currentKernelId,r=this.backend.kernels.get(n)[0];t.buffer.mapAsync(GPUMapMode.READ).then((()=>{const i=new BigUint64Array(t.buffer.getMappedRange()),a=i[0],o=i[1];t.buffer.unmap(),void 0===this.backend.profilingTimeBase&&(this.backend.profilingTimeBase=a);const s=Number(a-this.backend.profilingTimeBase),u=Number(o-this.backend.profilingTimeBase);if(!Number.isSafeInteger(s)||!Number.isSafeInteger(u))throw new RangeError("incorrect timestamp range");this.backend.gpuDataManager.release(e.id),this.backend.gpuDataManager.release(t.id),console.log(`[profiling] kernel "${n}|${r}" execution time: ${u-s} ns`)}))}this.backend.pendingDispatchNumber>=16&&this.backend.flush()}dispose(){}build(e,t){const n=this.backend.device,a=e.getShaderSource((0,i.createShaderHelper)(t)),o=n.createShaderModule({code:a});return(0,r.LOG_DEBUG)("verbose",(()=>`[WebGPU] shader code: ${a}`)),{programInfo:e,computePipeline:n.createComputePipeline({compute:{module:o,entryPoint:"main"},layout:"auto"})}}normalizeDispatchGroupSize(e){const t="number"==typeof e?e:e.x,n="number"==typeof e?1:e.y||1,r="number"==typeof e?1:e.z||1,i=this.backend.device.limits.maxComputeWorkgroupsPerDimension;if(t<=i&&n<=i&&r<=i)return[t,n,r];const a=t*n*r;let o=Math.ceil(Math.sqrt(a));if(o>i){if(o=Math.ceil(Math.cbrt(a)),o>i)throw new Error("Total dispatch size exceeds WebGPU maximum.");return[o,o,o]}return[o,o,1]}}},163:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.GpuDataType=void 0,(n=t.GpuDataType||(t.GpuDataType={}))[n.default=0]="default",n[n.upload=1]="upload",n[n.profile=2]="profile"},899:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.iterateExtraOptions=void 0,t.iterateExtraOptions=(e,n,r,i)=>{if("object"==typeof e&&null!==e){if(r.has(e))throw new Error("Circular reference in options");r.add(e)}Object.entries(e).forEach((([e,a])=>{const o=n?n+e:e;if("object"==typeof a)(0,t.iterateExtraOptions)(a,o+".",r,i);else if("string"==typeof a||"number"==typeof a)i(o,a.toString());else{if("boolean"!=typeof a)throw new Error("Can\'t handle extra config type: "+typeof a);i(o,a?"1":"0")}}))}},918:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setRunOptions=void 0;const r=n(899),i=n(444),a=n(263);t.setRunOptions=e=>{const t=(0,a.getInstance)();let n=0;const o=[],s=e||{};try{if(void 0===(null==e?void 0:e.logSeverityLevel))s.logSeverityLevel=2;else if("number"!=typeof e.logSeverityLevel||!Number.isInteger(e.logSeverityLevel)||e.logSeverityLevel<0||e.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${e.logSeverityLevel}`);if(void 0===(null==e?void 0:e.logVerbosityLevel))s.logVerbosityLevel=0;else if("number"!=typeof e.logVerbosityLevel||!Number.isInteger(e.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${e.logVerbosityLevel}`);void 0===(null==e?void 0:e.terminate)&&(s.terminate=!1);let a=0;if(void 0!==(null==e?void 0:e.tag)&&(a=(0,i.allocWasmString)(e.tag,o)),n=t._OrtCreateRunOptions(s.logSeverityLevel,s.logVerbosityLevel,!!s.terminate,a),0===n)throw new Error("Can\'t create run options");return void 0!==(null==e?void 0:e.extra)&&(0,r.iterateExtraOptions)(e.extra,"",new WeakSet,((e,r)=>{const a=(0,i.allocWasmString)(e,o),s=(0,i.allocWasmString)(r,o);if(0!==t._OrtAddRunConfigEntry(n,a,s))throw new Error(`Can\'t set a run config entry: ${e} - ${r}`)})),[n,o]}catch(e){throw 0!==n&&t._OrtReleaseRunOptions(n),o.forEach(t._free),e}}},622:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSessionOptions=void 0;const r=n(899),i=n(444),a=n(263);t.setSessionOptions=e=>{var t,n,o,s;const u=(0,a.getInstance)();let c=0;const l=[],f=e||{};(e=>{e.extra||(e.extra={}),e.extra.session||(e.extra.session={});const t=e.extra.session;t.use_ort_model_bytes_directly||(t.use_ort_model_bytes_directly="1"),e.executionProviders&&e.executionProviders.some((e=>"webgpu"===("string"==typeof e?e:e.name)))&&(e.enableMemPattern=!1)})(f);try{const e=(e=>{switch(e){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${e}`)}})(null!==(t=f.graphOptimizationLevel)&&void 0!==t?t:"all"),p=(e=>{switch(e){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${e}`)}})(null!==(n=f.executionMode)&&void 0!==n?n:"sequential"),d="string"==typeof f.logId?(0,i.allocWasmString)(f.logId,l):0,h=null!==(o=f.logSeverityLevel)&&void 0!==o?o:2;if(!Number.isInteger(h)||h<0||h>4)throw new Error(`log serverity level is not valid: ${h}`);const g=null!==(s=f.logVerbosityLevel)&&void 0!==s?s:0;if(!Number.isInteger(g)||g<0||g>4)throw new Error(`log verbosity level is not valid: ${g}`);const m="string"==typeof f.optimizedModelFilePath?(0,i.allocWasmString)(f.optimizedModelFilePath,l):0;if(c=u._OrtCreateSessionOptions(e,!!f.enableCpuMemArena,!!f.enableMemPattern,p,!!f.enableProfiling,0,d,h,g,m),0===c)throw new Error("Can\'t create session options");return f.executionProviders&&((e,t,n)=>{for(const r of t){let t="string"==typeof r?r:r.name;switch(t){case"xnnpack":t="XNNPACK";break;case"webnn":if(t="WEBNN","string"!=typeof r){const t=r;if(null==t?void 0:t.deviceType){const r=(0,i.allocWasmString)("deviceType",n),o=(0,i.allocWasmString)(t.deviceType,n);if(0!==(0,a.getInstance)()._OrtAddSessionConfigEntry(e,r,o))throw new Error(`Can\'t set a session config entry: \'deviceType\' - ${t.deviceType}`)}if(null==t?void 0:t.powerPreference){const r=(0,i.allocWasmString)("powerPreference",n),o=(0,i.allocWasmString)(t.powerPreference,n);if(0!==(0,a.getInstance)()._OrtAddSessionConfigEntry(e,r,o))throw new Error(`Can\'t set a session config entry: \'powerPreference\' - ${t.powerPreference}`)}}break;case"webgpu":t="JS";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported EP: ${t}`)}const o=(0,i.allocWasmString)(t,n);if(0!==(0,a.getInstance)()._OrtAppendExecutionProvider(e,o))throw new Error(`Can\'t append execution provider: ${t}`)}})(c,f.executionProviders,l),void 0!==f.extra&&(0,r.iterateExtraOptions)(f.extra,"",new WeakSet,((e,t)=>{const n=(0,i.allocWasmString)(e,l),r=(0,i.allocWasmString)(t,l);if(0!==u._OrtAddSessionConfigEntry(c,n,r))throw new Error(`Can\'t set a session config entry: ${e} - ${t}`)})),[c,l]}catch(e){throw 0!==c&&u._OrtReleaseSessionOptions(c),l.forEach(u._free),e}}},444:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.allocWasmString=void 0;const r=n(263);t.allocWasmString=(e,t)=>{const n=(0,r.getInstance)(),i=n.lengthBytesUTF8(e)+1,a=n._malloc(i);return n.stringToUTF8(e,a,i),t.push(a),a}},917:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logLevelStringToEnum=t.tensorTypeToTypedArrayConstructor=t.getTensorElementSize=t.tensorDataTypeEnumToString=t.tensorDataTypeStringToEnum=void 0,t.tensorDataTypeStringToEnum=e=>{switch(e){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${e}`)}},t.tensorDataTypeEnumToString=e=>{switch(e){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:case 10:return"uint16";case 6:return"int32";case 12:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${e}`)}},t.getTensorElementSize=e=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][e],t.tensorTypeToTypedArrayConstructor=e=>{switch(e){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${e}`)}},t.logLevelStringToEnum=e=>{switch(e){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${e}`)}}},259:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractTransferableBuffers=t.endProfiling=t.run=t.releaseSession=t.createSession=t.createSessionFinalize=t.createSessionAllocate=t.initRuntime=void 0;const r=n(675),i=n(918),a=n(622),o=n(444),s=n(917),u=n(263);t.initRuntime=async e=>{await(async(e,t)=>{const n=(0,u.getInstance)()._OrtInit(e,t);if(0!==n)throw new Error(`Can\'t initialize onnxruntime. error code = ${n}`)})(e.wasm.numThreads,(0,s.logLevelStringToEnum)(e.logLevel)),await(0,r.init)((0,u.getInstance)(),e)};const c=new Map;t.createSessionAllocate=e=>{const t=(0,u.getInstance)(),n=t._malloc(e.byteLength);return t.HEAPU8.set(e,n),[n,e.byteLength]},t.createSessionFinalize=(e,t)=>{const n=(0,u.getInstance)();let r=0,i=0,o=[];try{if([i,o]=(0,a.setSessionOptions)(t),r=n._OrtCreateSession(e[0],e[1],i),0===r)throw new Error("Can\'t create a session")}finally{n._free(e[0]),0!==i&&n._OrtReleaseSessionOptions(i),o.forEach(n._free)}const s=n._OrtGetInputCount(r),l=n._OrtGetOutputCount(r),f=[],p=[],d=[],h=[];for(let e=0;e<s;e++){const t=n._OrtGetInputName(r,e);if(0===t)throw new Error("Can\'t get an input name");p.push(t),f.push(n.UTF8ToString(t))}for(let e=0;e<l;e++){const t=n._OrtGetOutputName(r,e);if(0===t)throw new Error("Can\'t get an output name");h.push(t),d.push(n.UTF8ToString(t))}return c.set(r,[r,p,h]),[r,f,d]},t.createSession=(e,n)=>{const r=(0,t.createSessionAllocate)(e);return(0,t.createSessionFinalize)(r,n)},t.releaseSession=e=>{const t=(0,u.getInstance)(),n=c.get(e);if(!n)throw new Error("invalid session id");const r=n[0],i=n[1],a=n[2];i.forEach(t._OrtFree),a.forEach(t._OrtFree),t._OrtReleaseSession(r),c.delete(e)},t.run=async(e,t,n,r,a)=>{const l=(0,u.getInstance)(),f=c.get(e);if(!f)throw new Error("invalid session id");const p=f[0],d=f[1],h=f[2],g=t.length,m=r.length;let v=0,y=[];const w=[],_=[];try{[v,y]=(0,i.setRunOptions)(a);for(let e=0;e<g;e++){const t=n[e][0],r=n[e][1],i=n[e][2];let a,u;if(Array.isArray(i)){u=4*i.length,a=l._malloc(u),_.push(a);let e=a/4;for(let t=0;t<i.length;t++){if("string"!=typeof i[t])throw new TypeError(`tensor data at index ${t} is not a string`);l.HEAPU32[e++]=(0,o.allocWasmString)(i[t],_)}}else u=i.byteLength,a=l._malloc(u),_.push(a),l.HEAPU8.set(new Uint8Array(i.buffer,i.byteOffset,u),a);const c=l.stackSave(),f=l.stackAlloc(4*r.length);try{let e=f/4;r.forEach((t=>l.HEAP32[e++]=t));const n=l._OrtCreateTensor((0,s.tensorDataTypeStringToEnum)(t),a,u,f,r.length);if(0===n)throw new Error("Can\'t create a tensor");w.push(n)}finally{l.stackRestore(c)}}const e=l.stackSave(),u=l.stackAlloc(4*g),c=l.stackAlloc(4*g),f=l.stackAlloc(4*m),b=l.stackAlloc(4*m);try{let e=u/4,n=c/4,i=f/4,a=b/4;for(let r=0;r<g;r++)l.HEAPU32[e++]=w[r],l.HEAPU32[n++]=d[t[r]];for(let e=0;e<m;e++)l.HEAPU32[i++]=0,l.HEAPU32[a++]=h[r[e]];let o=l._OrtRun(p,c,u,g,b,m,f,v);const y=l.jsepRunPromise;y&&void 0!==y.then&&(o=await y);const _=[];if(0===o)for(let e=0;e<m;e++){const t=l.HEAPU32[f/4+e],n=l.stackSave(),r=l.stackAlloc(16);let i,a=0;try{if(o=l._OrtGetTensorData(t,r,r+4,r+8,r+12),0!==o)throw new Error(`Can\'t access output tensor data. error code = ${o}`);let e=r/4;const n=l.HEAPU32[e++];a=l.HEAPU32[e++];const u=l.HEAPU32[e++],c=l.HEAPU32[e++],f=[];for(let e=0;e<c;e++)f.push(l.HEAPU32[u/4+e]);l._OrtFree(u);const p=0===f.length?1:f.reduce(((e,t)=>e*t));if(i=(0,s.tensorDataTypeEnumToString)(n),"string"===i){const e=[];let t=a/4;for(let n=0;n<p;n++){const r=l.HEAPU32[t++],i=n===p-1?void 0:l.HEAPU32[t]-r;e.push(l.UTF8ToString(r,i))}_.push([i,f,e])}else{const e=new((0,s.tensorTypeToTypedArrayConstructor)(i))(p);new Uint8Array(e.buffer,e.byteOffset,e.byteLength).set(l.HEAPU8.subarray(a,a+e.byteLength)),_.push([i,f,e])}}finally{l.stackRestore(n),"string"===i&&a&&l._free(a),l._OrtReleaseTensor(t)}}if(0===o)return _;throw new Error(`failed to call OrtRun(). error code = ${o}.`)}finally{l.stackRestore(e)}}finally{w.forEach(l._OrtReleaseTensor),_.forEach(l._free),l._OrtReleaseRunOptions(v),y.forEach(l._free)}},t.endProfiling=e=>{const t=(0,u.getInstance)(),n=c.get(e);if(!n)throw new Error("invalid session id");const r=n[0],i=t._OrtEndProfiling(r);if(0===i)throw new Error("Can\'t get an profile file name");t._OrtFree(i)},t.extractTransferableBuffers=e=>{const t=[];for(const n of e){const e=n[2];!Array.isArray(e)&&e.buffer&&t.push(e.buffer)}return t}},263:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.dispose=t.getInstance=t.initializeWebAssembly=void 0;const o=a(n(449)),s=n(932),u=n(474);let c,l=!1,f=!1,p=!1;t.initializeWebAssembly=async e=>{if(l)return Promise.resolve();if(f)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(p)throw new Error("previous call to \'initializeWebAssembly()\' failed.");f=!0;const t=e.initTimeout,r=e.numThreads,i=e.simd,a=r>1&&(()=>{try{return"undefined"!=typeof SharedArrayBuffer&&("undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch(e){return!1}})(),d=i&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch(e){return!1}})(),h=e.wasmPaths,g="string"==typeof h?h:void 0,m=((e,t)=>t?e?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":e?"ort-wasm-simd.wasm":"ort-wasm.wasm")(d,a),v="object"==typeof h?h[m]:void 0;let y=!1;const w=[];if(t>0&&w.push(new Promise((e=>{setTimeout((()=>{y=!0,e()}),t)}))),w.push(new Promise(((e,t)=>{const r=a?u:s,i={locateFile:(e,t)=>a&&e.endsWith(".worker.js")&&"undefined"!=typeof Blob?URL.createObjectURL(new Blob([n(154)],{type:"text/javascript"})):e.endsWith(".wasm")?v||(null!=g?g:t)+m:t+e};if(a)if("undefined"==typeof Blob)i.mainScriptUrlOrBlob=o.join("/","ort-wasm-threaded.js");else{const e=`var ortWasmThreaded=(function(){var _scriptDir;return ${r.toString()}})();`;i.mainScriptUrlOrBlob=new Blob([e],{type:"text/javascript"})}r(i).then((t=>{f=!1,l=!0,c=t,e()}),(e=>{f=!1,p=!0,t(e)}))}))),await Promise.race(w),y)throw new Error(`WebAssembly backend initializing failed due to timeout: ${t}ms`)},t.getInstance=()=>{if(l&&c)return c;throw new Error("WebAssembly is not initialized yet.")},t.dispose=()=>{var e;!l||f||p||(f=!0,null===(e=c.PThread)||void 0===e||e.terminateAllThreads(),c=void 0,f=!1,l=!1,p=!0)}},474:(e,t,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e={}){function t(){return P.buffer!=x.buffer&&B(),x}function r(){return P.buffer!=x.buffer&&B(),R}function i(){return P.buffer!=x.buffer&&B(),I}function a(){return P.buffer!=x.buffer&&B(),D}function o(){return P.buffer!=x.buffer&&B(),U}var s,u,c;s||(s=void 0!==e?e:{}),s.ready=new Promise(((e,t)=>{u=e,c=t}));var l,f,p,d=Object.assign({},s),h="./this.program",g=(e,t)=>{throw t},m="object"==typeof window,v="function"==typeof importScripts,y="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,w=s.ENVIRONMENT_IS_PTHREAD||!1,_="";function b(e){return s.locateFile?s.locateFile(e,_):_+e}if(y){var $=n(384),S=n(908);let t;_=v?S.dirname(_)+"/":"//",l=(e,t)=>(e=e.startsWith("file://")?new URL(e):S.normalize(e),$.readFileSync(e,t?void 0:"utf8")),p=e=>((e=l(e,!0)).buffer||(e=new Uint8Array(e)),e),f=(e,t,n,r=!0)=>{e=e.startsWith("file://")?new URL(e):S.normalize(e),$.readFile(e,r?void 0:"utf8",((e,i)=>{e?n(e):t(r?i.buffer:i)}))},!s.thisProgram&&1<process.argv.length&&(h=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),g=(e,t)=>{throw process.exitCode=e,t},s.inspect=()=>"[Emscripten Module object]";try{t=n(925)}catch(e){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),e}n.g.Worker=t.Worker}else(m||v)&&(v?_=self.location.href:"undefined"!=typeof document&&document.currentScript&&(_=document.currentScript.src),_scriptDir&&(_=_scriptDir),_=0!==_.indexOf("blob:")?_.substr(0,_.replace(/[?#].*/,"").lastIndexOf("/")+1):"",y||(l=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},v&&(p=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),f=(e,t,n)=>{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)}));y&&"undefined"==typeof performance&&(n.g.performance=n(953).performance);var k=console.log.bind(console),O=console.warn.bind(console);y&&(k=(...e)=>$.writeSync(1,e.join(" ")+"\\n"),O=(...e)=>$.writeSync(2,e.join(" ")+"\\n"));var A,C=s.print||k,T=s.printErr||O;Object.assign(s,d),d=null,s.thisProgram&&(h=s.thisProgram),s.quit&&(g=s.quit),s.wasmBinary&&(A=s.wasmBinary);var j=s.noExitRuntime||!0;"object"!=typeof WebAssembly&&Z("no native wasm support detected");var P,E,M,x,R,I,D,U,G=!1;function B(){var e=P.buffer;s.HEAP8=x=new Int8Array(e),s.HEAP16=new Int16Array(e),s.HEAP32=I=new Int32Array(e),s.HEAPU8=R=new Uint8Array(e),s.HEAPU16=new Uint16Array(e),s.HEAPU32=D=new Uint32Array(e),s.HEAPF32=new Float32Array(e),s.HEAPF64=U=new Float64Array(e)}var W=s.INITIAL_MEMORY||16777216;if(5242880<=W||Z("INITIAL_MEMORY should be larger than STACK_SIZE, was "+W+"! (STACK_SIZE=5242880)"),w)P=s.wasmMemory;else if(s.wasmMemory)P=s.wasmMemory;else if(!((P=new WebAssembly.Memory({initial:W/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw T("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),y&&T("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");B(),W=P.buffer.byteLength;var z,F=[],L=[],H=[],N=0;function K(){return j||0<N}function Y(){var e=s.preRun.shift();F.unshift(e)}var V,q=0,J=null,X=null;function Z(e){throw s.onAbort&&s.onAbort(e),T(e="Aborted("+e+")"),G=!0,M=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),c(e),e}function Q(e){return e.startsWith("data:application/octet-stream;base64,")}function ee(e){try{if(e==V&&A)return new Uint8Array(A);if(p)return p(e);throw"both async and sync fetching of the wasm failed"}catch(e){Z(e)}}function te(e,t,n){return function(e){if(!A&&(m||v)){if("function"==typeof fetch&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then((t=>{if(!t.ok)throw"failed to load wasm binary file at \'"+e+"\'";return t.arrayBuffer()})).catch((()=>ee(e)));if(f)return new Promise(((t,n)=>{f(e,(e=>t(new Uint8Array(e))),n)}))}return Promise.resolve().then((()=>ee(e)))}(e).then((e=>WebAssembly.instantiate(e,t))).then((e=>e)).then(n,(e=>{T("failed to asynchronously prepare wasm: "+e),Z(e)}))}function ne(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function re(e){e.terminate(),e.onmessage=()=>{}}function ie(e){(e=pe.Ha[e])||Z(),pe.hb(e)}function ae(e){var t=pe.bb();if(!t)return 6;pe.Ka.push(t),pe.Ha[e.Ja]=t,t.Ja=e.Ja;var n={cmd:"run",start_routine:e.ib,arg:e.$a,pthread_ptr:e.Ja};return y&&t.unref(),t.postMessage(n,e.ob),0}Q(V="ort-wasm-threaded.wasm")||(V=b(V));var oe="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function se(e,t,n){var r=(t>>>=0)+n;for(n=t;e[n]&&!(n>=r);)++n;if(16<n-t&&e.buffer&&oe)return oe.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,n):e.subarray(t,n));for(r="";t<n;){var i=e[t++];if(128&i){var a=63&e[t++];if(192==(224&i))r+=String.fromCharCode((31&i)<<6|a);else{var o=63&e[t++];65536>(i=224==(240&i)?(15&i)<<12|a<<6|o:(7&i)<<18|a<<12|o<<6|63&e[t++])?r+=String.fromCharCode(i):(i-=65536,r+=String.fromCharCode(55296|i>>10,56320|1023&i))}}else r+=String.fromCharCode(i)}return r}function ue(e,t){return(e>>>=0)?se(r(),e,t):""}function ce(e){if(w)return Ke(1,1,e);M=e,K()||(pe.jb(),s.onExit&&s.onExit(e),G=!0),g(e,new ne(e))}function le(e){if(M=e,w)throw he(e),"unwind";ce(e)}function fe(e){e instanceof ne||"unwind"==e||g(1,e)}var pe={Na:[],Ka:[],Va:[],Ha:{},Ra:function(){w&&pe.cb()},rb:function(){},cb:function(){pe.receiveObjectTransfer=pe.gb,pe.threadInitTLS=pe.Ua,pe.setExitStatus=pe.Ta,j=!1},Ta:function(e){M=e},tb:["$terminateWorker"],jb:function(){for(var e of pe.Ka)re(e);for(e of pe.Na)re(e);pe.Na=[],pe.Ka=[],pe.Ha=[]},hb:function(e){var t=e.Ja;delete pe.Ha[t],pe.Na.push(e),pe.Ka.splice(pe.Ka.indexOf(e),1),e.Ja=0,ht(t)},gb:function(){},Ua:function(){pe.Va.forEach((e=>e()))},fb:e=>new Promise((t=>{e.onmessage=n=>{var r=(n=n.data).cmd;if(e.Ja&&(pe.ab=e.Ja),n.targetThread&&n.targetThread!=lt()){var i=pe.Ha[n.sb];i?i.postMessage(n,n.transferList):T(\'Internal error! Worker sent a message "\'+r+\'" to target pthread \'+n.targetThread+", but that thread no longer exists!")}else"checkMailbox"===r?De():"spawnThread"===r?ae(n):"cleanupThread"===r?ie(n.thread):"killThread"===r?(n=n.thread,r=pe.Ha[n],delete pe.Ha[n],re(r),ht(n),pe.Ka.splice(pe.Ka.indexOf(r),1),r.Ja=0):"cancelThread"===r?pe.Ha[n.thread].postMessage({cmd:"cancel"}):"loaded"===r?(e.loaded=!0,t(e)):"print"===r?C("Thread "+n.threadId+": "+n.text):"printErr"===r?T("Thread "+n.threadId+": "+n.text):"alert"===r?alert("Thread "+n.threadId+": "+n.text):"setimmediate"===n.target?e.postMessage(n):"callHandler"===r?s[n.handler](...n.args):r&&T("worker sent an unknown command "+r);pe.ab=void 0},e.onerror=e=>{throw T("worker sent an error! "+e.filename+":"+e.lineno+": "+e.message),e},y&&(e.on("message",(function(t){e.onmessage({data:t})})),e.on("error",(function(t){e.onerror(t)})));var n,r=[];for(n of["onExit","onAbort","print","printErr"])s.hasOwnProperty(n)&&r.push(n);e.postMessage({cmd:"load",handlers:r,urlOrBlob:s.mainScriptUrlOrBlob||_scriptDir,wasmMemory:P,wasmModule:E})})),eb:function(e){e()},Za:function(){var e=b("ort-wasm-threaded.worker.js");e=new Worker(e),pe.Na.push(e)},bb:function(){return 0==pe.Na.length&&(pe.Za(),pe.fb(pe.Na[0])),pe.Na.pop()}};function de(e){for(;0<e.length;)e.shift()(s)}function he(e){if(w)return Ke(2,0,e);le(e)}s.PThread=pe,s.establishStackSpace=function(){var e=lt(),t=i()[e+52>>2>>>0];yt(t,t-(e=i()[e+56>>2>>>0])),_t(t)};var ge=[];function me(e){this.Qa=e-24,this.Ya=function(e){a()[this.Qa+4>>2>>>0]=e},this.Xa=function(e){a()[this.Qa+8>>2>>>0]=e},this.Ra=function(e,t){this.Wa(),this.Ya(e),this.Xa(t)},this.Wa=function(){a()[this.Qa+16>>2>>>0]=0}}function ve(e,t,n,r){return w?Ke(3,1,e,t,n,r):ye(e,t,n,r)}function ye(e,t,n,r){if("undefined"==typeof SharedArrayBuffer)return T("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var i=[];return w&&0===i.length?ve(e,t,n,r):(e={ib:n,Ja:e,$a:r,ob:i},w?(e.qb="spawnThread",postMessage(e,i),0):ae(e))}function we(e,t,n){return w?Ke(4,1,e,t,n):0}function _e(e,t){if(w)return Ke(5,1,e,t)}function be(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);127>=r?t++:2047>=r?t+=2:55296<=r&&57343>=r?(t+=4,++n):t+=3}return t}function $e(e,t,n,r){if(!(0<r))return 0;var i=n>>>=0;r=n+r-1;for(var a=0;a<e.length;++a){var o=e.charCodeAt(a);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++a)),127>=o){if(n>=r)break;t[n++>>>0]=o}else{if(2047>=o){if(n+1>=r)break;t[n++>>>0]=192|o>>6}else{if(65535>=o){if(n+2>=r)break;t[n++>>>0]=224|o>>12}else{if(n+3>=r)break;t[n++>>>0]=240|o>>18,t[n++>>>0]=128|o>>12&63}t[n++>>>0]=128|o>>6&63}t[n++>>>0]=128|63&o}}return t[n>>>0]=0,n-i}function Se(e,t,n){return $e(e,r(),t,n)}function ke(e,t){if(w)return Ke(6,1,e,t)}function Oe(e,t,n){if(w)return Ke(7,1,e,t,n)}function Ae(e,t,n){return w?Ke(8,1,e,t,n):0}function Ce(e,t){if(w)return Ke(9,1,e,t)}function Te(e,t,n){if(w)return Ke(10,1,e,t,n)}function je(e,t,n,r){if(w)return Ke(11,1,e,t,n,r)}function Pe(e,t,n,r){if(w)return Ke(12,1,e,t,n,r)}function Ee(e,t,n,r){if(w)return Ke(13,1,e,t,n,r)}function Me(e){if(w)return Ke(14,1,e)}function xe(e,t){if(w)return Ke(15,1,e,t)}function Re(e,t,n){if(w)return Ke(16,1,e,t,n)}function Ie(e){"function"==typeof Atomics.pb&&(Atomics.pb(i(),e>>2,e).value.then(De),e+=128,Atomics.store(i(),e>>2,1))}function De(){var e=lt();e&&(Ie(e),function(e){if(!G)try{if(vt(),!K())try{w?mt(M):le(M)}catch(e){fe(e)}}catch(e){fe(e)}}())}function Ue(e){return a()[e>>>2]+4294967296*i()[e+4>>>2]}function Ge(e){return 0==e%4&&(0!=e%100||0==e%400)}s.invokeEntryPoint=function(e,t){var n=ge[e];n||(e>=ge.length&&(ge.length=e+1),ge[e]=n=z.get(e)),e=n(t),K()?pe.Ta(e):mt(e)},s.__emscripten_thread_mailbox_await=Ie,s.checkMailbox=De;var Be,We=[0,31,60,91,121,152,182,213,244,274,305,335],ze=[0,31,59,90,120,151,181,212,243,273,304,334];function Fe(e){return(Ge(e.getFullYear())?We:ze)[e.getMonth()]+e.getDate()-1}function Le(e,t,n,r,i,a,o){return w?Ke(17,1,e,t,n,r,i,a,o):-52}function He(e,t,n,r,i,a){if(w)return Ke(18,1,e,t,n,r,i,a)}function Ne(e){var t=be(e)+1,n=ft(t);return n&&Se(e,n,t),n}function Ke(e,t){var n=arguments.length-2,r=arguments;return function(e){var t=wt();return e=e(),_t(t),e}((()=>{for(var i=bt(8*n),a=i>>3,s=0;s<n;s++){var u=r[2+s];o()[a+s>>>0]=u}return dt(e,n,i,t)}))}Be=y?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:()=>performance.timeOrigin+performance.now();var Ye,Ve=[],qe={};function Je(){if(!Ye){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:h||"./this.program"};for(e in qe)void 0===qe[e]?delete t[e]:t[e]=qe[e];var n=[];for(e in t)n.push(e+"="+t[e]);Ye=n}return Ye}function Xe(e,n){if(w)return Ke(19,1,e,n);var r=0;return Je().forEach((function(i,o){var s=n+r;for(o=a()[e+4*o>>2>>>0]=s,s=0;s<i.length;++s)t()[o++>>0>>>0]=i.charCodeAt(s);t()[o>>0>>>0]=0,r+=i.length+1})),0}function Ze(e,t){if(w)return Ke(20,1,e,t);var n=Je();a()[e>>2>>>0]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),a()[t>>2>>>0]=r,0}function Qe(e){return w?Ke(21,1,e):52}function et(e,t,n,r){return w?Ke(22,1,e,t,n,r):52}function tt(e,t,n,r,i){return w?Ke(23,1,e,t,n,r,i):70}var nt=[null,[],[]];function rt(e,t,n,i){if(w)return Ke(24,1,e,t,n,i);for(var o=0,s=0;s<n;s++){var u=a()[t>>2>>>0],c=a()[t+4>>2>>>0];t+=8;for(var l=0;l<c;l++){var f=r()[u+l>>>0],p=nt[e];0===f||10===f?((1===e?C:T)(se(p,0)),p.length=0):p.push(f)}o+=c}return a()[i>>2>>>0]=o,0}function it(e){return(it=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues)return e=>(e.set(crypto.getRandomValues(new Uint8Array(e.byteLength))),e);if(y)try{var e=n(760);if(e.randomFillSync)return t=>e.randomFillSync(t);var t=e.randomBytes;return e=>(e.set(t(e.byteLength)),e)}catch(e){}Z("initRandomDevice")}())(e)}var at=[31,29,31,30,31,30,31,31,30,31,30,31],ot=[31,28,31,30,31,30,31,31,30,31,30,31];function st(e,n,r,a){function o(e,t,n){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=n[0]+e;return e}function s(e,t){return o(e,t,"0")}function u(e,t){function n(e){return 0>e?-1:0<e?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function c(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function l(e){var t=e.La;for(e=new Date(new Date(e.Ma+1900,0,1).getTime());0<t;){var n=e.getMonth(),r=(Ge(e.getFullYear())?at:ot)[n];if(!(t>r-e.getDate())){e.setDate(e.getDate()+t);break}t-=r-e.getDate()+1,e.setDate(1),11>n?e.setMonth(n+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return n=new Date(e.getFullYear()+1,0,4),t=c(new Date(e.getFullYear(),0,4)),n=c(n),0>=u(t,e)?0>=u(n,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var f=i()[a+40>>2>>>0];for(var p in a={mb:i()[a>>2>>>0],lb:i()[a+4>>2>>>0],Oa:i()[a+8>>2>>>0],Sa:i()[a+12>>2>>>0],Pa:i()[a+16>>2>>>0],Ma:i()[a+20>>2>>>0],Ia:i()[a+24>>2>>>0],La:i()[a+28>>2>>>0],ub:i()[a+32>>2>>>0],kb:i()[a+36>>2>>>0],nb:f?ue(f):""},r=ue(r),f={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(p,"g"),f[p]);var d="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),h="January February March April May June July August September October November December".split(" ");for(p in f={"%a":function(e){return d[e.Ia].substring(0,3)},"%A":function(e){return d[e.Ia]},"%b":function(e){return h[e.Pa].substring(0,3)},"%B":function(e){return h[e.Pa]},"%C":function(e){return s((e.Ma+1900)/100|0,2)},"%d":function(e){return s(e.Sa,2)},"%e":function(e){return o(e.Sa,2," ")},"%g":function(e){return l(e).toString().substring(2)},"%G":function(e){return l(e)},"%H":function(e){return s(e.Oa,2)},"%I":function(e){return 0==(e=e.Oa)?e=12:12<e&&(e-=12),s(e,2)},"%j":function(e){for(var t=0,n=0;n<=e.Pa-1;t+=(Ge(e.Ma+1900)?at:ot)[n++]);return s(e.Sa+t,3)},"%m":function(e){return s(e.Pa+1,2)},"%M":function(e){return s(e.lb,2)},"%n":function(){return"\\n"},"%p":function(e){return 0<=e.Oa&&12>e.Oa?"AM":"PM"},"%S":function(e){return s(e.mb,2)},"%t":function(){return"\\t"},"%u":function(e){return e.Ia||7},"%U":function(e){return s(Math.floor((e.La+7-e.Ia)/7),2)},"%V":function(e){var t=Math.floor((e.La+7-(e.Ia+6)%7)/7);if(2>=(e.Ia+371-e.La-2)%7&&t++,t)53==t&&(4==(n=(e.Ia+371-e.La)%7)||3==n&&Ge(e.Ma)||(t=1));else{t=52;var n=(e.Ia+7-e.La-1)%7;(4==n||5==n&&Ge(e.Ma%400-1))&&t++}return s(t,2)},"%w":function(e){return e.Ia},"%W":function(e){return s(Math.floor((e.La+7-(e.Ia+6)%7)/7),2)},"%y":function(e){return(e.Ma+1900).toString().substring(2)},"%Y":function(e){return e.Ma+1900},"%z":function(e){var t=0<=(e=e.kb);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":function(e){return e.nb},"%%":function(){return"%"}},r=r.replace(/%%/g,"\\0\\0"),f)r.includes(p)&&(r=r.replace(new RegExp(p,"g"),f[p](a)));return p=function(e){var t=Array(be(e)+1);return $e(e,t,0,t.length),t}(r=r.replace(/\\0\\0/g,"%")),p.length>n?0:(function(e,n){t().set(e,n>>>0)}(p,e),p.length-1)}pe.Ra();var ut=[null,ce,he,ve,we,_e,ke,Oe,Ae,Ce,Te,je,Pe,Ee,Me,xe,Re,Le,He,Xe,Ze,Qe,et,tt,rt],ct={b:function(e,t,n){throw new me(e).Ra(t,n),e},p:function(){Z("To use dlopen, you need enable dynamic linking, see https://emscripten.org/docs/compiling/Dynamic-Linking.html")},N:function(e){pt(e,!v,1,!m),pe.Ua()},k:function(e){w?postMessage({cmd:"cleanupThread",thread:e}):ie(e)},C:ye,h:we,U:_e,y:ke,B:Oe,V:Ae,R:Ce,J:Te,Q:je,o:Pe,A:Ee,w:Me,T:xe,x:Re,D:function(){return 131072},Y:function(){return!0},u:function(e,t){e==t?setTimeout((()=>De())):w?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=pe.Ha[e])&&e.postMessage({cmd:"checkMailbox"})},L:function(){return-1},M:Ie,X:function(e){y&&pe.Ha[e].ref()},G:function(e,t){e=new Date(1e3*Ue(e)),i()[t>>2>>>0]=e.getUTCSeconds(),i()[t+4>>2>>>0]=e.getUTCMinutes(),i()[t+8>>2>>>0]=e.getUTCHours(),i()[t+12>>2>>>0]=e.getUTCDate(),i()[t+16>>2>>>0]=e.getUTCMonth(),i()[t+20>>2>>>0]=e.getUTCFullYear()-1900,i()[t+24>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,i()[t+28>>2>>>0]=e},H:function(e,t){e=new Date(1e3*Ue(e)),i()[t>>2>>>0]=e.getSeconds(),i()[t+4>>2>>>0]=e.getMinutes(),i()[t+8>>2>>>0]=e.getHours(),i()[t+12>>2>>>0]=e.getDate(),i()[t+16>>2>>>0]=e.getMonth(),i()[t+20>>2>>>0]=e.getFullYear()-1900,i()[t+24>>2>>>0]=e.getDay();var n=0|Fe(e);i()[t+28>>2>>>0]=n,i()[t+36>>2>>>0]=-60*e.getTimezoneOffset(),n=new Date(e.getFullYear(),6,1).getTimezoneOffset();var r=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=0|(n!=r&&e.getTimezoneOffset()==Math.min(r,n)),i()[t+32>>2>>>0]=e},I:function(e){var t=new Date(i()[e+20>>2>>>0]+1900,i()[e+16>>2>>>0],i()[e+12>>2>>>0],i()[e+8>>2>>>0],i()[e+4>>2>>>0],i()[e>>2>>>0],0),n=i()[e+32>>2>>>0],r=t.getTimezoneOffset(),a=new Date(t.getFullYear(),6,1).getTimezoneOffset(),o=new Date(t.getFullYear(),0,1).getTimezoneOffset(),s=Math.min(o,a);return 0>n?i()[e+32>>2>>>0]=Number(a!=o&&s==r):0<n!=(s==r)&&(a=Math.max(o,a),t.setTime(t.getTime()+6e4*((0<n?s:a)-r))),i()[e+24>>2>>>0]=t.getDay(),n=0|Fe(t),i()[e+28>>2>>>0]=n,i()[e>>2>>>0]=t.getSeconds(),i()[e+4>>2>>>0]=t.getMinutes(),i()[e+8>>2>>>0]=t.getHours(),i()[e+12>>2>>>0]=t.getDate(),i()[e+16>>2>>>0]=t.getMonth(),i()[e+20>>2>>>0]=t.getYear(),t.getTime()/1e3|0},E:Le,F:He,t:function(e,t,n){function r(e){return(e=e.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?e[1]:"GMT"}var o=(new Date).getFullYear(),s=new Date(o,0,1),u=new Date(o,6,1);o=s.getTimezoneOffset();var c=u.getTimezoneOffset(),l=Math.max(o,c);a()[e>>2>>>0]=60*l,i()[t>>2>>>0]=Number(o!=c),e=r(s),t=r(u),e=Ne(e),t=Ne(t),c<o?(a()[n>>2>>>0]=e,a()[n+4>>2>>>0]=t):(a()[n>>2>>>0]=t,a()[n+4>>2>>>0]=e)},c:function(){Z("")},S:function(){Z("To use dlopen, you need enable dynamic linking, see https://emscripten.org/docs/compiling/Dynamic-Linking.html")},l:function(){},i:function(){return Date.now()},W:function(){throw N+=1,"unwind"},v:function(){return 4294901760},e:Be,f:function(){return y?n(993).cpus().length:navigator.hardwareConcurrency},K:function(e,t,n){Ve.length=t,n>>=3;for(var r=0;r<t;r++)Ve[r]=o()[n+r>>>0];return ut[e].apply(null,Ve)},s:function(e){var t=r().length;if((e>>>=0)<=t||4294901760<e)return!1;for(var n=1;4>=n;n*=2){var i=t*(1+.2/n);i=Math.min(i,e+100663296);var a=Math,o=a.min;i=Math.max(e,i),i+=(65536-i%65536)%65536;e:{var s=P.buffer;try{P.grow(o.call(a,4294901760,i)-s.byteLength+65535>>>16),B();var u=1;break e}catch(e){}u=void 0}if(u)return!0}return!1},O:Xe,P:Ze,j:le,g:Qe,n:et,q:tt,m:rt,r:function(e,t){return it(r().subarray(e>>>0,e+t>>>0)),0},a:P||s.wasmMemory,z:st,d:function(e,t,n,r){return st(e,t,n,r)}};!function(){function e(e,t){return e=e.exports,s.asm=e,pe.Va.push(s.asm.va),z=s.asm.wa,L.unshift(s.asm.Z),E=t,pe.eb((()=>{if(q--,s.monitorRunDependencies&&s.monitorRunDependencies(q),0==q&&(null!==J&&(clearInterval(J),J=null),X)){var e=X;X=null,e()}})),e}var t={a:ct};if(q++,s.monitorRunDependencies&&s.monitorRunDependencies(q),s.instantiateWasm)try{return s.instantiateWasm(t,e)}catch(e){T("Module.instantiateWasm callback failed with error: "+e),c(e)}(function(e,t){var n=V;return A||"function"!=typeof WebAssembly.instantiateStreaming||Q(n)||n.startsWith("file://")||y||"function"!=typeof fetch?te(n,e,t):fetch(n,{credentials:"same-origin"}).then((r=>WebAssembly.instantiateStreaming(r,e).then(t,(function(r){return T("wasm streaming compile failed: "+r),T("falling back to ArrayBuffer instantiation"),te(n,e,t)}))))})(t,(function(t){e(t.instance,t.module)})).catch(c)}(),s._OrtInit=function(){return(s._OrtInit=s.asm._).apply(null,arguments)},s._OrtCreateSessionOptions=function(){return(s._OrtCreateSessionOptions=s.asm.$).apply(null,arguments)},s._OrtAppendExecutionProvider=function(){return(s._OrtAppendExecutionProvider=s.asm.aa).apply(null,arguments)},s._OrtAddSessionConfigEntry=function(){return(s._OrtAddSessionConfigEntry=s.asm.ba).apply(null,arguments)},s._OrtReleaseSessionOptions=function(){return(s._OrtReleaseSessionOptions=s.asm.ca).apply(null,arguments)},s._OrtCreateSession=function(){return(s._OrtCreateSession=s.asm.da).apply(null,arguments)},s._OrtReleaseSession=function(){return(s._OrtReleaseSession=s.asm.ea).apply(null,arguments)},s._OrtGetInputCount=function(){return(s._OrtGetInputCount=s.asm.fa).apply(null,arguments)},s._OrtGetOutputCount=function(){return(s._OrtGetOutputCount=s.asm.ga).apply(null,arguments)},s._OrtGetInputName=function(){return(s._OrtGetInputName=s.asm.ha).apply(null,arguments)},s._OrtGetOutputName=function(){return(s._OrtGetOutputName=s.asm.ia).apply(null,arguments)},s._OrtFree=function(){return(s._OrtFree=s.asm.ja).apply(null,arguments)},s._OrtCreateTensor=function(){return(s._OrtCreateTensor=s.asm.ka).apply(null,arguments)},s._OrtGetTensorData=function(){return(s._OrtGetTensorData=s.asm.la).apply(null,arguments)},s._OrtReleaseTensor=function(){return(s._OrtReleaseTensor=s.asm.ma).apply(null,arguments)},s._OrtCreateRunOptions=function(){return(s._OrtCreateRunOptions=s.asm.na).apply(null,arguments)},s._OrtAddRunConfigEntry=function(){return(s._OrtAddRunConfigEntry=s.asm.oa).apply(null,arguments)},s._OrtReleaseRunOptions=function(){return(s._OrtReleaseRunOptions=s.asm.pa).apply(null,arguments)},s._OrtRun=function(){return(s._OrtRun=s.asm.qa).apply(null,arguments)},s._OrtEndProfiling=function(){return(s._OrtEndProfiling=s.asm.ra).apply(null,arguments)};var lt=s._pthread_self=function(){return(lt=s._pthread_self=s.asm.sa).apply(null,arguments)},ft=s._malloc=function(){return(ft=s._malloc=s.asm.ta).apply(null,arguments)};s._free=function(){return(s._free=s.asm.ua).apply(null,arguments)},s.__emscripten_tls_init=function(){return(s.__emscripten_tls_init=s.asm.va).apply(null,arguments)};var pt=s.__emscripten_thread_init=function(){return(pt=s.__emscripten_thread_init=s.asm.xa).apply(null,arguments)};function dt(){return(dt=s.asm.za).apply(null,arguments)}function ht(){return(ht=s.asm.Aa).apply(null,arguments)}s.__emscripten_thread_crashed=function(){return(s.__emscripten_thread_crashed=s.asm.ya).apply(null,arguments)};var gt,mt=s.__emscripten_thread_exit=function(){return(mt=s.__emscripten_thread_exit=s.asm.Ba).apply(null,arguments)},vt=s.__emscripten_check_mailbox=function(){return(vt=s.__emscripten_check_mailbox=s.asm.Ca).apply(null,arguments)};function yt(){return(yt=s.asm.Da).apply(null,arguments)}function wt(){return(wt=s.asm.Ea).apply(null,arguments)}function _t(){return(_t=s.asm.Fa).apply(null,arguments)}function bt(){return(bt=s.asm.Ga).apply(null,arguments)}function $t(){function e(){if(!gt&&(gt=!0,s.calledRun=!0,!G)&&(w||de(L),u(s),s.onRuntimeInitialized&&s.onRuntimeInitialized(),!w)){if(s.postRun)for("function"==typeof s.postRun&&(s.postRun=[s.postRun]);s.postRun.length;){var e=s.postRun.shift();H.unshift(e)}de(H)}}if(!(0<q))if(w)u(s),w||de(L),startWorker(s);else{if(s.preRun)for("function"==typeof s.preRun&&(s.preRun=[s.preRun]);s.preRun.length;)Y();de(F),0<q||(s.setStatus?(s.setStatus("Running..."),setTimeout((function(){setTimeout((function(){s.setStatus("")}),1),e()}),1)):e())}}if(s.keepRuntimeAlive=K,s.wasmMemory=P,s.stackAlloc=bt,s.stackSave=wt,s.stackRestore=_t,s.UTF8ToString=ue,s.stringToUTF8=Se,s.lengthBytesUTF8=be,s.ExitStatus=ne,s.PThread=pe,X=function e(){gt||$t(),gt||(X=e)},s.preInit)for("function"==typeof s.preInit&&(s.preInit=[s.preInit]);0<s.preInit.length;)s.preInit.pop()();return $t(),e.ready});e.exports=r},932:(e,t,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e={}){var t,r,i=void 0!==e?e:{};i.ready=new Promise(((e,n)=>{t=e,r=n}));var a,o,s,u=Object.assign({},i),c="./this.program",l="object"==typeof window,f="function"==typeof importScripts,p="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,d="";if(p){var h=n(384),g=n(908);d=f?g.dirname(d)+"/":"//",a=(e,t)=>(e=H(e)?new URL(e):g.normalize(e),h.readFileSync(e,t?void 0:"utf8")),s=e=>{var t=a(e,!0);return t.buffer||(t=new Uint8Array(t)),t},o=(e,t,n,r=!0)=>{e=H(e)?new URL(e):g.normalize(e),h.readFile(e,r?void 0:"utf8",((e,i)=>{e?n(e):t(r?i.buffer:i)}))},!i.thisProgram&&process.argv.length>1&&(c=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),i.inspect=()=>"[Emscripten Module object]"}else(l||f)&&(f?d=self.location.href:"undefined"!=typeof document&&document.currentScript&&(d=document.currentScript.src),_scriptDir&&(d=_scriptDir),d=0!==d.indexOf("blob:")?d.substr(0,d.replace(/[?#].*/,"").lastIndexOf("/")+1):"",a=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},f&&(s=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),o=(e,t,n)=>{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)});var m,v,y=i.print||console.log.bind(console),w=i.printErr||console.warn.bind(console);Object.assign(i,u),u=null,i.arguments&&i.arguments,i.thisProgram&&(c=i.thisProgram),i.quit&&i.quit,i.wasmBinary&&(m=i.wasmBinary),i.noExitRuntime,"object"!=typeof WebAssembly&&B("no native wasm support detected");var _,b,$,S,k,O,A,C,T,j,P,E=!1;function M(){var e=v.buffer;i.HEAP8=_=new Int8Array(e),i.HEAP16=$=new Int16Array(e),i.HEAP32=k=new Int32Array(e),i.HEAPU8=b=new Uint8Array(e),i.HEAPU16=S=new Uint16Array(e),i.HEAPU32=O=new Uint32Array(e),i.HEAPF32=A=new Float32Array(e),i.HEAPF64=j=new Float64Array(e),i.HEAP64=C=new BigInt64Array(e),i.HEAPU64=T=new BigUint64Array(e)}var x=[],R=[],I=[],D=0,U=null,G=null;function B(e){i.onAbort&&i.onAbort(e),w(e="Aborted("+e+")"),E=!0,e+=". Build with -sASSERTIONS for more info.";var t=new WebAssembly.RuntimeError(e);throw r(t),t}var W,z,F="data:application/octet-stream;base64,";function L(e){return e.startsWith(F)}function H(e){return e.startsWith("file://")}function N(e){try{if(e==W&&m)return new Uint8Array(m);if(s)return s(e);throw"both async and sync fetching of the wasm failed"}catch(e){B(e)}}function K(e,t,n){return function(e){if(!m&&(l||f)){if("function"==typeof fetch&&!H(e))return fetch(e,{credentials:"same-origin"}).then((t=>{if(!t.ok)throw"failed to load wasm binary file at \'"+e+"\'";return t.arrayBuffer()})).catch((()=>N(e)));if(o)return new Promise(((t,n)=>{o(e,(e=>t(new Uint8Array(e))),n)}))}return Promise.resolve().then((()=>N(e)))}(e).then((e=>WebAssembly.instantiate(e,t))).then((e=>e)).then(n,(e=>{w("failed to asynchronously prepare wasm: "+e),B(e)}))}function Y(e){for(;e.length>0;)e.shift()(i)}L(W="ort-wasm-simd.wasm")||(z=W,W=i.locateFile?i.locateFile(z,d):d+z);var V=[],q=0,J=0;function X(e){this.excPtr=e,this.ptr=e-24,this.set_type=function(e){O[this.ptr+4>>>2]=e},this.get_type=function(){return O[this.ptr+4>>>2]},this.set_destructor=function(e){O[this.ptr+8>>>2]=e},this.get_destructor=function(){return O[this.ptr+8>>>2]},this.set_caught=function(e){e=e?1:0,_[this.ptr+12>>>0]=e},this.get_caught=function(){return 0!=_[this.ptr+12>>>0]},this.set_rethrown=function(e){e=e?1:0,_[this.ptr+13>>>0]=e},this.get_rethrown=function(){return 0!=_[this.ptr+13>>>0]},this.init=function(e,t){this.set_adjusted_ptr(0),this.set_type(e),this.set_destructor(t)},this.set_adjusted_ptr=function(e){O[this.ptr+16>>>2]=e},this.get_adjusted_ptr=function(){return O[this.ptr+16>>>2]},this.get_exception_ptr=function(){if($t(this.get_type()))return O[this.excPtr>>>2];var e=this.get_adjusted_ptr();return 0!==e?e:this.excPtr}}function Z(){var e=J;if(!e)return gt(0),0;var t=new X(e);t.set_adjusted_ptr(e);var n=t.get_type();if(!n)return gt(0),e;for(var r=0;r<arguments.length;r++){var i=arguments[r];if(0===i||i===n)break;var a=t.ptr+16;if(bt(i,n,a))return gt(i),e}return gt(n),e}var Q=Z,ee=Z,te=Z,ne=Z,re="To use dlopen, you need enable dynamic linking, see https://emscripten.org/docs/compiling/Dynamic-Linking.html",ie="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function ae(e,t,n){for(var r=(t>>>=0)+n,i=t;e[i]&&!(i>=r);)++i;if(i-t>16&&e.buffer&&ie)return ie.decode(e.subarray(t,i));for(var a="";t<i;){var o=e[t++];if(128&o){var s=63&e[t++];if(192!=(224&o)){var u=63&e[t++];if((o=224==(240&o)?(15&o)<<12|s<<6|u:(7&o)<<18|s<<12|u<<6|63&e[t++])<65536)a+=String.fromCharCode(o);else{var c=o-65536;a+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else a+=String.fromCharCode((31&o)<<6|s)}else a+=String.fromCharCode(o)}return a}function oe(e,t){return(e>>>=0)?ae(b,e,t):""}var se={varargs:void 0,get:function(){return se.varargs+=4,k[se.varargs-4>>>2]},getStr:function(e){return oe(e)}};function ue(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r<=127?t++:r<=2047?t+=2:r>=55296&&r<=57343?(t+=4,++n):t+=3}return t}function ce(e,t,n,r){if(!(r>0))return 0;for(var i=n>>>=0,a=n+r-1,o=0;o<e.length;++o){var s=e.charCodeAt(o);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++o)),s<=127){if(n>=a)break;t[n++>>>0]=s}else if(s<=2047){if(n+1>=a)break;t[n++>>>0]=192|s>>6,t[n++>>>0]=128|63&s}else if(s<=65535){if(n+2>=a)break;t[n++>>>0]=224|s>>12,t[n++>>>0]=128|s>>6&63,t[n++>>>0]=128|63&s}else{if(n+3>=a)break;t[n++>>>0]=240|s>>18,t[n++>>>0]=128|s>>12&63,t[n++>>>0]=128|s>>6&63,t[n++>>>0]=128|63&s}}return t[n>>>0]=0,n-i}function le(e,t,n){return ce(e,b,t,n)}function fe(e){if(null===e)return"null";var t=typeof e;return"object"===t||"array"===t||"function"===t?e.toString():""+e}var pe=void 0;function de(e){for(var t="",n=e;b[n>>>0];)t+=pe[b[n++>>>0]];return t}var he={},ge={},me={},ve=48,ye=57;function we(e){if(void 0===e)return"_unknown";var t=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return t>=ve&&t<=ye?"_"+e:e}function _e(e,t){return{[e=we(e)]:function(){return t.apply(this,arguments)}}[e]}function be(e,t){var n=_e(t,(function(e){this.name=t,this.message=e;var n=new Error(e).stack;void 0!==n&&(this.stack=this.toString()+"\\n"+n.replace(/^Error(:[^\\n]*)?\\n/,""))}));return n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},n}var $e=void 0;function Se(e){throw new $e(e)}function ke(e,t,n={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");var r=t.name;if(e||Se(\'type "\'+r+\'" must have a positive integer typeid pointer\'),ge.hasOwnProperty(e)){if(n.ignoreDuplicateRegistrations)return;Se("Cannot register type \'"+r+"\' twice")}if(ge[e]=t,delete me[e],he.hasOwnProperty(e)){var i=he[e];delete he[e],i.forEach((e=>e()))}}function Oe(e,t,n){switch(t){case 0:return n?function(e){return _[e>>>0]}:function(e){return b[e>>>0]};case 1:return n?function(e){return $[e>>>1]}:function(e){return S[e>>>1]};case 2:return n?function(e){return k[e>>>2]}:function(e){return O[e>>>2]};case 3:return n?function(e){return C[e>>3]}:function(e){return T[e>>3]};default:throw new TypeError("Unknown integer type: "+e)}}function Ae(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+e)}}var Ce=new function(){this.allocated=[void 0],this.freelist=[],this.get=function(e){return this.allocated[e]},this.allocate=function(e){let t=this.freelist.pop()||this.allocated.length;return this.allocated[t]=e,t},this.free=function(e){this.allocated[e]=void 0,this.freelist.push(e)}};function Te(e){e>=Ce.reserved&&0==--Ce.get(e).refcount&&Ce.free(e)}var je=e=>(e||Se("Cannot use deleted val. handle = "+e),Ce.get(e).value),Pe=e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return Ce.allocate({refcount:1,value:e})}};function Ee(e){return this.fromWireType(k[e>>>2])}function Me(e,t){switch(t){case 2:return function(e){return this.fromWireType(A[e>>>2])};case 3:return function(e){return this.fromWireType(j[e>>>3])};default:throw new TypeError("Unknown float type: "+e)}}var xe="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0;function Re(e,t){for(var n=e,r=n>>1,i=r+t/2;!(r>=i)&&S[r>>>0];)++r;if((n=r<<1)-e>32&&xe)return xe.decode(b.subarray(e>>>0,n>>>0));for(var a="",o=0;!(o>=t/2);++o){var s=$[e+2*o>>>1];if(0==s)break;a+=String.fromCharCode(s)}return a}function Ie(e,t,n){if(void 0===n&&(n=2147483647),n<2)return 0;for(var r=t,i=(n-=2)<2*e.length?n/2:e.length,a=0;a<i;++a){var o=e.charCodeAt(a);$[t>>>1]=o,t+=2}return $[t>>>1]=0,t-r}function De(e){return 2*e.length}function Ue(e,t){for(var n=0,r="";!(n>=t/4);){var i=k[e+4*n>>>2];if(0==i)break;if(++n,i>=65536){var a=i-65536;r+=String.fromCharCode(55296|a>>10,56320|1023&a)}else r+=String.fromCharCode(i)}return r}function Ge(e,t,n){if(void 0===n&&(n=2147483647),n<4)return 0;for(var r=t>>>=0,i=r+n-4,a=0;a<e.length;++a){var o=e.charCodeAt(a);if(o>=55296&&o<=57343&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++a)),k[t>>>2]=o,(t+=4)+4>i)break}return k[t>>>2]=0,t-r}function Be(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r>=55296&&r<=57343&&++n,t+=4}return t}function We(e,t){var n,r,i=ge[e];return void 0===i&&Se(t+" has unknown type "+(r=de(n=dt(e)),pt(n),r)),i}var ze={};function Fe(e){var t=ze[e];return void 0===t?de(e):t}var Le=[];function He(){return"object"==typeof globalThis?globalThis:Function("return this")()}var Ne=[],Ke={};function Ye(e){return O[e>>>2]+4294967296*k[e+4>>>2]}function Ve(e){return e%4==0&&(e%100!=0||e%400==0)}var qe,Je=[0,31,60,91,121,152,182,213,244,274,305,335],Xe=[0,31,59,90,120,151,181,212,243,273,304,334];function Ze(e){return(Ve(e.getFullYear())?Je:Xe)[e.getMonth()]+e.getDate()-1}function Qe(e){var t=ue(e)+1,n=ft(t);return n&&le(e,n,t),n}function et(e){var t=v.buffer;try{return v.grow(e-t.byteLength+65535>>>16),M(),1}catch(e){}}qe=p?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:()=>performance.now();var tt={};function nt(){if(!nt.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:c||"./this.program"};for(var t in tt)void 0===tt[t]?delete e[t]:e[t]=tt[t];var n=[];for(var t in e)n.push(t+"="+e[t]);nt.strings=n}return nt.strings}var rt=[null,[],[]];var it=[31,29,31,30,31,30,31,31,30,31,30,31],at=[31,28,31,30,31,30,31,31,30,31,30,31];function ot(e,t,n,r){var i=k[r+40>>>2],a={tm_sec:k[r>>>2],tm_min:k[r+4>>>2],tm_hour:k[r+8>>>2],tm_mday:k[r+12>>>2],tm_mon:k[r+16>>>2],tm_year:k[r+20>>>2],tm_wday:k[r+24>>>2],tm_yday:k[r+28>>>2],tm_isdst:k[r+32>>>2],tm_gmtoff:k[r+36>>>2],tm_zone:i?oe(i):""},o=oe(n),s={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var u in s)o=o.replace(new RegExp(u,"g"),s[u]);var c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],l=["January","February","March","April","May","June","July","August","September","October","November","December"];function f(e,t,n){for(var r="number"==typeof e?e.toString():e||"";r.length<t;)r=n[0]+r;return r}function p(e,t){return f(e,t,"0")}function d(e,t){function n(e){return e<0?-1:e>0?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function h(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function g(e){var t=function(e,t){for(var n=new Date(e.getTime());t>0;){var r=Ve(n.getFullYear()),i=n.getMonth(),a=(r?it:at)[i];if(!(t>a-n.getDate()))return n.setDate(n.getDate()+t),n;t-=a-n.getDate()+1,n.setDate(1),i<11?n.setMonth(i+1):(n.setMonth(0),n.setFullYear(n.getFullYear()+1))}return n}(new Date(e.tm_year+1900,0,1),e.tm_yday),n=new Date(t.getFullYear(),0,4),r=new Date(t.getFullYear()+1,0,4),i=h(n),a=h(r);return d(i,t)<=0?d(a,t)<=0?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var m={"%a":function(e){return c[e.tm_wday].substring(0,3)},"%A":function(e){return c[e.tm_wday]},"%b":function(e){return l[e.tm_mon].substring(0,3)},"%B":function(e){return l[e.tm_mon]},"%C":function(e){return p((e.tm_year+1900)/100|0,2)},"%d":function(e){return p(e.tm_mday,2)},"%e":function(e){return f(e.tm_mday,2," ")},"%g":function(e){return g(e).toString().substring(2)},"%G":function(e){return g(e)},"%H":function(e){return p(e.tm_hour,2)},"%I":function(e){var t=e.tm_hour;return 0==t?t=12:t>12&&(t-=12),p(t,2)},"%j":function(e){return p(e.tm_mday+function(e,t){for(var n=0,r=0;r<=t;n+=e[r++]);return n}(Ve(e.tm_year+1900)?it:at,e.tm_mon-1),3)},"%m":function(e){return p(e.tm_mon+1,2)},"%M":function(e){return p(e.tm_min,2)},"%n":function(){return"\\n"},"%p":function(e){return e.tm_hour>=0&&e.tm_hour<12?"AM":"PM"},"%S":function(e){return p(e.tm_sec,2)},"%t":function(){return"\\t"},"%u":function(e){return e.tm_wday||7},"%U":function(e){var t=e.tm_yday+7-e.tm_wday;return p(Math.floor(t/7),2)},"%V":function(e){var t=Math.floor((e.tm_yday+7-(e.tm_wday+6)%7)/7);if((e.tm_wday+371-e.tm_yday-2)%7<=2&&t++,t){if(53==t){var n=(e.tm_wday+371-e.tm_yday)%7;4==n||3==n&&Ve(e.tm_year)||(t=1)}}else{t=52;var r=(e.tm_wday+7-e.tm_yday-1)%7;(4==r||5==r&&Ve(e.tm_year%400-1))&&t++}return p(t,2)},"%w":function(e){return e.tm_wday},"%W":function(e){var t=e.tm_yday+7-(e.tm_wday+6)%7;return p(Math.floor(t/7),2)},"%y":function(e){return(e.tm_year+1900).toString().substring(2)},"%Y":function(e){return e.tm_year+1900},"%z":function(e){var t=e.tm_gmtoff,n=t>=0;return t=(t=Math.abs(t)/60)/60*100+t%60,(n?"+":"-")+String("0000"+t).slice(-4)},"%Z":function(e){return e.tm_zone},"%%":function(){return"%"}};for(var u in o=o.replace(/%%/g,"\\0\\0"),m)o.includes(u)&&(o=o.replace(new RegExp(u,"g"),m[u](a)));var v,y,w,b,$,S=(!1,y=ue(v=o=o.replace(/\\0\\0/g,"%"))+1,ce(v,w=new Array(y),0,w.length),w);return S.length>t?0:(b=S,$=e,_.set(b,$>>>0),S.length-1)}var st=[];function ut(e){var t=st[e];return t||(e>=st.length&&(st.length=e+1),st[e]=t=P.get(e)),t}!function(){for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);pe=e}(),$e=i.BindingError=be(Error,"BindingError"),i.InternalError=be(Error,"InternalError"),Ce.allocated.push({value:void 0},{value:null},{value:!0},{value:!1}),Ce.reserved=Ce.allocated.length,i.count_emval_handles=function(){for(var e=0,t=Ce.reserved;t<Ce.allocated.length;++t)void 0!==Ce.allocated[t]&&++e;return e};var ct,lt={__cxa_begin_catch:function(e){var t=new X(e);return t.get_caught()||(t.set_caught(!0),q--),t.set_rethrown(!1),V.push(t),_t(t.excPtr),t.get_exception_ptr()},__cxa_end_catch:function(){ht(0);var e=V.pop();wt(e.excPtr),J=0},__cxa_find_matching_catch_2:Q,__cxa_find_matching_catch_3:ee,__cxa_find_matching_catch_4:te,__cxa_find_matching_catch_5:ne,__cxa_rethrow:function(){var e=V.pop();e||B("no exception to throw");var t=e.excPtr;throw e.get_rethrown()||(V.push(e),e.set_rethrown(!0),e.set_caught(!1),q++),J=t},__cxa_throw:function(e,t,n){throw new X(e).init(t,n),q++,J=e},__cxa_uncaught_exceptions:function(){return q},__dlsym:function(e,t){B(re)},__resumeException:function(e){throw J||(J=e),J},__syscall_fcntl64:function(e,t,n){return se.varargs=n,0},__syscall_fstat64:function(e,t){},__syscall_getcwd:function(e,t){},__syscall_getdents64:function(e,t,n){},__syscall_ioctl:function(e,t,n){return se.varargs=n,0},__syscall_lstat64:function(e,t){},__syscall_mkdirat:function(e,t,n){},__syscall_newfstatat:function(e,t,n,r){},__syscall_openat:function(e,t,n,r){se.varargs=r},__syscall_readlinkat:function(e,t,n,r){},__syscall_rmdir:function(e){},__syscall_stat64:function(e,t){},__syscall_unlinkat:function(e,t,n){},_embind_register_bigint:function(e,t,n,r,i){t=de(t);var a=Ae(n),o=-1!=t.indexOf("u");o&&(i=(1n<<64n)-1n),ke(e,{name:t,fromWireType:function(e){return e},toWireType:function(e,n){if("bigint"!=typeof n&&"number"!=typeof n)throw new TypeError(\'Cannot convert "\'+fe(n)+\'" to \'+this.name);if(n<r||n>i)throw new TypeError(\'Passing a number "\'+fe(n)+\'" from JS side to C/C++ side to an argument of type "\'+t+\'", which is outside the valid range [\'+r+", "+i+"]!");return n},argPackAdvance:8,readValueFromPointer:Oe(t,a,!o),destructorFunction:null})},_embind_register_bool:function(e,t,n,r,i){var a=Ae(n);ke(e,{name:t=de(t),fromWireType:function(e){return!!e},toWireType:function(e,t){return t?r:i},argPackAdvance:8,readValueFromPointer:function(e){var r;if(1===n)r=_;else if(2===n)r=$;else{if(4!==n)throw new TypeError("Unknown boolean type size: "+t);r=k}return this.fromWireType(r[e>>>a])},destructorFunction:null})},_embind_register_emval:function(e,t){ke(e,{name:t=de(t),fromWireType:function(e){var t=je(e);return Te(e),t},toWireType:function(e,t){return Pe(t)},argPackAdvance:8,readValueFromPointer:Ee,destructorFunction:null})},_embind_register_float:function(e,t,n){var r=Ae(n);ke(e,{name:t=de(t),fromWireType:function(e){return e},toWireType:function(e,t){return t},argPackAdvance:8,readValueFromPointer:Me(t,r),destructorFunction:null})},_embind_register_integer:function(e,t,n,r,i){t=de(t),-1===i&&(i=4294967295);var a=Ae(n),o=e=>e;if(0===r){var s=32-8*n;o=e=>e<<s>>>s}var u=t.includes("unsigned");ke(e,{name:t,fromWireType:o,toWireType:u?function(e,t){return this.name,t>>>0}:function(e,t){return this.name,t},argPackAdvance:8,readValueFromPointer:Oe(t,a,0!==r),destructorFunction:null})},_embind_register_memory_view:function(e,t,n){var r=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][t];function i(e){var t=O,n=t[(e>>=2)>>>0],i=t[e+1>>>0];return new r(t.buffer,i,n)}ke(e,{name:n=de(n),fromWireType:i,argPackAdvance:8,readValueFromPointer:i},{ignoreDuplicateRegistrations:!0})},_embind_register_std_string:function(e,t){var n="std::string"===(t=de(t));ke(e,{name:t,fromWireType:function(e){var t,r=O[e>>>2],i=e+4;if(n)for(var a=i,o=0;o<=r;++o){var s=i+o;if(o==r||0==b[s>>>0]){var u=oe(a,s-a);void 0===t?t=u:(t+=String.fromCharCode(0),t+=u),a=s+1}}else{var c=new Array(r);for(o=0;o<r;++o)c[o]=String.fromCharCode(b[i+o>>>0]);t=c.join("")}return pt(e),t},toWireType:function(e,t){var r;t instanceof ArrayBuffer&&(t=new Uint8Array(t));var i="string"==typeof t;i||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||Se("Cannot pass non-string to std::string"),r=n&&i?ue(t):t.length;var a=ft(4+r+1),o=a+4;if(o>>>=0,O[a>>>2]=r,n&&i)le(t,o,r+1);else if(i)for(var s=0;s<r;++s){var u=t.charCodeAt(s);u>255&&(pt(o),Se("String has UTF-16 code units that do not fit in 8 bits")),b[o+s>>>0]=u}else for(s=0;s<r;++s)b[o+s>>>0]=t[s];return null!==e&&e.push(pt,a),a},argPackAdvance:8,readValueFromPointer:Ee,destructorFunction:function(e){pt(e)}})},_embind_register_std_wstring:function(e,t,n){var r,i,a,o,s;n=de(n),2===t?(r=Re,i=Ie,o=De,a=()=>S,s=1):4===t&&(r=Ue,i=Ge,o=Be,a=()=>O,s=2),ke(e,{name:n,fromWireType:function(e){for(var n,i=O[e>>>2],o=a(),u=e+4,c=0;c<=i;++c){var l=e+4+c*t;if(c==i||0==o[l>>>s]){var f=r(u,l-u);void 0===n?n=f:(n+=String.fromCharCode(0),n+=f),u=l+t}}return pt(e),n},toWireType:function(e,r){"string"!=typeof r&&Se("Cannot pass non-string to C++ string type "+n);var a=o(r),u=ft(4+a+t);return O[(u>>>=0)>>>2]=a>>s,i(r,u+4,a+t),null!==e&&e.push(pt,u),u},argPackAdvance:8,readValueFromPointer:Ee,destructorFunction:function(e){pt(e)}})},_embind_register_void:function(e,t){ke(e,{isVoid:!0,name:t=de(t),argPackAdvance:0,fromWireType:function(){},toWireType:function(e,t){}})},_emscripten_get_now_is_monotonic:function(){return true},_emval_as:function(e,t,n){e=je(e),t=We(t,"emval::as");var r=[],i=Pe(r);return O[n>>>2]=i,t.toWireType(r,e)},_emval_call_method:function(e,t,n,r,i){return(e=Le[e])(t=je(t),n=Fe(n),function(e){var t=[];return O[e>>>2]=Pe(t),t}(r),i)},_emval_call_void_method:function(e,t,n,r){(e=Le[e])(t=je(t),n=Fe(n),null,r)},_emval_decref:Te,_emval_equals:function(e,t){return(e=je(e))==je(t)},_emval_get_global:function(e){return 0===e?Pe(He()):(e=Fe(e),Pe(He()[e]))},_emval_get_method_caller:function(e,t){var n=function(e,t){for(var n=new Array(e),r=0;r<e;++r)n[r]=We(O[t+4*r>>>2],"parameter "+r);return n}(e,t),r=n[0],i=r.name+"_$"+n.slice(1).map((function(e){return e.name})).join("_")+"$",a=Ne[i];if(void 0!==a)return a;for(var o=["retType"],s=[r],u="",c=0;c<e-1;++c)u+=(0!==c?", ":"")+"arg"+c,o.push("argType"+c),s.push(n[1+c]);var l,f,p="return function "+we("methodCaller_"+i)+"(handle, name, destructors, args) {\\n",d=0;for(c=0;c<e-1;++c)p+="    var arg"+c+" = argType"+c+".readValueFromPointer(args"+(d?"+"+d:"")+");\\n",d+=n[c+1].argPackAdvance;for(p+="    var rv = handle[name]("+u+");\\n",c=0;c<e-1;++c)n[c+1].deleteObject&&(p+="    argType"+c+".deleteObject(arg"+c+");\\n");return r.isVoid||(p+="    return retType.toWireType(destructors, rv);\\n"),p+="};\\n",o.push(p),l=function(e,t){if(!(e instanceof Function))throw new TypeError("new_ called with constructor type "+typeof e+" which is not a function");var n=_e(e.name||"unknownFunctionName",(function(){}));n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return i instanceof Object?i:r}(Function,o).apply(null,s),f=Le.length,Le.push(l),a=f,Ne[i]=a,a},_emval_get_property:function(e,t){return e=je(e),t=je(t),Pe(e[t])},_emval_incref:function(e){e>4&&(Ce.get(e).refcount+=1)},_emval_new:function(e,t,n,r){e=je(e);var a=Ke[t];return a||(a=function(e){for(var t="",n=0;n<e;++n)t+=(0!==n?", ":"")+"arg"+n;var r="return function emval_allocator_"+e+"(constructor, argTypes, args) {\\n  var HEAPU32 = getMemory();\\n";for(n=0;n<e;++n)r+="var argType"+n+" = requireRegisteredType(HEAPU32[((argTypes)>>2)], \'parameter "+n+"\');\\nvar arg"+n+" = argType"+n+".readValueFromPointer(args);\\nargs += argType"+n+"[\'argPackAdvance\'];\\nargTypes += 4;\\n";return r+="var obj = new constructor("+t+");\\nreturn valueToHandle(obj);\\n}\\n",new Function("requireRegisteredType","Module","valueToHandle","getMemory",r)(We,i,Pe,(()=>O))}(t),Ke[t]=a),a(e,n,r)},_emval_new_array:function(){return Pe([])},_emval_new_array_from_memory_view:function(e){e=je(e);for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=e[n];return Pe(t)},_emval_new_cstring:function(e){return Pe(Fe(e))},_emval_new_object:function(){return Pe({})},_emval_run_destructors:function(e){!function(e){for(;e.length;){var t=e.pop();e.pop()(t)}}(je(e)),Te(e)},_emval_set_property:function(e,t,n){e=je(e),t=je(t),n=je(n),e[t]=n},_emval_take_value:function(e,t){var n=(e=We(e,"_emval_take_value")).readValueFromPointer(t);return Pe(n)},_gmtime_js:function(e,t){var n=new Date(1e3*Ye(e));k[t>>>2]=n.getUTCSeconds(),k[t+4>>>2]=n.getUTCMinutes(),k[t+8>>>2]=n.getUTCHours(),k[t+12>>>2]=n.getUTCDate(),k[t+16>>>2]=n.getUTCMonth(),k[t+20>>>2]=n.getUTCFullYear()-1900,k[t+24>>>2]=n.getUTCDay();var r=Date.UTC(n.getUTCFullYear(),0,1,0,0,0,0),i=(n.getTime()-r)/864e5|0;k[t+28>>>2]=i},_localtime_js:function(e,t){var n=new Date(1e3*Ye(e));k[t>>>2]=n.getSeconds(),k[t+4>>>2]=n.getMinutes(),k[t+8>>>2]=n.getHours(),k[t+12>>>2]=n.getDate(),k[t+16>>>2]=n.getMonth(),k[t+20>>>2]=n.getFullYear()-1900,k[t+24>>>2]=n.getDay();var r=0|Ze(n);k[t+28>>>2]=r,k[t+36>>>2]=-60*n.getTimezoneOffset();var i=new Date(n.getFullYear(),0,1),a=new Date(n.getFullYear(),6,1).getTimezoneOffset(),o=i.getTimezoneOffset(),s=0|(a!=o&&n.getTimezoneOffset()==Math.min(o,a));k[t+32>>>2]=s},_mktime_js:function(e){var t=new Date(k[e+20>>>2]+1900,k[e+16>>>2],k[e+12>>>2],k[e+8>>>2],k[e+4>>>2],k[e>>>2],0),n=k[e+32>>>2],r=t.getTimezoneOffset(),i=new Date(t.getFullYear(),0,1),a=new Date(t.getFullYear(),6,1).getTimezoneOffset(),o=i.getTimezoneOffset(),s=Math.min(o,a);if(n<0)k[e+32>>>2]=Number(a!=o&&s==r);else if(n>0!=(s==r)){var u=Math.max(o,a),c=n>0?s:u;t.setTime(t.getTime()+6e4*(c-r))}k[e+24>>>2]=t.getDay();var l=0|Ze(t);return k[e+28>>>2]=l,k[e>>>2]=t.getSeconds(),k[e+4>>>2]=t.getMinutes(),k[e+8>>>2]=t.getHours(),k[e+12>>>2]=t.getDate(),k[e+16>>>2]=t.getMonth(),k[e+20>>>2]=t.getYear(),t.getTime()/1e3|0},_mmap_js:function(e,t,n,r,i,a,o){return-52},_munmap_js:function(e,t,n,r,i,a){},_tzset_js:function(e,t,n){var r=(new Date).getFullYear(),i=new Date(r,0,1),a=new Date(r,6,1),o=i.getTimezoneOffset(),s=a.getTimezoneOffset(),u=Math.max(o,s);function c(e){var t=e.toTimeString().match(/\\(([A-Za-z ]+)\\)$/);return t?t[1]:"GMT"}O[e>>>2]=60*u,k[t>>>2]=Number(o!=s);var l=c(i),f=c(a),p=Qe(l),d=Qe(f);s<o?(O[n>>>2]=p,O[n+4>>>2]=d):(O[n>>>2]=d,O[n+4>>>2]=p)},abort:function(){B("")},dlopen:function(e){B(re)},emscripten_date_now:function(){return Date.now()},emscripten_get_heap_max:function(){return 4294901760},emscripten_get_now:qe,emscripten_memcpy_big:function(e,t,n){b.copyWithin(e>>>0,t>>>0,t+n>>>0)},emscripten_resize_heap:function(e){var t,n=b.length,r=4294901760;if((e>>>=0)>r)return!1;for(var i=1;i<=4;i*=2){var a=n*(1+.2/i);if(a=Math.min(a,e+100663296),et(Math.min(r,(t=Math.max(e,a))+(65536-t%65536)%65536)))return!0}return!1},environ_get:function(e,t){var n=0;return nt().forEach((function(r,i){var a=t+n;O[e+4*i>>>2]=a,function(e,t){for(var n=0;n<e.length;++n)_[t++>>>0]=e.charCodeAt(n);_[t>>>0]=0}(r,a),n+=r.length+1})),0},environ_sizes_get:function(e,t){var n=nt();O[e>>>2]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),O[t>>>2]=r,0},fd_close:function(e){return 52},fd_read:function(e,t,n,r){return 52},fd_seek:function(e,t,n,r){return 70},fd_write:function(e,t,n,r){for(var i=0,a=0;a<n;a++){var o=O[t>>>2],s=O[t+4>>>2];t+=8;for(var u=0;u<s;u++)c=e,l=b[o+u>>>0],f=void 0,f=rt[c],0===l||10===l?((1===c?y:w)(ae(f,0)),f.length=0):f.push(l);i+=s}var c,l,f;return O[r>>>2]=i,0},invoke_di:function(e,t){var n=mt();try{return ut(e)(t)}catch(e){if(vt(n),e!==e+0)throw e;ht(1,0)}},invoke_dii:function(e,t,n){var r=mt();try{return ut(e)(t,n)}catch(e){if(vt(r),e!==e+0)throw e;ht(1,0)}},invoke_diii:function(e,t,n,r){var i=mt();try{return ut(e)(t,n,r)}catch(e){if(vt(i),e!==e+0)throw e;ht(1,0)}},invoke_diiiii:function(e,t,n,r,i,a){var o=mt();try{return ut(e)(t,n,r,i,a)}catch(e){if(vt(o),e!==e+0)throw e;ht(1,0)}},invoke_fffffff:function(e,t,n,r,i,a,o){var s=mt();try{return ut(e)(t,n,r,i,a,o)}catch(e){if(vt(s),e!==e+0)throw e;ht(1,0)}},invoke_fi:function(e,t){var n=mt();try{return ut(e)(t)}catch(e){if(vt(n),e!==e+0)throw e;ht(1,0)}},invoke_fii:function(e,t,n){var r=mt();try{return ut(e)(t,n)}catch(e){if(vt(r),e!==e+0)throw e;ht(1,0)}},invoke_fiii:function(e,t,n,r){var i=mt();try{return ut(e)(t,n,r)}catch(e){if(vt(i),e!==e+0)throw e;ht(1,0)}},invoke_fiiii:function(e,t,n,r,i){var a=mt();try{return ut(e)(t,n,r,i)}catch(e){if(vt(a),e!==e+0)throw e;ht(1,0)}},invoke_i:function(e){var t=mt();try{return ut(e)()}catch(e){if(vt(t),e!==e+0)throw e;ht(1,0)}},invoke_ii:function(e,t){var n=mt();try{return ut(e)(t)}catch(e){if(vt(n),e!==e+0)throw e;ht(1,0)}},invoke_iid:function(e,t,n){var r=mt();try{return ut(e)(t,n)}catch(e){if(vt(r),e!==e+0)throw e;ht(1,0)}},invoke_iif:function(e,t,n){var r=mt();try{return ut(e)(t,n)}catch(e){if(vt(r),e!==e+0)throw e;ht(1,0)}},invoke_iii:function(e,t,n){var r=mt();try{return ut(e)(t,n)}catch(e){if(vt(r),e!==e+0)throw e;ht(1,0)}},invoke_iiif:function(e,t,n,r){var i=mt();try{return ut(e)(t,n,r)}catch(e){if(vt(i),e!==e+0)throw e;ht(1,0)}},invoke_iiii:function(e,t,n,r){var i=mt();try{return ut(e)(t,n,r)}catch(e){if(vt(i),e!==e+0)throw e;ht(1,0)}},invoke_iiiifi:function(e,t,n,r,i,a){var o=mt();try{return ut(e)(t,n,r,i,a)}catch(e){if(vt(o),e!==e+0)throw e;ht(1,0)}},invoke_iiiii:function(e,t,n,r,i){var a=mt();try{return ut(e)(t,n,r,i)}catch(e){if(vt(a),e!==e+0)throw e;ht(1,0)}},invoke_iiiiid:function(e,t,n,r,i,a){var o=mt();try{return ut(e)(t,n,r,i,a)}catch(e){if(vt(o),e!==e+0)throw e;ht(1,0)}},invoke_iiiiii:function(e,t,n,r,i,a){var o=mt();try{return ut(e)(t,n,r,i,a)}catch(e){if(vt(o),e!==e+0)throw e;ht(1,0)}},invoke_iiiiiii:function(e,t,n,r,i,a,o){var s=mt();try{return ut(e)(t,n,r,i,a,o)}catch(e){if(vt(s),e!==e+0)throw e;ht(1,0)}},invoke_iiiiiiii:function(e,t,n,r,i,a,o,s){var u=mt();try{return ut(e)(t,n,r,i,a,o,s)}catch(e){if(vt(u),e!==e+0)throw e;ht(1,0)}},invoke_iiiiiiiii:function(e,t,n,r,i,a,o,s,u){var c=mt();try{return ut(e)(t,n,r,i,a,o,s,u)}catch(e){if(vt(c),e!==e+0)throw e;ht(1,0)}},invoke_iiiiiiiiii:function(e,t,n,r,i,a,o,s,u,c){var l=mt();try{return ut(e)(t,n,r,i,a,o,s,u,c)}catch(e){if(vt(l),e!==e+0)throw e;ht(1,0)}},invoke_iiiiiiiiiii:function(e,t,n,r,i,a,o,s,u,c,l){var f=mt();try{return ut(e)(t,n,r,i,a,o,s,u,c,l)}catch(e){if(vt(f),e!==e+0)throw e;ht(1,0)}},invoke_iiiiiiiiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f){var p=mt();try{return ut(e)(t,n,r,i,a,o,s,u,c,l,f)}catch(e){if(vt(p),e!==e+0)throw e;ht(1,0)}},invoke_iiiiiiiiiiiiiifi:function(e,t,n,r,i,a,o,s,u,c,l,f,p,d,h,g){var m=mt();try{return ut(e)(t,n,r,i,a,o,s,u,c,l,f,p,d,h,g)}catch(e){if(vt(m),e!==e+0)throw e;ht(1,0)}},invoke_iiiiiiiiiiiiiiiiifii:function(e,t,n,r,i,a,o,s,u,c,l,f,p,d,h,g,m,v,y,w){var _=mt();try{return ut(e)(t,n,r,i,a,o,s,u,c,l,f,p,d,h,g,m,v,y,w)}catch(e){if(vt(_),e!==e+0)throw e;ht(1,0)}},invoke_iiiiiiiiiiiiiiiiiifi:function(e,t,n,r,i,a,o,s,u,c,l,f,p,d,h,g,m,v,y,w){var _=mt();try{return ut(e)(t,n,r,i,a,o,s,u,c,l,f,p,d,h,g,m,v,y,w)}catch(e){if(vt(_),e!==e+0)throw e;ht(1,0)}},invoke_iiiiiiiiijii:function(e,t,n,r,i,a,o,s,u,c,l,f){var p=mt();try{return ut(e)(t,n,r,i,a,o,s,u,c,l,f)}catch(e){if(vt(p),e!==e+0)throw e;ht(1,0)}},invoke_iiiiiiiijjjfi:function(e,t,n,r,i,a,o,s,u,c,l,f,p){var d=mt();try{return ut(e)(t,n,r,i,a,o,s,u,c,l,f,p)}catch(e){if(vt(d),e!==e+0)throw e;ht(1,0)}},invoke_iiiiiijjjii:function(e,t,n,r,i,a,o,s,u,c,l){var f=mt();try{return ut(e)(t,n,r,i,a,o,s,u,c,l)}catch(e){if(vt(f),e!==e+0)throw e;ht(1,0)}},invoke_iiiiij:function(e,t,n,r,i,a){var o=mt();try{return ut(e)(t,n,r,i,a)}catch(e){if(vt(o),e!==e+0)throw e;ht(1,0)}},invoke_iiiiiji:function(e,t,n,r,i,a,o){var s=mt();try{return ut(e)(t,n,r,i,a,o)}catch(e){if(vt(s),e!==e+0)throw e;ht(1,0)}},invoke_iiiiijiiiii:function(e,t,n,r,i,a,o,s,u,c,l){var f=mt();try{return ut(e)(t,n,r,i,a,o,s,u,c,l)}catch(e){if(vt(f),e!==e+0)throw e;ht(1,0)}},invoke_iiiiijji:function(e,t,n,r,i,a,o,s){var u=mt();try{return ut(e)(t,n,r,i,a,o,s)}catch(e){if(vt(u),e!==e+0)throw e;ht(1,0)}},invoke_iiiij:function(e,t,n,r,i){var a=mt();try{return ut(e)(t,n,r,i)}catch(e){if(vt(a),e!==e+0)throw e;ht(1,0)}},invoke_iiiiji:function(e,t,n,r,i,a){var o=mt();try{return ut(e)(t,n,r,i,a)}catch(e){if(vt(o),e!==e+0)throw e;ht(1,0)}},invoke_iiiijjii:function(e,t,n,r,i,a,o,s){var u=mt();try{return ut(e)(t,n,r,i,a,o,s)}catch(e){if(vt(u),e!==e+0)throw e;ht(1,0)}},invoke_iiiijjj:function(e,t,n,r,i,a,o){var s=mt();try{return ut(e)(t,n,r,i,a,o)}catch(e){if(vt(s),e!==e+0)throw e;ht(1,0)}},invoke_iiij:function(e,t,n,r){var i=mt();try{return ut(e)(t,n,r)}catch(e){if(vt(i),e!==e+0)throw e;ht(1,0)}},invoke_iiiji:function(e,t,n,r,i){var a=mt();try{return ut(e)(t,n,r,i)}catch(e){if(vt(a),e!==e+0)throw e;ht(1,0)}},invoke_iiijii:function(e,t,n,r,i,a){var o=mt();try{return ut(e)(t,n,r,i,a)}catch(e){if(vt(o),e!==e+0)throw e;ht(1,0)}},invoke_iiijiii:function(e,t,n,r,i,a,o){var s=mt();try{return ut(e)(t,n,r,i,a,o)}catch(e){if(vt(s),e!==e+0)throw e;ht(1,0)}},invoke_iiijiiii:function(e,t,n,r,i,a,o,s){var u=mt();try{return ut(e)(t,n,r,i,a,o,s)}catch(e){if(vt(u),e!==e+0)throw e;ht(1,0)}},invoke_iiijiiiiii:function(e,t,n,r,i,a,o,s,u,c){var l=mt();try{return ut(e)(t,n,r,i,a,o,s,u,c)}catch(e){if(vt(l),e!==e+0)throw e;ht(1,0)}},invoke_iiijiiiiiiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f,p,d){var h=mt();try{return ut(e)(t,n,r,i,a,o,s,u,c,l,f,p,d)}catch(e){if(vt(h),e!==e+0)throw e;ht(1,0)}},invoke_iiijjj:function(e,t,n,r,i,a){var o=mt();try{return ut(e)(t,n,r,i,a)}catch(e){if(vt(o),e!==e+0)throw e;ht(1,0)}},invoke_iij:function(e,t,n){var r=mt();try{return ut(e)(t,n)}catch(e){if(vt(r),e!==e+0)throw e;ht(1,0)}},invoke_iiji:function(e,t,n,r){var i=mt();try{return ut(e)(t,n,r)}catch(e){if(vt(i),e!==e+0)throw e;ht(1,0)}},invoke_iijiiii:function(e,t,n,r,i,a,o){var s=mt();try{return ut(e)(t,n,r,i,a,o)}catch(e){if(vt(s),e!==e+0)throw e;ht(1,0)}},invoke_iijjji:function(e,t,n,r,i,a){var o=mt();try{return ut(e)(t,n,r,i,a)}catch(e){if(vt(o),e!==e+0)throw e;ht(1,0)}},invoke_iijjjii:function(e,t,n,r,i,a,o){var s=mt();try{return ut(e)(t,n,r,i,a,o)}catch(e){if(vt(s),e!==e+0)throw e;ht(1,0)}},invoke_ij:function(e,t){var n=mt();try{return ut(e)(t)}catch(e){if(vt(n),e!==e+0)throw e;ht(1,0)}},invoke_ijii:function(e,t,n,r){var i=mt();try{return ut(e)(t,n,r)}catch(e){if(vt(i),e!==e+0)throw e;ht(1,0)}},invoke_ijijji:function(e,t,n,r,i,a){var o=mt();try{return ut(e)(t,n,r,i,a)}catch(e){if(vt(o),e!==e+0)throw e;ht(1,0)}},invoke_j:function(e){var t=mt();try{return ut(e)()}catch(e){if(vt(t),e!==e+0)throw e;return ht(1,0),0n}},invoke_jfi:function(e,t,n){var r=mt();try{return ut(e)(t,n)}catch(e){if(vt(r),e!==e+0)throw e;return ht(1,0),0n}},invoke_ji:function(e,t){var n=mt();try{return ut(e)(t)}catch(e){if(vt(n),e!==e+0)throw e;return ht(1,0),0n}},invoke_jii:function(e,t,n){var r=mt();try{return ut(e)(t,n)}catch(e){if(vt(r),e!==e+0)throw e;return ht(1,0),0n}},invoke_jiii:function(e,t,n,r){var i=mt();try{return ut(e)(t,n,r)}catch(e){if(vt(i),e!==e+0)throw e;return ht(1,0),0n}},invoke_jiij:function(e,t,n,r){var i=mt();try{return ut(e)(t,n,r)}catch(e){if(vt(i),e!==e+0)throw e;return ht(1,0),0n}},invoke_jjj:function(e,t,n){var r=mt();try{return ut(e)(t,n)}catch(e){if(vt(r),e!==e+0)throw e;return ht(1,0),0n}},invoke_v:function(e){var t=mt();try{ut(e)()}catch(e){if(vt(t),e!==e+0)throw e;ht(1,0)}},invoke_vfiii:function(e,t,n,r,i){var a=mt();try{ut(e)(t,n,r,i)}catch(e){if(vt(a),e!==e+0)throw e;ht(1,0)}},invoke_vi:function(e,t){var n=mt();try{ut(e)(t)}catch(e){if(vt(n),e!==e+0)throw e;ht(1,0)}},invoke_vidi:function(e,t,n,r){var i=mt();try{ut(e)(t,n,r)}catch(e){if(vt(i),e!==e+0)throw e;ht(1,0)}},invoke_vif:function(e,t,n){var r=mt();try{ut(e)(t,n)}catch(e){if(vt(r),e!==e+0)throw e;ht(1,0)}},invoke_viffiii:function(e,t,n,r,i,a,o){var s=mt();try{ut(e)(t,n,r,i,a,o)}catch(e){if(vt(s),e!==e+0)throw e;ht(1,0)}},invoke_vii:function(e,t,n){var r=mt();try{ut(e)(t,n)}catch(e){if(vt(r),e!==e+0)throw e;ht(1,0)}},invoke_viid:function(e,t,n,r){var i=mt();try{ut(e)(t,n,r)}catch(e){if(vt(i),e!==e+0)throw e;ht(1,0)}},invoke_viif:function(e,t,n,r){var i=mt();try{ut(e)(t,n,r)}catch(e){if(vt(i),e!==e+0)throw e;ht(1,0)}},invoke_viiff:function(e,t,n,r,i){var a=mt();try{ut(e)(t,n,r,i)}catch(e){if(vt(a),e!==e+0)throw e;ht(1,0)}},invoke_viifi:function(e,t,n,r,i){var a=mt();try{ut(e)(t,n,r,i)}catch(e){if(vt(a),e!==e+0)throw e;ht(1,0)}},invoke_viifiifijjjii:function(e,t,n,r,i,a,o,s,u,c,l,f,p){var d=mt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p)}catch(e){if(vt(d),e!==e+0)throw e;ht(1,0)}},invoke_viii:function(e,t,n,r){var i=mt();try{ut(e)(t,n,r)}catch(e){if(vt(i),e!==e+0)throw e;ht(1,0)}},invoke_viiid:function(e,t,n,r,i){var a=mt();try{ut(e)(t,n,r,i)}catch(e){if(vt(a),e!==e+0)throw e;ht(1,0)}},invoke_viiif:function(e,t,n,r,i){var a=mt();try{ut(e)(t,n,r,i)}catch(e){if(vt(a),e!==e+0)throw e;ht(1,0)}},invoke_viiifii:function(e,t,n,r,i,a,o){var s=mt();try{ut(e)(t,n,r,i,a,o)}catch(e){if(vt(s),e!==e+0)throw e;ht(1,0)}},invoke_viiii:function(e,t,n,r,i){var a=mt();try{ut(e)(t,n,r,i)}catch(e){if(vt(a),e!==e+0)throw e;ht(1,0)}},invoke_viiiiff:function(e,t,n,r,i,a,o){var s=mt();try{ut(e)(t,n,r,i,a,o)}catch(e){if(vt(s),e!==e+0)throw e;ht(1,0)}},invoke_viiiii:function(e,t,n,r,i,a){var o=mt();try{ut(e)(t,n,r,i,a)}catch(e){if(vt(o),e!==e+0)throw e;ht(1,0)}},invoke_viiiiidiidi:function(e,t,n,r,i,a,o,s,u,c,l){var f=mt();try{ut(e)(t,n,r,i,a,o,s,u,c,l)}catch(e){if(vt(f),e!==e+0)throw e;ht(1,0)}},invoke_viiiiiff:function(e,t,n,r,i,a,o,s){var u=mt();try{ut(e)(t,n,r,i,a,o,s)}catch(e){if(vt(u),e!==e+0)throw e;ht(1,0)}},invoke_viiiiifiiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f,p){var d=mt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p)}catch(e){if(vt(d),e!==e+0)throw e;ht(1,0)}},invoke_viiiiii:function(e,t,n,r,i,a,o){var s=mt();try{ut(e)(t,n,r,i,a,o)}catch(e){if(vt(s),e!==e+0)throw e;ht(1,0)}},invoke_viiiiiiffifiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f,p,d,h,g){var m=mt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p,d,h,g)}catch(e){if(vt(m),e!==e+0)throw e;ht(1,0)}},invoke_viiiiiiffiifiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f,p,d,h,g,m){var v=mt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p,d,h,g,m)}catch(e){if(vt(v),e!==e+0)throw e;ht(1,0)}},invoke_viiiiiiffiiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f,p,d,h){var g=mt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p,d,h)}catch(e){if(vt(g),e!==e+0)throw e;ht(1,0)}},invoke_viiiiiii:function(e,t,n,r,i,a,o,s){var u=mt();try{ut(e)(t,n,r,i,a,o,s)}catch(e){if(vt(u),e!==e+0)throw e;ht(1,0)}},invoke_viiiiiiii:function(e,t,n,r,i,a,o,s,u){var c=mt();try{ut(e)(t,n,r,i,a,o,s,u)}catch(e){if(vt(c),e!==e+0)throw e;ht(1,0)}},invoke_viiiiiiiii:function(e,t,n,r,i,a,o,s,u,c){var l=mt();try{ut(e)(t,n,r,i,a,o,s,u,c)}catch(e){if(vt(l),e!==e+0)throw e;ht(1,0)}},invoke_viiiiiiiiidi:function(e,t,n,r,i,a,o,s,u,c,l,f){var p=mt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f)}catch(e){if(vt(p),e!==e+0)throw e;ht(1,0)}},invoke_viiiiiiiiifi:function(e,t,n,r,i,a,o,s,u,c,l,f){var p=mt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f)}catch(e){if(vt(p),e!==e+0)throw e;ht(1,0)}},invoke_viiiiiiiiifiii:function(e,t,n,r,i,a,o,s,u,c,l,f,p,d){var h=mt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p,d)}catch(e){if(vt(h),e!==e+0)throw e;ht(1,0)}},invoke_viiiiiiiiii:function(e,t,n,r,i,a,o,s,u,c,l){var f=mt();try{ut(e)(t,n,r,i,a,o,s,u,c,l)}catch(e){if(vt(f),e!==e+0)throw e;ht(1,0)}},invoke_viiiiiiiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f){var p=mt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f)}catch(e){if(vt(p),e!==e+0)throw e;ht(1,0)}},invoke_viiiiiiiiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f,p){var d=mt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p)}catch(e){if(vt(d),e!==e+0)throw e;ht(1,0)}},invoke_viiiiiiiiiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f,p,d){var h=mt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p,d)}catch(e){if(vt(h),e!==e+0)throw e;ht(1,0)}},invoke_viiiiiiiiiiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f,p,d,h){var g=mt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p,d,h)}catch(e){if(vt(g),e!==e+0)throw e;ht(1,0)}},invoke_viiiiiiiiiiiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f,p,d,h,g){var m=mt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p,d,h,g)}catch(e){if(vt(m),e!==e+0)throw e;ht(1,0)}},invoke_viiiiiiiiiiiiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f,p,d,h,g,m){var v=mt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p,d,h,g,m)}catch(e){if(vt(v),e!==e+0)throw e;ht(1,0)}},invoke_viiiiiiiiiiiiiiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f,p,d,h,g,m,v,y){var w=mt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p,d,h,g,m,v,y)}catch(e){if(vt(w),e!==e+0)throw e;ht(1,0)}},invoke_viiiiiiiiiiiiiiiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f,p,d,h,g,m,v,y,w){var _=mt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p,d,h,g,m,v,y,w)}catch(e){if(vt(_),e!==e+0)throw e;ht(1,0)}},invoke_viiiiiiiiiiiiiiiiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f,p,d,h,g,m,v,y,w,_){var b=mt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p,d,h,g,m,v,y,w,_)}catch(e){if(vt(b),e!==e+0)throw e;ht(1,0)}},invoke_viiiiiiiijj:function(e,t,n,r,i,a,o,s,u,c,l){var f=mt();try{ut(e)(t,n,r,i,a,o,s,u,c,l)}catch(e){if(vt(f),e!==e+0)throw e;ht(1,0)}},invoke_viiiiiiijiiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f,p,d,h){var g=mt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p,d,h)}catch(e){if(vt(g),e!==e+0)throw e;ht(1,0)}},invoke_viiiiiiijjj:function(e,t,n,r,i,a,o,s,u,c,l){var f=mt();try{ut(e)(t,n,r,i,a,o,s,u,c,l)}catch(e){if(vt(f),e!==e+0)throw e;ht(1,0)}},invoke_viiiiiijij:function(e,t,n,r,i,a,o,s,u,c){var l=mt();try{ut(e)(t,n,r,i,a,o,s,u,c)}catch(e){if(vt(l),e!==e+0)throw e;ht(1,0)}},invoke_viiiiiijjiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f,p,d){var h=mt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p,d)}catch(e){if(vt(h),e!==e+0)throw e;ht(1,0)}},invoke_viiiiij:function(e,t,n,r,i,a,o){var s=mt();try{ut(e)(t,n,r,i,a,o)}catch(e){if(vt(s),e!==e+0)throw e;ht(1,0)}},invoke_viiiiijiiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f,p){var d=mt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p)}catch(e){if(vt(d),e!==e+0)throw e;ht(1,0)}},invoke_viiiiijiiiiiiiiiiiiiiiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f,p,d,h,g,m,v,y,w,_,b,$,S,k,O){var A=mt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p,d,h,g,m,v,y,w,_,b,$,S,k,O)}catch(e){if(vt(A),e!==e+0)throw e;ht(1,0)}},invoke_viiiiijij:function(e,t,n,r,i,a,o,s,u){var c=mt();try{ut(e)(t,n,r,i,a,o,s,u)}catch(e){if(vt(c),e!==e+0)throw e;ht(1,0)}},invoke_viiiiijjiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f,p){var d=mt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p)}catch(e){if(vt(d),e!==e+0)throw e;ht(1,0)}},invoke_viiiiijjji:function(e,t,n,r,i,a,o,s,u,c){var l=mt();try{ut(e)(t,n,r,i,a,o,s,u,c)}catch(e){if(vt(l),e!==e+0)throw e;ht(1,0)}},invoke_viiiij:function(e,t,n,r,i,a){var o=mt();try{ut(e)(t,n,r,i,a)}catch(e){if(vt(o),e!==e+0)throw e;ht(1,0)}},invoke_viiiiji:function(e,t,n,r,i,a,o){var s=mt();try{ut(e)(t,n,r,i,a,o)}catch(e){if(vt(s),e!==e+0)throw e;ht(1,0)}},invoke_viiiijii:function(e,t,n,r,i,a,o,s){var u=mt();try{ut(e)(t,n,r,i,a,o,s)}catch(e){if(vt(u),e!==e+0)throw e;ht(1,0)}},invoke_viiiijjj:function(e,t,n,r,i,a,o,s){var u=mt();try{ut(e)(t,n,r,i,a,o,s)}catch(e){if(vt(u),e!==e+0)throw e;ht(1,0)}},invoke_viiij:function(e,t,n,r,i){var a=mt();try{ut(e)(t,n,r,i)}catch(e){if(vt(a),e!==e+0)throw e;ht(1,0)}},invoke_viiiji:function(e,t,n,r,i,a){var o=mt();try{ut(e)(t,n,r,i,a)}catch(e){if(vt(o),e!==e+0)throw e;ht(1,0)}},invoke_viiijii:function(e,t,n,r,i,a,o){var s=mt();try{ut(e)(t,n,r,i,a,o)}catch(e){if(vt(s),e!==e+0)throw e;ht(1,0)}},invoke_viiijiiii:function(e,t,n,r,i,a,o,s,u){var c=mt();try{ut(e)(t,n,r,i,a,o,s,u)}catch(e){if(vt(c),e!==e+0)throw e;ht(1,0)}},invoke_viiijiiiiii:function(e,t,n,r,i,a,o,s,u,c,l){var f=mt();try{ut(e)(t,n,r,i,a,o,s,u,c,l)}catch(e){if(vt(f),e!==e+0)throw e;ht(1,0)}},invoke_viiijiiiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f){var p=mt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f)}catch(e){if(vt(p),e!==e+0)throw e;ht(1,0)}},invoke_viiijiiiiiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f,p,d){var h=mt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p,d)}catch(e){if(vt(h),e!==e+0)throw e;ht(1,0)}},invoke_viiijjiii:function(e,t,n,r,i,a,o,s,u){var c=mt();try{ut(e)(t,n,r,i,a,o,s,u)}catch(e){if(vt(c),e!==e+0)throw e;ht(1,0)}},invoke_viiijjjfii:function(e,t,n,r,i,a,o,s,u,c){var l=mt();try{ut(e)(t,n,r,i,a,o,s,u,c)}catch(e){if(vt(l),e!==e+0)throw e;ht(1,0)}},invoke_viiijjjii:function(e,t,n,r,i,a,o,s,u){var c=mt();try{ut(e)(t,n,r,i,a,o,s,u)}catch(e){if(vt(c),e!==e+0)throw e;ht(1,0)}},invoke_viij:function(e,t,n,r){var i=mt();try{ut(e)(t,n,r)}catch(e){if(vt(i),e!==e+0)throw e;ht(1,0)}},invoke_viiji:function(e,t,n,r,i){var a=mt();try{ut(e)(t,n,r,i)}catch(e){if(vt(a),e!==e+0)throw e;ht(1,0)}},invoke_viijiii:function(e,t,n,r,i,a,o){var s=mt();try{ut(e)(t,n,r,i,a,o)}catch(e){if(vt(s),e!==e+0)throw e;ht(1,0)}},invoke_viijiiiiiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f,p){var d=mt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p)}catch(e){if(vt(d),e!==e+0)throw e;ht(1,0)}},invoke_viijj:function(e,t,n,r,i){var a=mt();try{ut(e)(t,n,r,i)}catch(e){if(vt(a),e!==e+0)throw e;ht(1,0)}},invoke_viijji:function(e,t,n,r,i,a){var o=mt();try{ut(e)(t,n,r,i,a)}catch(e){if(vt(o),e!==e+0)throw e;ht(1,0)}},invoke_viijjiii:function(e,t,n,r,i,a,o,s){var u=mt();try{ut(e)(t,n,r,i,a,o,s)}catch(e){if(vt(u),e!==e+0)throw e;ht(1,0)}},invoke_viijjiiiii:function(e,t,n,r,i,a,o,s,u,c){var l=mt();try{ut(e)(t,n,r,i,a,o,s,u,c)}catch(e){if(vt(l),e!==e+0)throw e;ht(1,0)}},invoke_viijjjfiifiii:function(e,t,n,r,i,a,o,s,u,c,l,f,p){var d=mt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p)}catch(e){if(vt(d),e!==e+0)throw e;ht(1,0)}},invoke_viijjjiiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f){var p=mt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f)}catch(e){if(vt(p),e!==e+0)throw e;ht(1,0)}},invoke_vij:function(e,t,n){var r=mt();try{ut(e)(t,n)}catch(e){if(vt(r),e!==e+0)throw e;ht(1,0)}},invoke_viji:function(e,t,n,r){var i=mt();try{ut(e)(t,n,r)}catch(e){if(vt(i),e!==e+0)throw e;ht(1,0)}},invoke_vijiii:function(e,t,n,r,i,a){var o=mt();try{ut(e)(t,n,r,i,a)}catch(e){if(vt(o),e!==e+0)throw e;ht(1,0)}},invoke_vijiiiiiiii:function(e,t,n,r,i,a,o,s,u,c,l){var f=mt();try{ut(e)(t,n,r,i,a,o,s,u,c,l)}catch(e){if(vt(f),e!==e+0)throw e;ht(1,0)}},invoke_vijiiiiiiijjii:function(e,t,n,r,i,a,o,s,u,c,l,f,p,d){var h=mt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p,d)}catch(e){if(vt(h),e!==e+0)throw e;ht(1,0)}},invoke_vijj:function(e,t,n,r){var i=mt();try{ut(e)(t,n,r)}catch(e){if(vt(i),e!==e+0)throw e;ht(1,0)}},invoke_vijjfffiii:function(e,t,n,r,i,a,o,s,u,c){var l=mt();try{ut(e)(t,n,r,i,a,o,s,u,c)}catch(e){if(vt(l),e!==e+0)throw e;ht(1,0)}},invoke_vijjii:function(e,t,n,r,i,a){var o=mt();try{ut(e)(t,n,r,i,a)}catch(e){if(vt(o),e!==e+0)throw e;ht(1,0)}},invoke_vijjiiiiii:function(e,t,n,r,i,a,o,s,u,c){var l=mt();try{ut(e)(t,n,r,i,a,o,s,u,c)}catch(e){if(vt(l),e!==e+0)throw e;ht(1,0)}},invoke_vijjjiiji:function(e,t,n,r,i,a,o,s,u){var c=mt();try{ut(e)(t,n,r,i,a,o,s,u)}catch(e){if(vt(c),e!==e+0)throw e;ht(1,0)}},invoke_vijjjjiij:function(e,t,n,r,i,a,o,s,u){var c=mt();try{ut(e)(t,n,r,i,a,o,s,u)}catch(e){if(vt(c),e!==e+0)throw e;ht(1,0)}},invoke_vijjjjijjiii:function(e,t,n,r,i,a,o,s,u,c,l,f){var p=mt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f)}catch(e){if(vt(p),e!==e+0)throw e;ht(1,0)}},invoke_vijjjjjjifiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f,p,d,h){var g=mt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p,d,h)}catch(e){if(vt(g),e!==e+0)throw e;ht(1,0)}},invoke_vijjjjjjjjjjjjji:function(e,t,n,r,i,a,o,s,u,c,l,f,p,d,h,g){var m=mt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p,d,h,g)}catch(e){if(vt(m),e!==e+0)throw e;ht(1,0)}},invoke_vj:function(e,t){var n=mt();try{ut(e)(t)}catch(e){if(vt(n),e!==e+0)throw e;ht(1,0)}},invoke_vjiii:function(e,t,n,r,i){var a=mt();try{ut(e)(t,n,r,i)}catch(e){if(vt(a),e!==e+0)throw e;ht(1,0)}},invoke_vjjfiii:function(e,t,n,r,i,a,o){var s=mt();try{ut(e)(t,n,r,i,a,o)}catch(e){if(vt(s),e!==e+0)throw e;ht(1,0)}},invoke_vjjjjfiii:function(e,t,n,r,i,a,o,s,u){var c=mt();try{ut(e)(t,n,r,i,a,o,s,u)}catch(e){if(vt(c),e!==e+0)throw e;ht(1,0)}},invoke_vjjjjjiiii:function(e,t,n,r,i,a,o,s,u,c){var l=mt();try{ut(e)(t,n,r,i,a,o,s,u,c)}catch(e){if(vt(l),e!==e+0)throw e;ht(1,0)}},invoke_vjjjjjjfffifiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f,p,d,h,g,m){var v=mt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p,d,h,g,m)}catch(e){if(vt(v),e!==e+0)throw e;ht(1,0)}},invoke_vjjjjjjfffifiiiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f,p,d,h,g,m,v,y){var w=mt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p,d,h,g,m,v,y)}catch(e){if(vt(w),e!==e+0)throw e;ht(1,0)}},invoke_vjjjjjjffiifiiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f,p,d,h,g,m,v){var y=mt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p,d,h,g,m,v)}catch(e){if(vt(y),e!==e+0)throw e;ht(1,0)}},invoke_vjjjjjjjjfffiifiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f,p,d,h,g,m,v,y,w){var _=mt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p,d,h,g,m,v,y,w)}catch(e){if(vt(_),e!==e+0)throw e;ht(1,0)}},invoke_vjjjjjjjjfffiifiiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f,p,d,h,g,m,v,y,w,_){var b=mt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p,d,h,g,m,v,y,w,_)}catch(e){if(vt(b),e!==e+0)throw e;ht(1,0)}},llvm_eh_typeid_for:function(e){return e},strftime:ot,strftime_l:function(e,t,n,r,i){return ot(e,t,n,r)}},ft=(function(){var e,t,n,a,o={env:lt,wasi_snapshot_preview1:lt};function s(e,t){var n,r=e.exports;return i.asm=r,v=i.asm.memory,M(),P=i.asm.__indirect_function_table,n=i.asm.__wasm_call_ctors,R.unshift(n),function(e){if(D--,i.monitorRunDependencies&&i.monitorRunDependencies(D),0==D&&(null!==U&&(clearInterval(U),U=null),G)){var t=G;G=null,t()}}(),r}if(D++,i.monitorRunDependencies&&i.monitorRunDependencies(D),i.instantiateWasm)try{return i.instantiateWasm(o,s)}catch(e){w("Module.instantiateWasm callback failed with error: "+e),r(e)}(e=m,t=W,n=o,a=function(e){s(e.instance)},e||"function"!=typeof WebAssembly.instantiateStreaming||L(t)||H(t)||p||"function"!=typeof fetch?K(t,n,a):fetch(t,{credentials:"same-origin"}).then((e=>WebAssembly.instantiateStreaming(e,n).then(a,(function(e){return w("wasm streaming compile failed: "+e),w("falling back to ArrayBuffer instantiation"),K(t,n,a)}))))).catch(r)}(),i._OrtInit=function(){return(i._OrtInit=i.asm.OrtInit).apply(null,arguments)},i._OrtCreateSessionOptions=function(){return(i._OrtCreateSessionOptions=i.asm.OrtCreateSessionOptions).apply(null,arguments)},i._OrtAppendExecutionProvider=function(){return(i._OrtAppendExecutionProvider=i.asm.OrtAppendExecutionProvider).apply(null,arguments)},i._OrtAddSessionConfigEntry=function(){return(i._OrtAddSessionConfigEntry=i.asm.OrtAddSessionConfigEntry).apply(null,arguments)},i._OrtReleaseSessionOptions=function(){return(i._OrtReleaseSessionOptions=i.asm.OrtReleaseSessionOptions).apply(null,arguments)},i._OrtCreateSession=function(){return(i._OrtCreateSession=i.asm.OrtCreateSession).apply(null,arguments)},i._OrtReleaseSession=function(){return(i._OrtReleaseSession=i.asm.OrtReleaseSession).apply(null,arguments)},i._OrtGetInputCount=function(){return(i._OrtGetInputCount=i.asm.OrtGetInputCount).apply(null,arguments)},i._OrtGetOutputCount=function(){return(i._OrtGetOutputCount=i.asm.OrtGetOutputCount).apply(null,arguments)},i._OrtGetInputName=function(){return(i._OrtGetInputName=i.asm.OrtGetInputName).apply(null,arguments)},i._OrtGetOutputName=function(){return(i._OrtGetOutputName=i.asm.OrtGetOutputName).apply(null,arguments)},i._OrtFree=function(){return(i._OrtFree=i.asm.OrtFree).apply(null,arguments)},i._OrtCreateTensor=function(){return(i._OrtCreateTensor=i.asm.OrtCreateTensor).apply(null,arguments)},i._OrtGetTensorData=function(){return(i._OrtGetTensorData=i.asm.OrtGetTensorData).apply(null,arguments)},i._OrtReleaseTensor=function(){return(i._OrtReleaseTensor=i.asm.OrtReleaseTensor).apply(null,arguments)},i._OrtCreateRunOptions=function(){return(i._OrtCreateRunOptions=i.asm.OrtCreateRunOptions).apply(null,arguments)},i._OrtAddRunConfigEntry=function(){return(i._OrtAddRunConfigEntry=i.asm.OrtAddRunConfigEntry).apply(null,arguments)},i._OrtReleaseRunOptions=function(){return(i._OrtReleaseRunOptions=i.asm.OrtReleaseRunOptions).apply(null,arguments)},i._OrtRun=function(){return(i._OrtRun=i.asm.OrtRun).apply(null,arguments)},i._OrtEndProfiling=function(){return(i._OrtEndProfiling=i.asm.OrtEndProfiling).apply(null,arguments)},i._malloc=function(){return(ft=i._malloc=i.asm.malloc).apply(null,arguments)}),pt=i._free=function(){return(pt=i._free=i.asm.free).apply(null,arguments)},dt=function(){return(dt=i.asm.__getTypeName).apply(null,arguments)},ht=(i.__embind_initialize_bindings=function(){return(i.__embind_initialize_bindings=i.asm._embind_initialize_bindings).apply(null,arguments)},function(){return(ht=i.asm.setThrew).apply(null,arguments)}),gt=function(){return(gt=i.asm.setTempRet0).apply(null,arguments)},mt=function(){return(mt=i.asm.stackSave).apply(null,arguments)},vt=function(){return(vt=i.asm.stackRestore).apply(null,arguments)},yt=function(){return(yt=i.asm.stackAlloc).apply(null,arguments)},wt=function(){return(wt=i.asm.__cxa_decrement_exception_refcount).apply(null,arguments)},_t=function(){return(_t=i.asm.__cxa_increment_exception_refcount).apply(null,arguments)},bt=function(){return(bt=i.asm.__cxa_can_catch).apply(null,arguments)},$t=function(){return($t=i.asm.__cxa_is_pointer_type).apply(null,arguments)};function St(){function e(){ct||(ct=!0,i.calledRun=!0,E||(Y(R),t(i),i.onRuntimeInitialized&&i.onRuntimeInitialized(),function(){if(i.postRun)for("function"==typeof i.postRun&&(i.postRun=[i.postRun]);i.postRun.length;)e=i.postRun.shift(),I.unshift(e);var e;Y(I)}()))}D>0||(function(){if(i.preRun)for("function"==typeof i.preRun&&(i.preRun=[i.preRun]);i.preRun.length;)e=i.preRun.shift(),x.unshift(e);var e;Y(x)}(),D>0||(i.setStatus?(i.setStatus("Running..."),setTimeout((function(){setTimeout((function(){i.setStatus("")}),1),e()}),1)):e()))}if(i.stackAlloc=yt,i.stackSave=mt,i.stackRestore=vt,i.UTF8ToString=oe,i.stringToUTF8=le,i.lengthBytesUTF8=ue,G=function e(){ct||St(),ct||(G=e)},i.preInit)for("function"==typeof i.preInit&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();return St(),e.ready});e.exports=r},154:e=>{"use strict";e.exports=\'"use strict";var e={},a="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(a){var r=require("worker_threads"),t=r.parentPort;t.on("message",(e=>onmessage({data:e})));var s=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:function(e){(0,eval)(s.readFileSync(e,"utf8")+"//# sourceURL="+e)},postMessage:function(e){t.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var o=!1,n=function(){var e=Array.prototype.slice.call(arguments).join(" ");a?s.writeSync(2,e+"\\\\n"):console.error(e)};self.alert=function(){var a=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:a,threadId:e._pthread_self()})},e.instantiateWasm=(a,r)=>{var t=e.wasmModule;return e.wasmModule=null,r(new WebAssembly.Instance(t,a))},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=function a(r){try{if("load"===r.data.cmd){let s=[];self.onmessage=e=>s.push(e),self.startWorker=r=>{e=r,postMessage({cmd:"loaded"});for(let e of s)a(e);self.onmessage=a},e.wasmModule=r.data.wasmModule;for(const a of r.data.handlers)e[a]=function(){postMessage({cmd:"callHandler",handler:a,args:[...arguments]})};if(e.wasmMemory=r.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof r.data.urlOrBlob)importScripts(r.data.urlOrBlob);else{var t=URL.createObjectURL(r.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(e)}else if("run"===r.data.cmd){e.__emscripten_thread_init(r.data.pthread_ptr,0,0,1),e.__emscripten_thread_mailbox_await(r.data.pthread_ptr),e.establishStackSpace(),e.PThread.receiveObjectTransfer(r.data),e.PThread.threadInitTLS(),o||(o=!0);try{e.invokeEntryPoint(r.data.start_routine,r.data.arg)}catch(e){if("unwind"!=e)throw e}}else"cancel"===r.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===r.data.target||("checkMailbox"===r.data.cmd?o&&e.checkMailbox():r.data.cmd&&(n("worker.js received unknown command "+r.data.cmd),n(r.data)))}catch(a){throw e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),a}};\\n\'},760:()=>{},384:()=>{},993:()=>{},908:()=>{},953:()=>{},925:()=>{},449:()=>{}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{"use strict";const e=n(259),t=n(263);self.onmessage=n=>{switch(n.data.type){case"init-wasm":try{(0,t.initializeWebAssembly)(n.data.in).then((()=>postMessage({type:"init-wasm"})),(e=>postMessage({type:"init-wasm",err:e})))}catch(e){postMessage({type:"init-wasm",err:e})}break;case"init-ort":try{(0,e.initRuntime)(n.data.in).then((()=>postMessage({type:"init-ort"})),(e=>postMessage({type:"init-ort",err:e}))),postMessage({type:"init-ort"})}catch(e){postMessage({type:"init-ort",err:e})}break;case"create_allocate":try{const{model:t}=n.data.in,r=(0,e.createSessionAllocate)(t);postMessage({type:"create_allocate",out:r})}catch(e){postMessage({type:"create_allocate",err:e})}break;case"create_finalize":try{const{modeldata:t,options:r}=n.data.in,i=(0,e.createSessionFinalize)(t,r);postMessage({type:"create_finalize",out:i})}catch(e){postMessage({type:"create_finalize",err:e})}break;case"create":try{const{model:t,options:r}=n.data.in,i=(0,e.createSession)(t,r);postMessage({type:"create",out:i})}catch(e){postMessage({type:"create",err:e})}break;case"release":try{const t=n.data.in;(0,e.releaseSession)(t),postMessage({type:"release"})}catch(e){postMessage({type:"release",err:e})}break;case"run":try{const{sessionId:t,inputIndices:r,inputs:i,outputIndices:a,options:o}=n.data.in;(0,e.run)(t,r,i,a,o).then((t=>{postMessage({type:"run",out:t},(0,e.extractTransferableBuffers)(t))}),(e=>{postMessage({type:"run",err:e})}))}catch(e){postMessage({type:"run",err:e})}break;case"end-profiling":try{const t=n.data.in;(0,e.endProfiling)(t),postMessage({type:"end-profiling"})}catch(e){postMessage({type:"end-profiling",err:e})}}}})()})();\n',"Worker",void 0,void 0)}},6614:e=>{"use strict";e.exports=function(e,t,n,r){var i=self||window;try{try{var a;try{a=new i.Blob([e])}catch(t){(a=new(i.BlobBuilder||i.WebKitBlobBuilder||i.MozBlobBuilder||i.MSBlobBuilder)).append(e),a=a.getBlob()}var o=i.URL||i.webkitURL,s=o.createObjectURL(a),u=new i[t](s,n);return o.revokeObjectURL(s),u}catch(r){return new i[t]("data:application/javascript,".concat(encodeURIComponent(e)),n)}}catch(e){if(!r)throw Error("Inline worker is not supported");return new i[t](r,n)}}},3474:(e,t,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e={}){function t(){return j.buffer!=x.buffer&&G(),x}function r(){return j.buffer!=x.buffer&&G(),I}function i(){return j.buffer!=x.buffer&&G(),R}function a(){return j.buffer!=x.buffer&&G(),D}function o(){return j.buffer!=x.buffer&&G(),U}var s,u,c;s||(s=void 0!==e?e:{}),s.ready=new Promise(((e,t)=>{u=e,c=t}));var l,f,p,d=Object.assign({},s),h="./this.program",m=(e,t)=>{throw t},g="object"==typeof window,v="function"==typeof importScripts,y="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,w=s.ENVIRONMENT_IS_PTHREAD||!1,_="";function b(e){return s.locateFile?s.locateFile(e,_):_+e}if(y){var k=n(1384),$=n(908);let t;_=v?$.dirname(_)+"/":"//",l=(e,t)=>(e=e.startsWith("file://")?new URL(e):$.normalize(e),k.readFileSync(e,t?void 0:"utf8")),p=e=>((e=l(e,!0)).buffer||(e=new Uint8Array(e)),e),f=(e,t,n,r=!0)=>{e=e.startsWith("file://")?new URL(e):$.normalize(e),k.readFile(e,r?void 0:"utf8",((e,i)=>{e?n(e):t(r?i.buffer:i)}))},!s.thisProgram&&1<process.argv.length&&(h=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),m=(e,t)=>{throw process.exitCode=e,t},s.inspect=()=>"[Emscripten Module object]";try{t=n(9925)}catch(e){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),e}n.g.Worker=t.Worker}else(g||v)&&(v?_=self.location.href:"undefined"!=typeof document&&document.currentScript&&(_=document.currentScript.src),_scriptDir&&(_=_scriptDir),_=0!==_.indexOf("blob:")?_.substr(0,_.replace(/[?#].*/,"").lastIndexOf("/")+1):"",y||(l=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},v&&(p=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),f=(e,t,n)=>{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)}));y&&"undefined"==typeof performance&&(n.g.performance=n(6953).performance);var S=console.log.bind(console),O=console.warn.bind(console);y&&(S=(...e)=>k.writeSync(1,e.join(" ")+"\n"),O=(...e)=>k.writeSync(2,e.join(" ")+"\n"));var A,C=s.print||S,T=s.printErr||O;Object.assign(s,d),d=null,s.thisProgram&&(h=s.thisProgram),s.quit&&(m=s.quit),s.wasmBinary&&(A=s.wasmBinary);var P=s.noExitRuntime||!0;"object"!=typeof WebAssembly&&Z("no native wasm support detected");var j,E,M,x,I,R,D,U,B=!1;function G(){var e=j.buffer;s.HEAP8=x=new Int8Array(e),s.HEAP16=new Int16Array(e),s.HEAP32=R=new Int32Array(e),s.HEAPU8=I=new Uint8Array(e),s.HEAPU16=new Uint16Array(e),s.HEAPU32=D=new Uint32Array(e),s.HEAPF32=new Float32Array(e),s.HEAPF64=U=new Float64Array(e)}var W=s.INITIAL_MEMORY||16777216;if(5242880<=W||Z("INITIAL_MEMORY should be larger than STACK_SIZE, was "+W+"! (STACK_SIZE=5242880)"),w)j=s.wasmMemory;else if(s.wasmMemory)j=s.wasmMemory;else if(!((j=new WebAssembly.Memory({initial:W/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw T("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),y&&T("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");G(),W=j.buffer.byteLength;var z,F=[],L=[],H=[],N=0;function K(){return P||0<N}function V(){var e=s.preRun.shift();F.unshift(e)}var Y,q=0,J=null,X=null;function Z(e){throw s.onAbort&&s.onAbort(e),T(e="Aborted("+e+")"),B=!0,M=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),c(e),e}function Q(e){return e.startsWith("data:application/octet-stream;base64,")}function ee(e){try{if(e==Y&&A)return new Uint8Array(A);if(p)return p(e);throw"both async and sync fetching of the wasm failed"}catch(e){Z(e)}}function te(e,t,n){return function(e){if(!A&&(g||v)){if("function"==typeof fetch&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then((t=>{if(!t.ok)throw"failed to load wasm binary file at '"+e+"'";return t.arrayBuffer()})).catch((()=>ee(e)));if(f)return new Promise(((t,n)=>{f(e,(e=>t(new Uint8Array(e))),n)}))}return Promise.resolve().then((()=>ee(e)))}(e).then((e=>WebAssembly.instantiate(e,t))).then((e=>e)).then(n,(e=>{T("failed to asynchronously prepare wasm: "+e),Z(e)}))}function ne(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function re(e){e.terminate(),e.onmessage=()=>{}}function ie(e){(e=pe.Ha[e])||Z(),pe.hb(e)}function ae(e){var t=pe.bb();if(!t)return 6;pe.Ka.push(t),pe.Ha[e.Ja]=t,t.Ja=e.Ja;var n={cmd:"run",start_routine:e.ib,arg:e.$a,pthread_ptr:e.Ja};return y&&t.unref(),t.postMessage(n,e.ob),0}Q(Y="ort-wasm-threaded.wasm")||(Y=b(Y));var oe="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function se(e,t,n){var r=(t>>>=0)+n;for(n=t;e[n]&&!(n>=r);)++n;if(16<n-t&&e.buffer&&oe)return oe.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,n):e.subarray(t,n));for(r="";t<n;){var i=e[t++];if(128&i){var a=63&e[t++];if(192==(224&i))r+=String.fromCharCode((31&i)<<6|a);else{var o=63&e[t++];65536>(i=224==(240&i)?(15&i)<<12|a<<6|o:(7&i)<<18|a<<12|o<<6|63&e[t++])?r+=String.fromCharCode(i):(i-=65536,r+=String.fromCharCode(55296|i>>10,56320|1023&i))}}else r+=String.fromCharCode(i)}return r}function ue(e,t){return(e>>>=0)?se(r(),e,t):""}function ce(e){if(w)return Ke(1,1,e);M=e,K()||(pe.jb(),s.onExit&&s.onExit(e),B=!0),m(e,new ne(e))}function le(e){if(M=e,w)throw he(e),"unwind";ce(e)}function fe(e){e instanceof ne||"unwind"==e||m(1,e)}var pe={Na:[],Ka:[],Va:[],Ha:{},Ra:function(){w&&pe.cb()},rb:function(){},cb:function(){pe.receiveObjectTransfer=pe.gb,pe.threadInitTLS=pe.Ua,pe.setExitStatus=pe.Ta,P=!1},Ta:function(e){M=e},tb:["$terminateWorker"],jb:function(){for(var e of pe.Ka)re(e);for(e of pe.Na)re(e);pe.Na=[],pe.Ka=[],pe.Ha=[]},hb:function(e){var t=e.Ja;delete pe.Ha[t],pe.Na.push(e),pe.Ka.splice(pe.Ka.indexOf(e),1),e.Ja=0,ht(t)},gb:function(){},Ua:function(){pe.Va.forEach((e=>e()))},fb:e=>new Promise((t=>{e.onmessage=n=>{var r=(n=n.data).cmd;if(e.Ja&&(pe.ab=e.Ja),n.targetThread&&n.targetThread!=lt()){var i=pe.Ha[n.sb];i?i.postMessage(n,n.transferList):T('Internal error! Worker sent a message "'+r+'" to target pthread '+n.targetThread+", but that thread no longer exists!")}else"checkMailbox"===r?De():"spawnThread"===r?ae(n):"cleanupThread"===r?ie(n.thread):"killThread"===r?(n=n.thread,r=pe.Ha[n],delete pe.Ha[n],re(r),ht(n),pe.Ka.splice(pe.Ka.indexOf(r),1),r.Ja=0):"cancelThread"===r?pe.Ha[n.thread].postMessage({cmd:"cancel"}):"loaded"===r?(e.loaded=!0,t(e)):"print"===r?C("Thread "+n.threadId+": "+n.text):"printErr"===r?T("Thread "+n.threadId+": "+n.text):"alert"===r?alert("Thread "+n.threadId+": "+n.text):"setimmediate"===n.target?e.postMessage(n):"callHandler"===r?s[n.handler](...n.args):r&&T("worker sent an unknown command "+r);pe.ab=void 0},e.onerror=e=>{throw T("worker sent an error! "+e.filename+":"+e.lineno+": "+e.message),e},y&&(e.on("message",(function(t){e.onmessage({data:t})})),e.on("error",(function(t){e.onerror(t)})));var n,r=[];for(n of["onExit","onAbort","print","printErr"])s.hasOwnProperty(n)&&r.push(n);e.postMessage({cmd:"load",handlers:r,urlOrBlob:s.mainScriptUrlOrBlob||_scriptDir,wasmMemory:j,wasmModule:E})})),eb:function(e){e()},Za:function(){var e=b("ort-wasm-threaded.worker.js");e=new Worker(e),pe.Na.push(e)},bb:function(){return 0==pe.Na.length&&(pe.Za(),pe.fb(pe.Na[0])),pe.Na.pop()}};function de(e){for(;0<e.length;)e.shift()(s)}function he(e){if(w)return Ke(2,0,e);le(e)}s.PThread=pe,s.establishStackSpace=function(){var e=lt(),t=i()[e+52>>2>>>0];yt(t,t-(e=i()[e+56>>2>>>0])),_t(t)};var me=[];function ge(e){this.Qa=e-24,this.Ya=function(e){a()[this.Qa+4>>2>>>0]=e},this.Xa=function(e){a()[this.Qa+8>>2>>>0]=e},this.Ra=function(e,t){this.Wa(),this.Ya(e),this.Xa(t)},this.Wa=function(){a()[this.Qa+16>>2>>>0]=0}}function ve(e,t,n,r){return w?Ke(3,1,e,t,n,r):ye(e,t,n,r)}function ye(e,t,n,r){if("undefined"==typeof SharedArrayBuffer)return T("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var i=[];return w&&0===i.length?ve(e,t,n,r):(e={ib:n,Ja:e,$a:r,ob:i},w?(e.qb="spawnThread",postMessage(e,i),0):ae(e))}function we(e,t,n){return w?Ke(4,1,e,t,n):0}function _e(e,t){if(w)return Ke(5,1,e,t)}function be(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);127>=r?t++:2047>=r?t+=2:55296<=r&&57343>=r?(t+=4,++n):t+=3}return t}function ke(e,t,n,r){if(!(0<r))return 0;var i=n>>>=0;r=n+r-1;for(var a=0;a<e.length;++a){var o=e.charCodeAt(a);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++a)),127>=o){if(n>=r)break;t[n++>>>0]=o}else{if(2047>=o){if(n+1>=r)break;t[n++>>>0]=192|o>>6}else{if(65535>=o){if(n+2>=r)break;t[n++>>>0]=224|o>>12}else{if(n+3>=r)break;t[n++>>>0]=240|o>>18,t[n++>>>0]=128|o>>12&63}t[n++>>>0]=128|o>>6&63}t[n++>>>0]=128|63&o}}return t[n>>>0]=0,n-i}function $e(e,t,n){return ke(e,r(),t,n)}function Se(e,t){if(w)return Ke(6,1,e,t)}function Oe(e,t,n){if(w)return Ke(7,1,e,t,n)}function Ae(e,t,n){return w?Ke(8,1,e,t,n):0}function Ce(e,t){if(w)return Ke(9,1,e,t)}function Te(e,t,n){if(w)return Ke(10,1,e,t,n)}function Pe(e,t,n,r){if(w)return Ke(11,1,e,t,n,r)}function je(e,t,n,r){if(w)return Ke(12,1,e,t,n,r)}function Ee(e,t,n,r){if(w)return Ke(13,1,e,t,n,r)}function Me(e){if(w)return Ke(14,1,e)}function xe(e,t){if(w)return Ke(15,1,e,t)}function Ie(e,t,n){if(w)return Ke(16,1,e,t,n)}function Re(e){"function"==typeof Atomics.pb&&(Atomics.pb(i(),e>>2,e).value.then(De),e+=128,Atomics.store(i(),e>>2,1))}function De(){var e=lt();e&&(Re(e),function(e){if(!B)try{if(vt(),!K())try{w?gt(M):le(M)}catch(e){fe(e)}}catch(e){fe(e)}}())}function Ue(e){return a()[e>>>2]+4294967296*i()[e+4>>>2]}function Be(e){return 0==e%4&&(0!=e%100||0==e%400)}s.invokeEntryPoint=function(e,t){var n=me[e];n||(e>=me.length&&(me.length=e+1),me[e]=n=z.get(e)),e=n(t),K()?pe.Ta(e):gt(e)},s.__emscripten_thread_mailbox_await=Re,s.checkMailbox=De;var Ge,We=[0,31,60,91,121,152,182,213,244,274,305,335],ze=[0,31,59,90,120,151,181,212,243,273,304,334];function Fe(e){return(Be(e.getFullYear())?We:ze)[e.getMonth()]+e.getDate()-1}function Le(e,t,n,r,i,a,o){return w?Ke(17,1,e,t,n,r,i,a,o):-52}function He(e,t,n,r,i,a){if(w)return Ke(18,1,e,t,n,r,i,a)}function Ne(e){var t=be(e)+1,n=ft(t);return n&&$e(e,n,t),n}function Ke(e,t){var n=arguments.length-2,r=arguments;return function(e){var t=wt();return e=e(),_t(t),e}((()=>{for(var i=bt(8*n),a=i>>3,s=0;s<n;s++){var u=r[2+s];o()[a+s>>>0]=u}return dt(e,n,i,t)}))}Ge=y?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:()=>performance.timeOrigin+performance.now();var Ve,Ye=[],qe={};function Je(){if(!Ve){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:h||"./this.program"};for(e in qe)void 0===qe[e]?delete t[e]:t[e]=qe[e];var n=[];for(e in t)n.push(e+"="+t[e]);Ve=n}return Ve}function Xe(e,n){if(w)return Ke(19,1,e,n);var r=0;return Je().forEach((function(i,o){var s=n+r;for(o=a()[e+4*o>>2>>>0]=s,s=0;s<i.length;++s)t()[o++>>0>>>0]=i.charCodeAt(s);t()[o>>0>>>0]=0,r+=i.length+1})),0}function Ze(e,t){if(w)return Ke(20,1,e,t);var n=Je();a()[e>>2>>>0]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),a()[t>>2>>>0]=r,0}function Qe(e){return w?Ke(21,1,e):52}function et(e,t,n,r){return w?Ke(22,1,e,t,n,r):52}function tt(e,t,n,r,i){return w?Ke(23,1,e,t,n,r,i):70}var nt=[null,[],[]];function rt(e,t,n,i){if(w)return Ke(24,1,e,t,n,i);for(var o=0,s=0;s<n;s++){var u=a()[t>>2>>>0],c=a()[t+4>>2>>>0];t+=8;for(var l=0;l<c;l++){var f=r()[u+l>>>0],p=nt[e];0===f||10===f?((1===e?C:T)(se(p,0)),p.length=0):p.push(f)}o+=c}return a()[i>>2>>>0]=o,0}function it(e){return(it=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues)return e=>(e.set(crypto.getRandomValues(new Uint8Array(e.byteLength))),e);if(y)try{var e=n(760);if(e.randomFillSync)return t=>e.randomFillSync(t);var t=e.randomBytes;return e=>(e.set(t(e.byteLength)),e)}catch(e){}Z("initRandomDevice")}())(e)}var at=[31,29,31,30,31,30,31,31,30,31,30,31],ot=[31,28,31,30,31,30,31,31,30,31,30,31];function st(e,n,r,a){function o(e,t,n){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=n[0]+e;return e}function s(e,t){return o(e,t,"0")}function u(e,t){function n(e){return 0>e?-1:0<e?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function c(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function l(e){var t=e.La;for(e=new Date(new Date(e.Ma+1900,0,1).getTime());0<t;){var n=e.getMonth(),r=(Be(e.getFullYear())?at:ot)[n];if(!(t>r-e.getDate())){e.setDate(e.getDate()+t);break}t-=r-e.getDate()+1,e.setDate(1),11>n?e.setMonth(n+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return n=new Date(e.getFullYear()+1,0,4),t=c(new Date(e.getFullYear(),0,4)),n=c(n),0>=u(t,e)?0>=u(n,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var f=i()[a+40>>2>>>0];for(var p in a={mb:i()[a>>2>>>0],lb:i()[a+4>>2>>>0],Oa:i()[a+8>>2>>>0],Sa:i()[a+12>>2>>>0],Pa:i()[a+16>>2>>>0],Ma:i()[a+20>>2>>>0],Ia:i()[a+24>>2>>>0],La:i()[a+28>>2>>>0],ub:i()[a+32>>2>>>0],kb:i()[a+36>>2>>>0],nb:f?ue(f):""},r=ue(r),f={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(p,"g"),f[p]);var d="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),h="January February March April May June July August September October November December".split(" ");for(p in f={"%a":function(e){return d[e.Ia].substring(0,3)},"%A":function(e){return d[e.Ia]},"%b":function(e){return h[e.Pa].substring(0,3)},"%B":function(e){return h[e.Pa]},"%C":function(e){return s((e.Ma+1900)/100|0,2)},"%d":function(e){return s(e.Sa,2)},"%e":function(e){return o(e.Sa,2," ")},"%g":function(e){return l(e).toString().substring(2)},"%G":function(e){return l(e)},"%H":function(e){return s(e.Oa,2)},"%I":function(e){return 0==(e=e.Oa)?e=12:12<e&&(e-=12),s(e,2)},"%j":function(e){for(var t=0,n=0;n<=e.Pa-1;t+=(Be(e.Ma+1900)?at:ot)[n++]);return s(e.Sa+t,3)},"%m":function(e){return s(e.Pa+1,2)},"%M":function(e){return s(e.lb,2)},"%n":function(){return"\n"},"%p":function(e){return 0<=e.Oa&&12>e.Oa?"AM":"PM"},"%S":function(e){return s(e.mb,2)},"%t":function(){return"\t"},"%u":function(e){return e.Ia||7},"%U":function(e){return s(Math.floor((e.La+7-e.Ia)/7),2)},"%V":function(e){var t=Math.floor((e.La+7-(e.Ia+6)%7)/7);if(2>=(e.Ia+371-e.La-2)%7&&t++,t)53==t&&(4==(n=(e.Ia+371-e.La)%7)||3==n&&Be(e.Ma)||(t=1));else{t=52;var n=(e.Ia+7-e.La-1)%7;(4==n||5==n&&Be(e.Ma%400-1))&&t++}return s(t,2)},"%w":function(e){return e.Ia},"%W":function(e){return s(Math.floor((e.La+7-(e.Ia+6)%7)/7),2)},"%y":function(e){return(e.Ma+1900).toString().substring(2)},"%Y":function(e){return e.Ma+1900},"%z":function(e){var t=0<=(e=e.kb);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":function(e){return e.nb},"%%":function(){return"%"}},r=r.replace(/%%/g,"\0\0"),f)r.includes(p)&&(r=r.replace(new RegExp(p,"g"),f[p](a)));return p=function(e){var t=Array(be(e)+1);return ke(e,t,0,t.length),t}(r=r.replace(/\0\0/g,"%")),p.length>n?0:(function(e,n){t().set(e,n>>>0)}(p,e),p.length-1)}pe.Ra();var ut=[null,ce,he,ve,we,_e,Se,Oe,Ae,Ce,Te,Pe,je,Ee,Me,xe,Ie,Le,He,Xe,Ze,Qe,et,tt,rt],ct={b:function(e,t,n){throw new ge(e).Ra(t,n),e},p:function(){Z("To use dlopen, you need enable dynamic linking, see https://emscripten.org/docs/compiling/Dynamic-Linking.html")},N:function(e){pt(e,!v,1,!g),pe.Ua()},k:function(e){w?postMessage({cmd:"cleanupThread",thread:e}):ie(e)},C:ye,h:we,U:_e,y:Se,B:Oe,V:Ae,R:Ce,J:Te,Q:Pe,o:je,A:Ee,w:Me,T:xe,x:Ie,D:function(){return 131072},Y:function(){return!0},u:function(e,t){e==t?setTimeout((()=>De())):w?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=pe.Ha[e])&&e.postMessage({cmd:"checkMailbox"})},L:function(){return-1},M:Re,X:function(e){y&&pe.Ha[e].ref()},G:function(e,t){e=new Date(1e3*Ue(e)),i()[t>>2>>>0]=e.getUTCSeconds(),i()[t+4>>2>>>0]=e.getUTCMinutes(),i()[t+8>>2>>>0]=e.getUTCHours(),i()[t+12>>2>>>0]=e.getUTCDate(),i()[t+16>>2>>>0]=e.getUTCMonth(),i()[t+20>>2>>>0]=e.getUTCFullYear()-1900,i()[t+24>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,i()[t+28>>2>>>0]=e},H:function(e,t){e=new Date(1e3*Ue(e)),i()[t>>2>>>0]=e.getSeconds(),i()[t+4>>2>>>0]=e.getMinutes(),i()[t+8>>2>>>0]=e.getHours(),i()[t+12>>2>>>0]=e.getDate(),i()[t+16>>2>>>0]=e.getMonth(),i()[t+20>>2>>>0]=e.getFullYear()-1900,i()[t+24>>2>>>0]=e.getDay();var n=0|Fe(e);i()[t+28>>2>>>0]=n,i()[t+36>>2>>>0]=-60*e.getTimezoneOffset(),n=new Date(e.getFullYear(),6,1).getTimezoneOffset();var r=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=0|(n!=r&&e.getTimezoneOffset()==Math.min(r,n)),i()[t+32>>2>>>0]=e},I:function(e){var t=new Date(i()[e+20>>2>>>0]+1900,i()[e+16>>2>>>0],i()[e+12>>2>>>0],i()[e+8>>2>>>0],i()[e+4>>2>>>0],i()[e>>2>>>0],0),n=i()[e+32>>2>>>0],r=t.getTimezoneOffset(),a=new Date(t.getFullYear(),6,1).getTimezoneOffset(),o=new Date(t.getFullYear(),0,1).getTimezoneOffset(),s=Math.min(o,a);return 0>n?i()[e+32>>2>>>0]=Number(a!=o&&s==r):0<n!=(s==r)&&(a=Math.max(o,a),t.setTime(t.getTime()+6e4*((0<n?s:a)-r))),i()[e+24>>2>>>0]=t.getDay(),n=0|Fe(t),i()[e+28>>2>>>0]=n,i()[e>>2>>>0]=t.getSeconds(),i()[e+4>>2>>>0]=t.getMinutes(),i()[e+8>>2>>>0]=t.getHours(),i()[e+12>>2>>>0]=t.getDate(),i()[e+16>>2>>>0]=t.getMonth(),i()[e+20>>2>>>0]=t.getYear(),t.getTime()/1e3|0},E:Le,F:He,t:function(e,t,n){function r(e){return(e=e.toTimeString().match(/\(([A-Za-z ]+)\)$/))?e[1]:"GMT"}var o=(new Date).getFullYear(),s=new Date(o,0,1),u=new Date(o,6,1);o=s.getTimezoneOffset();var c=u.getTimezoneOffset(),l=Math.max(o,c);a()[e>>2>>>0]=60*l,i()[t>>2>>>0]=Number(o!=c),e=r(s),t=r(u),e=Ne(e),t=Ne(t),c<o?(a()[n>>2>>>0]=e,a()[n+4>>2>>>0]=t):(a()[n>>2>>>0]=t,a()[n+4>>2>>>0]=e)},c:function(){Z("")},S:function(){Z("To use dlopen, you need enable dynamic linking, see https://emscripten.org/docs/compiling/Dynamic-Linking.html")},l:function(){},i:function(){return Date.now()},W:function(){throw N+=1,"unwind"},v:function(){return 4294901760},e:Ge,f:function(){return y?n(3993).cpus().length:navigator.hardwareConcurrency},K:function(e,t,n){Ye.length=t,n>>=3;for(var r=0;r<t;r++)Ye[r]=o()[n+r>>>0];return ut[e].apply(null,Ye)},s:function(e){var t=r().length;if((e>>>=0)<=t||4294901760<e)return!1;for(var n=1;4>=n;n*=2){var i=t*(1+.2/n);i=Math.min(i,e+100663296);var a=Math,o=a.min;i=Math.max(e,i),i+=(65536-i%65536)%65536;e:{var s=j.buffer;try{j.grow(o.call(a,4294901760,i)-s.byteLength+65535>>>16),G();var u=1;break e}catch(e){}u=void 0}if(u)return!0}return!1},O:Xe,P:Ze,j:le,g:Qe,n:et,q:tt,m:rt,r:function(e,t){return it(r().subarray(e>>>0,e+t>>>0)),0},a:j||s.wasmMemory,z:st,d:function(e,t,n,r){return st(e,t,n,r)}};!function(){function e(e,t){return e=e.exports,s.asm=e,pe.Va.push(s.asm.va),z=s.asm.wa,L.unshift(s.asm.Z),E=t,pe.eb((()=>{if(q--,s.monitorRunDependencies&&s.monitorRunDependencies(q),0==q&&(null!==J&&(clearInterval(J),J=null),X)){var e=X;X=null,e()}})),e}var t={a:ct};if(q++,s.monitorRunDependencies&&s.monitorRunDependencies(q),s.instantiateWasm)try{return s.instantiateWasm(t,e)}catch(e){T("Module.instantiateWasm callback failed with error: "+e),c(e)}(function(e,t){var n=Y;return A||"function"!=typeof WebAssembly.instantiateStreaming||Q(n)||n.startsWith("file://")||y||"function"!=typeof fetch?te(n,e,t):fetch(n,{credentials:"same-origin"}).then((r=>WebAssembly.instantiateStreaming(r,e).then(t,(function(r){return T("wasm streaming compile failed: "+r),T("falling back to ArrayBuffer instantiation"),te(n,e,t)}))))})(t,(function(t){e(t.instance,t.module)})).catch(c)}(),s._OrtInit=function(){return(s._OrtInit=s.asm._).apply(null,arguments)},s._OrtCreateSessionOptions=function(){return(s._OrtCreateSessionOptions=s.asm.$).apply(null,arguments)},s._OrtAppendExecutionProvider=function(){return(s._OrtAppendExecutionProvider=s.asm.aa).apply(null,arguments)},s._OrtAddSessionConfigEntry=function(){return(s._OrtAddSessionConfigEntry=s.asm.ba).apply(null,arguments)},s._OrtReleaseSessionOptions=function(){return(s._OrtReleaseSessionOptions=s.asm.ca).apply(null,arguments)},s._OrtCreateSession=function(){return(s._OrtCreateSession=s.asm.da).apply(null,arguments)},s._OrtReleaseSession=function(){return(s._OrtReleaseSession=s.asm.ea).apply(null,arguments)},s._OrtGetInputCount=function(){return(s._OrtGetInputCount=s.asm.fa).apply(null,arguments)},s._OrtGetOutputCount=function(){return(s._OrtGetOutputCount=s.asm.ga).apply(null,arguments)},s._OrtGetInputName=function(){return(s._OrtGetInputName=s.asm.ha).apply(null,arguments)},s._OrtGetOutputName=function(){return(s._OrtGetOutputName=s.asm.ia).apply(null,arguments)},s._OrtFree=function(){return(s._OrtFree=s.asm.ja).apply(null,arguments)},s._OrtCreateTensor=function(){return(s._OrtCreateTensor=s.asm.ka).apply(null,arguments)},s._OrtGetTensorData=function(){return(s._OrtGetTensorData=s.asm.la).apply(null,arguments)},s._OrtReleaseTensor=function(){return(s._OrtReleaseTensor=s.asm.ma).apply(null,arguments)},s._OrtCreateRunOptions=function(){return(s._OrtCreateRunOptions=s.asm.na).apply(null,arguments)},s._OrtAddRunConfigEntry=function(){return(s._OrtAddRunConfigEntry=s.asm.oa).apply(null,arguments)},s._OrtReleaseRunOptions=function(){return(s._OrtReleaseRunOptions=s.asm.pa).apply(null,arguments)},s._OrtRun=function(){return(s._OrtRun=s.asm.qa).apply(null,arguments)},s._OrtEndProfiling=function(){return(s._OrtEndProfiling=s.asm.ra).apply(null,arguments)};var lt=s._pthread_self=function(){return(lt=s._pthread_self=s.asm.sa).apply(null,arguments)},ft=s._malloc=function(){return(ft=s._malloc=s.asm.ta).apply(null,arguments)};s._free=function(){return(s._free=s.asm.ua).apply(null,arguments)},s.__emscripten_tls_init=function(){return(s.__emscripten_tls_init=s.asm.va).apply(null,arguments)};var pt=s.__emscripten_thread_init=function(){return(pt=s.__emscripten_thread_init=s.asm.xa).apply(null,arguments)};function dt(){return(dt=s.asm.za).apply(null,arguments)}function ht(){return(ht=s.asm.Aa).apply(null,arguments)}s.__emscripten_thread_crashed=function(){return(s.__emscripten_thread_crashed=s.asm.ya).apply(null,arguments)};var mt,gt=s.__emscripten_thread_exit=function(){return(gt=s.__emscripten_thread_exit=s.asm.Ba).apply(null,arguments)},vt=s.__emscripten_check_mailbox=function(){return(vt=s.__emscripten_check_mailbox=s.asm.Ca).apply(null,arguments)};function yt(){return(yt=s.asm.Da).apply(null,arguments)}function wt(){return(wt=s.asm.Ea).apply(null,arguments)}function _t(){return(_t=s.asm.Fa).apply(null,arguments)}function bt(){return(bt=s.asm.Ga).apply(null,arguments)}function kt(){function e(){if(!mt&&(mt=!0,s.calledRun=!0,!B)&&(w||de(L),u(s),s.onRuntimeInitialized&&s.onRuntimeInitialized(),!w)){if(s.postRun)for("function"==typeof s.postRun&&(s.postRun=[s.postRun]);s.postRun.length;){var e=s.postRun.shift();H.unshift(e)}de(H)}}if(!(0<q))if(w)u(s),w||de(L),startWorker(s);else{if(s.preRun)for("function"==typeof s.preRun&&(s.preRun=[s.preRun]);s.preRun.length;)V();de(F),0<q||(s.setStatus?(s.setStatus("Running..."),setTimeout((function(){setTimeout((function(){s.setStatus("")}),1),e()}),1)):e())}}if(s.keepRuntimeAlive=K,s.wasmMemory=j,s.stackAlloc=bt,s.stackSave=wt,s.stackRestore=_t,s.UTF8ToString=ue,s.stringToUTF8=$e,s.lengthBytesUTF8=be,s.ExitStatus=ne,s.PThread=pe,X=function e(){mt||kt(),mt||(X=e)},s.preInit)for("function"==typeof s.preInit&&(s.preInit=[s.preInit]);0<s.preInit.length;)s.preInit.pop()();return kt(),e.ready});e.exports=r},932:(e,t,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e={}){var t,r,i=void 0!==e?e:{};i.ready=new Promise(((e,n)=>{t=e,r=n}));var a,o,s,u=Object.assign({},i),c="./this.program",l="object"==typeof window,f="function"==typeof importScripts,p="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,d="";if(p){var h=n(1384),m=n(908);d=f?m.dirname(d)+"/":"//",a=(e,t)=>(e=H(e)?new URL(e):m.normalize(e),h.readFileSync(e,t?void 0:"utf8")),s=e=>{var t=a(e,!0);return t.buffer||(t=new Uint8Array(t)),t},o=(e,t,n,r=!0)=>{e=H(e)?new URL(e):m.normalize(e),h.readFile(e,r?void 0:"utf8",((e,i)=>{e?n(e):t(r?i.buffer:i)}))},!i.thisProgram&&process.argv.length>1&&(c=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),i.inspect=()=>"[Emscripten Module object]"}else(l||f)&&(f?d=self.location.href:"undefined"!=typeof document&&document.currentScript&&(d=document.currentScript.src),_scriptDir&&(d=_scriptDir),d=0!==d.indexOf("blob:")?d.substr(0,d.replace(/[?#].*/,"").lastIndexOf("/")+1):"",a=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},f&&(s=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),o=(e,t,n)=>{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)});var g,v,y=i.print||console.log.bind(console),w=i.printErr||console.warn.bind(console);Object.assign(i,u),u=null,i.arguments&&i.arguments,i.thisProgram&&(c=i.thisProgram),i.quit&&i.quit,i.wasmBinary&&(g=i.wasmBinary),i.noExitRuntime,"object"!=typeof WebAssembly&&G("no native wasm support detected");var _,b,k,$,S,O,A,C,T,P,j,E=!1;function M(){var e=v.buffer;i.HEAP8=_=new Int8Array(e),i.HEAP16=k=new Int16Array(e),i.HEAP32=S=new Int32Array(e),i.HEAPU8=b=new Uint8Array(e),i.HEAPU16=$=new Uint16Array(e),i.HEAPU32=O=new Uint32Array(e),i.HEAPF32=A=new Float32Array(e),i.HEAPF64=P=new Float64Array(e),i.HEAP64=C=new BigInt64Array(e),i.HEAPU64=T=new BigUint64Array(e)}var x=[],I=[],R=[],D=0,U=null,B=null;function G(e){i.onAbort&&i.onAbort(e),w(e="Aborted("+e+")"),E=!0,e+=". Build with -sASSERTIONS for more info.";var t=new WebAssembly.RuntimeError(e);throw r(t),t}var W,z,F="data:application/octet-stream;base64,";function L(e){return e.startsWith(F)}function H(e){return e.startsWith("file://")}function N(e){try{if(e==W&&g)return new Uint8Array(g);if(s)return s(e);throw"both async and sync fetching of the wasm failed"}catch(e){G(e)}}function K(e,t,n){return function(e){if(!g&&(l||f)){if("function"==typeof fetch&&!H(e))return fetch(e,{credentials:"same-origin"}).then((t=>{if(!t.ok)throw"failed to load wasm binary file at '"+e+"'";return t.arrayBuffer()})).catch((()=>N(e)));if(o)return new Promise(((t,n)=>{o(e,(e=>t(new Uint8Array(e))),n)}))}return Promise.resolve().then((()=>N(e)))}(e).then((e=>WebAssembly.instantiate(e,t))).then((e=>e)).then(n,(e=>{w("failed to asynchronously prepare wasm: "+e),G(e)}))}function V(e){for(;e.length>0;)e.shift()(i)}L(W="ort-wasm-simd.wasm")||(z=W,W=i.locateFile?i.locateFile(z,d):d+z);var Y=[],q=0,J=0;function X(e){this.excPtr=e,this.ptr=e-24,this.set_type=function(e){O[this.ptr+4>>>2]=e},this.get_type=function(){return O[this.ptr+4>>>2]},this.set_destructor=function(e){O[this.ptr+8>>>2]=e},this.get_destructor=function(){return O[this.ptr+8>>>2]},this.set_caught=function(e){e=e?1:0,_[this.ptr+12>>>0]=e},this.get_caught=function(){return 0!=_[this.ptr+12>>>0]},this.set_rethrown=function(e){e=e?1:0,_[this.ptr+13>>>0]=e},this.get_rethrown=function(){return 0!=_[this.ptr+13>>>0]},this.init=function(e,t){this.set_adjusted_ptr(0),this.set_type(e),this.set_destructor(t)},this.set_adjusted_ptr=function(e){O[this.ptr+16>>>2]=e},this.get_adjusted_ptr=function(){return O[this.ptr+16>>>2]},this.get_exception_ptr=function(){if(kt(this.get_type()))return O[this.excPtr>>>2];var e=this.get_adjusted_ptr();return 0!==e?e:this.excPtr}}function Z(){var e=J;if(!e)return mt(0),0;var t=new X(e);t.set_adjusted_ptr(e);var n=t.get_type();if(!n)return mt(0),e;for(var r=0;r<arguments.length;r++){var i=arguments[r];if(0===i||i===n)break;var a=t.ptr+16;if(bt(i,n,a))return mt(i),e}return mt(n),e}var Q=Z,ee=Z,te=Z,ne=Z,re="To use dlopen, you need enable dynamic linking, see https://emscripten.org/docs/compiling/Dynamic-Linking.html",ie="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function ae(e,t,n){for(var r=(t>>>=0)+n,i=t;e[i]&&!(i>=r);)++i;if(i-t>16&&e.buffer&&ie)return ie.decode(e.subarray(t,i));for(var a="";t<i;){var o=e[t++];if(128&o){var s=63&e[t++];if(192!=(224&o)){var u=63&e[t++];if((o=224==(240&o)?(15&o)<<12|s<<6|u:(7&o)<<18|s<<12|u<<6|63&e[t++])<65536)a+=String.fromCharCode(o);else{var c=o-65536;a+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else a+=String.fromCharCode((31&o)<<6|s)}else a+=String.fromCharCode(o)}return a}function oe(e,t){return(e>>>=0)?ae(b,e,t):""}var se={varargs:void 0,get:function(){return se.varargs+=4,S[se.varargs-4>>>2]},getStr:function(e){return oe(e)}};function ue(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r<=127?t++:r<=2047?t+=2:r>=55296&&r<=57343?(t+=4,++n):t+=3}return t}function ce(e,t,n,r){if(!(r>0))return 0;for(var i=n>>>=0,a=n+r-1,o=0;o<e.length;++o){var s=e.charCodeAt(o);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++o)),s<=127){if(n>=a)break;t[n++>>>0]=s}else if(s<=2047){if(n+1>=a)break;t[n++>>>0]=192|s>>6,t[n++>>>0]=128|63&s}else if(s<=65535){if(n+2>=a)break;t[n++>>>0]=224|s>>12,t[n++>>>0]=128|s>>6&63,t[n++>>>0]=128|63&s}else{if(n+3>=a)break;t[n++>>>0]=240|s>>18,t[n++>>>0]=128|s>>12&63,t[n++>>>0]=128|s>>6&63,t[n++>>>0]=128|63&s}}return t[n>>>0]=0,n-i}function le(e,t,n){return ce(e,b,t,n)}function fe(e){if(null===e)return"null";var t=typeof e;return"object"===t||"array"===t||"function"===t?e.toString():""+e}var pe=void 0;function de(e){for(var t="",n=e;b[n>>>0];)t+=pe[b[n++>>>0]];return t}var he={},me={},ge={},ve=48,ye=57;function we(e){if(void 0===e)return"_unknown";var t=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return t>=ve&&t<=ye?"_"+e:e}function _e(e,t){return{[e=we(e)]:function(){return t.apply(this,arguments)}}[e]}function be(e,t){var n=_e(t,(function(e){this.name=t,this.message=e;var n=new Error(e).stack;void 0!==n&&(this.stack=this.toString()+"\n"+n.replace(/^Error(:[^\n]*)?\n/,""))}));return n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},n}var ke=void 0;function $e(e){throw new ke(e)}function Se(e,t,n={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");var r=t.name;if(e||$e('type "'+r+'" must have a positive integer typeid pointer'),me.hasOwnProperty(e)){if(n.ignoreDuplicateRegistrations)return;$e("Cannot register type '"+r+"' twice")}if(me[e]=t,delete ge[e],he.hasOwnProperty(e)){var i=he[e];delete he[e],i.forEach((e=>e()))}}function Oe(e,t,n){switch(t){case 0:return n?function(e){return _[e>>>0]}:function(e){return b[e>>>0]};case 1:return n?function(e){return k[e>>>1]}:function(e){return $[e>>>1]};case 2:return n?function(e){return S[e>>>2]}:function(e){return O[e>>>2]};case 3:return n?function(e){return C[e>>3]}:function(e){return T[e>>3]};default:throw new TypeError("Unknown integer type: "+e)}}function Ae(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+e)}}var Ce=new function(){this.allocated=[void 0],this.freelist=[],this.get=function(e){return this.allocated[e]},this.allocate=function(e){let t=this.freelist.pop()||this.allocated.length;return this.allocated[t]=e,t},this.free=function(e){this.allocated[e]=void 0,this.freelist.push(e)}};function Te(e){e>=Ce.reserved&&0==--Ce.get(e).refcount&&Ce.free(e)}var Pe=e=>(e||$e("Cannot use deleted val. handle = "+e),Ce.get(e).value),je=e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return Ce.allocate({refcount:1,value:e})}};function Ee(e){return this.fromWireType(S[e>>>2])}function Me(e,t){switch(t){case 2:return function(e){return this.fromWireType(A[e>>>2])};case 3:return function(e){return this.fromWireType(P[e>>>3])};default:throw new TypeError("Unknown float type: "+e)}}var xe="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0;function Ie(e,t){for(var n=e,r=n>>1,i=r+t/2;!(r>=i)&&$[r>>>0];)++r;if((n=r<<1)-e>32&&xe)return xe.decode(b.subarray(e>>>0,n>>>0));for(var a="",o=0;!(o>=t/2);++o){var s=k[e+2*o>>>1];if(0==s)break;a+=String.fromCharCode(s)}return a}function Re(e,t,n){if(void 0===n&&(n=2147483647),n<2)return 0;for(var r=t,i=(n-=2)<2*e.length?n/2:e.length,a=0;a<i;++a){var o=e.charCodeAt(a);k[t>>>1]=o,t+=2}return k[t>>>1]=0,t-r}function De(e){return 2*e.length}function Ue(e,t){for(var n=0,r="";!(n>=t/4);){var i=S[e+4*n>>>2];if(0==i)break;if(++n,i>=65536){var a=i-65536;r+=String.fromCharCode(55296|a>>10,56320|1023&a)}else r+=String.fromCharCode(i)}return r}function Be(e,t,n){if(void 0===n&&(n=2147483647),n<4)return 0;for(var r=t>>>=0,i=r+n-4,a=0;a<e.length;++a){var o=e.charCodeAt(a);if(o>=55296&&o<=57343&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++a)),S[t>>>2]=o,(t+=4)+4>i)break}return S[t>>>2]=0,t-r}function Ge(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r>=55296&&r<=57343&&++n,t+=4}return t}function We(e,t){var n,r,i=me[e];return void 0===i&&$e(t+" has unknown type "+(r=de(n=dt(e)),pt(n),r)),i}var ze={};function Fe(e){var t=ze[e];return void 0===t?de(e):t}var Le=[];function He(){return"object"==typeof globalThis?globalThis:Function("return this")()}var Ne=[],Ke={};function Ve(e){return O[e>>>2]+4294967296*S[e+4>>>2]}function Ye(e){return e%4==0&&(e%100!=0||e%400==0)}var qe,Je=[0,31,60,91,121,152,182,213,244,274,305,335],Xe=[0,31,59,90,120,151,181,212,243,273,304,334];function Ze(e){return(Ye(e.getFullYear())?Je:Xe)[e.getMonth()]+e.getDate()-1}function Qe(e){var t=ue(e)+1,n=ft(t);return n&&le(e,n,t),n}function et(e){var t=v.buffer;try{return v.grow(e-t.byteLength+65535>>>16),M(),1}catch(e){}}qe=p?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:()=>performance.now();var tt={};function nt(){if(!nt.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:c||"./this.program"};for(var t in tt)void 0===tt[t]?delete e[t]:e[t]=tt[t];var n=[];for(var t in e)n.push(t+"="+e[t]);nt.strings=n}return nt.strings}var rt=[null,[],[]];var it=[31,29,31,30,31,30,31,31,30,31,30,31],at=[31,28,31,30,31,30,31,31,30,31,30,31];function ot(e,t,n,r){var i=S[r+40>>>2],a={tm_sec:S[r>>>2],tm_min:S[r+4>>>2],tm_hour:S[r+8>>>2],tm_mday:S[r+12>>>2],tm_mon:S[r+16>>>2],tm_year:S[r+20>>>2],tm_wday:S[r+24>>>2],tm_yday:S[r+28>>>2],tm_isdst:S[r+32>>>2],tm_gmtoff:S[r+36>>>2],tm_zone:i?oe(i):""},o=oe(n),s={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var u in s)o=o.replace(new RegExp(u,"g"),s[u]);var c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],l=["January","February","March","April","May","June","July","August","September","October","November","December"];function f(e,t,n){for(var r="number"==typeof e?e.toString():e||"";r.length<t;)r=n[0]+r;return r}function p(e,t){return f(e,t,"0")}function d(e,t){function n(e){return e<0?-1:e>0?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function h(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function m(e){var t=function(e,t){for(var n=new Date(e.getTime());t>0;){var r=Ye(n.getFullYear()),i=n.getMonth(),a=(r?it:at)[i];if(!(t>a-n.getDate()))return n.setDate(n.getDate()+t),n;t-=a-n.getDate()+1,n.setDate(1),i<11?n.setMonth(i+1):(n.setMonth(0),n.setFullYear(n.getFullYear()+1))}return n}(new Date(e.tm_year+1900,0,1),e.tm_yday),n=new Date(t.getFullYear(),0,4),r=new Date(t.getFullYear()+1,0,4),i=h(n),a=h(r);return d(i,t)<=0?d(a,t)<=0?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var g={"%a":function(e){return c[e.tm_wday].substring(0,3)},"%A":function(e){return c[e.tm_wday]},"%b":function(e){return l[e.tm_mon].substring(0,3)},"%B":function(e){return l[e.tm_mon]},"%C":function(e){return p((e.tm_year+1900)/100|0,2)},"%d":function(e){return p(e.tm_mday,2)},"%e":function(e){return f(e.tm_mday,2," ")},"%g":function(e){return m(e).toString().substring(2)},"%G":function(e){return m(e)},"%H":function(e){return p(e.tm_hour,2)},"%I":function(e){var t=e.tm_hour;return 0==t?t=12:t>12&&(t-=12),p(t,2)},"%j":function(e){return p(e.tm_mday+function(e,t){for(var n=0,r=0;r<=t;n+=e[r++]);return n}(Ye(e.tm_year+1900)?it:at,e.tm_mon-1),3)},"%m":function(e){return p(e.tm_mon+1,2)},"%M":function(e){return p(e.tm_min,2)},"%n":function(){return"\n"},"%p":function(e){return e.tm_hour>=0&&e.tm_hour<12?"AM":"PM"},"%S":function(e){return p(e.tm_sec,2)},"%t":function(){return"\t"},"%u":function(e){return e.tm_wday||7},"%U":function(e){var t=e.tm_yday+7-e.tm_wday;return p(Math.floor(t/7),2)},"%V":function(e){var t=Math.floor((e.tm_yday+7-(e.tm_wday+6)%7)/7);if((e.tm_wday+371-e.tm_yday-2)%7<=2&&t++,t){if(53==t){var n=(e.tm_wday+371-e.tm_yday)%7;4==n||3==n&&Ye(e.tm_year)||(t=1)}}else{t=52;var r=(e.tm_wday+7-e.tm_yday-1)%7;(4==r||5==r&&Ye(e.tm_year%400-1))&&t++}return p(t,2)},"%w":function(e){return e.tm_wday},"%W":function(e){var t=e.tm_yday+7-(e.tm_wday+6)%7;return p(Math.floor(t/7),2)},"%y":function(e){return(e.tm_year+1900).toString().substring(2)},"%Y":function(e){return e.tm_year+1900},"%z":function(e){var t=e.tm_gmtoff,n=t>=0;return t=(t=Math.abs(t)/60)/60*100+t%60,(n?"+":"-")+String("0000"+t).slice(-4)},"%Z":function(e){return e.tm_zone},"%%":function(){return"%"}};for(var u in o=o.replace(/%%/g,"\0\0"),g)o.includes(u)&&(o=o.replace(new RegExp(u,"g"),g[u](a)));var v,y,w,b,k,$=(!1,y=ue(v=o=o.replace(/\0\0/g,"%"))+1,ce(v,w=new Array(y),0,w.length),w);return $.length>t?0:(b=$,k=e,_.set(b,k>>>0),$.length-1)}var st=[];function ut(e){var t=st[e];return t||(e>=st.length&&(st.length=e+1),st[e]=t=j.get(e)),t}!function(){for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);pe=e}(),ke=i.BindingError=be(Error,"BindingError"),i.InternalError=be(Error,"InternalError"),Ce.allocated.push({value:void 0},{value:null},{value:!0},{value:!1}),Ce.reserved=Ce.allocated.length,i.count_emval_handles=function(){for(var e=0,t=Ce.reserved;t<Ce.allocated.length;++t)void 0!==Ce.allocated[t]&&++e;return e};var ct,lt={__cxa_begin_catch:function(e){var t=new X(e);return t.get_caught()||(t.set_caught(!0),q--),t.set_rethrown(!1),Y.push(t),_t(t.excPtr),t.get_exception_ptr()},__cxa_end_catch:function(){ht(0);var e=Y.pop();wt(e.excPtr),J=0},__cxa_find_matching_catch_2:Q,__cxa_find_matching_catch_3:ee,__cxa_find_matching_catch_4:te,__cxa_find_matching_catch_5:ne,__cxa_rethrow:function(){var e=Y.pop();e||G("no exception to throw");var t=e.excPtr;throw e.get_rethrown()||(Y.push(e),e.set_rethrown(!0),e.set_caught(!1),q++),J=t},__cxa_throw:function(e,t,n){throw new X(e).init(t,n),q++,J=e},__cxa_uncaught_exceptions:function(){return q},__dlsym:function(e,t){G(re)},__resumeException:function(e){throw J||(J=e),J},__syscall_fcntl64:function(e,t,n){return se.varargs=n,0},__syscall_fstat64:function(e,t){},__syscall_getcwd:function(e,t){},__syscall_getdents64:function(e,t,n){},__syscall_ioctl:function(e,t,n){return se.varargs=n,0},__syscall_lstat64:function(e,t){},__syscall_mkdirat:function(e,t,n){},__syscall_newfstatat:function(e,t,n,r){},__syscall_openat:function(e,t,n,r){se.varargs=r},__syscall_readlinkat:function(e,t,n,r){},__syscall_rmdir:function(e){},__syscall_stat64:function(e,t){},__syscall_unlinkat:function(e,t,n){},_embind_register_bigint:function(e,t,n,r,i){t=de(t);var a=Ae(n),o=-1!=t.indexOf("u");o&&(i=(1n<<64n)-1n),Se(e,{name:t,fromWireType:function(e){return e},toWireType:function(e,n){if("bigint"!=typeof n&&"number"!=typeof n)throw new TypeError('Cannot convert "'+fe(n)+'" to '+this.name);if(n<r||n>i)throw new TypeError('Passing a number "'+fe(n)+'" from JS side to C/C++ side to an argument of type "'+t+'", which is outside the valid range ['+r+", "+i+"]!");return n},argPackAdvance:8,readValueFromPointer:Oe(t,a,!o),destructorFunction:null})},_embind_register_bool:function(e,t,n,r,i){var a=Ae(n);Se(e,{name:t=de(t),fromWireType:function(e){return!!e},toWireType:function(e,t){return t?r:i},argPackAdvance:8,readValueFromPointer:function(e){var r;if(1===n)r=_;else if(2===n)r=k;else{if(4!==n)throw new TypeError("Unknown boolean type size: "+t);r=S}return this.fromWireType(r[e>>>a])},destructorFunction:null})},_embind_register_emval:function(e,t){Se(e,{name:t=de(t),fromWireType:function(e){var t=Pe(e);return Te(e),t},toWireType:function(e,t){return je(t)},argPackAdvance:8,readValueFromPointer:Ee,destructorFunction:null})},_embind_register_float:function(e,t,n){var r=Ae(n);Se(e,{name:t=de(t),fromWireType:function(e){return e},toWireType:function(e,t){return t},argPackAdvance:8,readValueFromPointer:Me(t,r),destructorFunction:null})},_embind_register_integer:function(e,t,n,r,i){t=de(t),-1===i&&(i=4294967295);var a=Ae(n),o=e=>e;if(0===r){var s=32-8*n;o=e=>e<<s>>>s}var u=t.includes("unsigned");Se(e,{name:t,fromWireType:o,toWireType:u?function(e,t){return this.name,t>>>0}:function(e,t){return this.name,t},argPackAdvance:8,readValueFromPointer:Oe(t,a,0!==r),destructorFunction:null})},_embind_register_memory_view:function(e,t,n){var r=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][t];function i(e){var t=O,n=t[(e>>=2)>>>0],i=t[e+1>>>0];return new r(t.buffer,i,n)}Se(e,{name:n=de(n),fromWireType:i,argPackAdvance:8,readValueFromPointer:i},{ignoreDuplicateRegistrations:!0})},_embind_register_std_string:function(e,t){var n="std::string"===(t=de(t));Se(e,{name:t,fromWireType:function(e){var t,r=O[e>>>2],i=e+4;if(n)for(var a=i,o=0;o<=r;++o){var s=i+o;if(o==r||0==b[s>>>0]){var u=oe(a,s-a);void 0===t?t=u:(t+=String.fromCharCode(0),t+=u),a=s+1}}else{var c=new Array(r);for(o=0;o<r;++o)c[o]=String.fromCharCode(b[i+o>>>0]);t=c.join("")}return pt(e),t},toWireType:function(e,t){var r;t instanceof ArrayBuffer&&(t=new Uint8Array(t));var i="string"==typeof t;i||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||$e("Cannot pass non-string to std::string"),r=n&&i?ue(t):t.length;var a=ft(4+r+1),o=a+4;if(o>>>=0,O[a>>>2]=r,n&&i)le(t,o,r+1);else if(i)for(var s=0;s<r;++s){var u=t.charCodeAt(s);u>255&&(pt(o),$e("String has UTF-16 code units that do not fit in 8 bits")),b[o+s>>>0]=u}else for(s=0;s<r;++s)b[o+s>>>0]=t[s];return null!==e&&e.push(pt,a),a},argPackAdvance:8,readValueFromPointer:Ee,destructorFunction:function(e){pt(e)}})},_embind_register_std_wstring:function(e,t,n){var r,i,a,o,s;n=de(n),2===t?(r=Ie,i=Re,o=De,a=()=>$,s=1):4===t&&(r=Ue,i=Be,o=Ge,a=()=>O,s=2),Se(e,{name:n,fromWireType:function(e){for(var n,i=O[e>>>2],o=a(),u=e+4,c=0;c<=i;++c){var l=e+4+c*t;if(c==i||0==o[l>>>s]){var f=r(u,l-u);void 0===n?n=f:(n+=String.fromCharCode(0),n+=f),u=l+t}}return pt(e),n},toWireType:function(e,r){"string"!=typeof r&&$e("Cannot pass non-string to C++ string type "+n);var a=o(r),u=ft(4+a+t);return O[(u>>>=0)>>>2]=a>>s,i(r,u+4,a+t),null!==e&&e.push(pt,u),u},argPackAdvance:8,readValueFromPointer:Ee,destructorFunction:function(e){pt(e)}})},_embind_register_void:function(e,t){Se(e,{isVoid:!0,name:t=de(t),argPackAdvance:0,fromWireType:function(){},toWireType:function(e,t){}})},_emscripten_get_now_is_monotonic:function(){return true},_emval_as:function(e,t,n){e=Pe(e),t=We(t,"emval::as");var r=[],i=je(r);return O[n>>>2]=i,t.toWireType(r,e)},_emval_call_method:function(e,t,n,r,i){return(e=Le[e])(t=Pe(t),n=Fe(n),function(e){var t=[];return O[e>>>2]=je(t),t}(r),i)},_emval_call_void_method:function(e,t,n,r){(e=Le[e])(t=Pe(t),n=Fe(n),null,r)},_emval_decref:Te,_emval_equals:function(e,t){return(e=Pe(e))==Pe(t)},_emval_get_global:function(e){return 0===e?je(He()):(e=Fe(e),je(He()[e]))},_emval_get_method_caller:function(e,t){var n=function(e,t){for(var n=new Array(e),r=0;r<e;++r)n[r]=We(O[t+4*r>>>2],"parameter "+r);return n}(e,t),r=n[0],i=r.name+"_$"+n.slice(1).map((function(e){return e.name})).join("_")+"$",a=Ne[i];if(void 0!==a)return a;for(var o=["retType"],s=[r],u="",c=0;c<e-1;++c)u+=(0!==c?", ":"")+"arg"+c,o.push("argType"+c),s.push(n[1+c]);var l,f,p="return function "+we("methodCaller_"+i)+"(handle, name, destructors, args) {\n",d=0;for(c=0;c<e-1;++c)p+="    var arg"+c+" = argType"+c+".readValueFromPointer(args"+(d?"+"+d:"")+");\n",d+=n[c+1].argPackAdvance;for(p+="    var rv = handle[name]("+u+");\n",c=0;c<e-1;++c)n[c+1].deleteObject&&(p+="    argType"+c+".deleteObject(arg"+c+");\n");return r.isVoid||(p+="    return retType.toWireType(destructors, rv);\n"),p+="};\n",o.push(p),l=function(e,t){if(!(e instanceof Function))throw new TypeError("new_ called with constructor type "+typeof e+" which is not a function");var n=_e(e.name||"unknownFunctionName",(function(){}));n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return i instanceof Object?i:r}(Function,o).apply(null,s),f=Le.length,Le.push(l),a=f,Ne[i]=a,a},_emval_get_property:function(e,t){return e=Pe(e),t=Pe(t),je(e[t])},_emval_incref:function(e){e>4&&(Ce.get(e).refcount+=1)},_emval_new:function(e,t,n,r){e=Pe(e);var a=Ke[t];return a||(a=function(e){for(var t="",n=0;n<e;++n)t+=(0!==n?", ":"")+"arg"+n;var r="return function emval_allocator_"+e+"(constructor, argTypes, args) {\n  var HEAPU32 = getMemory();\n";for(n=0;n<e;++n)r+="var argType"+n+" = requireRegisteredType(HEAPU32[((argTypes)>>2)], 'parameter "+n+"');\nvar arg"+n+" = argType"+n+".readValueFromPointer(args);\nargs += argType"+n+"['argPackAdvance'];\nargTypes += 4;\n";return r+="var obj = new constructor("+t+");\nreturn valueToHandle(obj);\n}\n",new Function("requireRegisteredType","Module","valueToHandle","getMemory",r)(We,i,je,(()=>O))}(t),Ke[t]=a),a(e,n,r)},_emval_new_array:function(){return je([])},_emval_new_array_from_memory_view:function(e){e=Pe(e);for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=e[n];return je(t)},_emval_new_cstring:function(e){return je(Fe(e))},_emval_new_object:function(){return je({})},_emval_run_destructors:function(e){!function(e){for(;e.length;){var t=e.pop();e.pop()(t)}}(Pe(e)),Te(e)},_emval_set_property:function(e,t,n){e=Pe(e),t=Pe(t),n=Pe(n),e[t]=n},_emval_take_value:function(e,t){var n=(e=We(e,"_emval_take_value")).readValueFromPointer(t);return je(n)},_gmtime_js:function(e,t){var n=new Date(1e3*Ve(e));S[t>>>2]=n.getUTCSeconds(),S[t+4>>>2]=n.getUTCMinutes(),S[t+8>>>2]=n.getUTCHours(),S[t+12>>>2]=n.getUTCDate(),S[t+16>>>2]=n.getUTCMonth(),S[t+20>>>2]=n.getUTCFullYear()-1900,S[t+24>>>2]=n.getUTCDay();var r=Date.UTC(n.getUTCFullYear(),0,1,0,0,0,0),i=(n.getTime()-r)/864e5|0;S[t+28>>>2]=i},_localtime_js:function(e,t){var n=new Date(1e3*Ve(e));S[t>>>2]=n.getSeconds(),S[t+4>>>2]=n.getMinutes(),S[t+8>>>2]=n.getHours(),S[t+12>>>2]=n.getDate(),S[t+16>>>2]=n.getMonth(),S[t+20>>>2]=n.getFullYear()-1900,S[t+24>>>2]=n.getDay();var r=0|Ze(n);S[t+28>>>2]=r,S[t+36>>>2]=-60*n.getTimezoneOffset();var i=new Date(n.getFullYear(),0,1),a=new Date(n.getFullYear(),6,1).getTimezoneOffset(),o=i.getTimezoneOffset(),s=0|(a!=o&&n.getTimezoneOffset()==Math.min(o,a));S[t+32>>>2]=s},_mktime_js:function(e){var t=new Date(S[e+20>>>2]+1900,S[e+16>>>2],S[e+12>>>2],S[e+8>>>2],S[e+4>>>2],S[e>>>2],0),n=S[e+32>>>2],r=t.getTimezoneOffset(),i=new Date(t.getFullYear(),0,1),a=new Date(t.getFullYear(),6,1).getTimezoneOffset(),o=i.getTimezoneOffset(),s=Math.min(o,a);if(n<0)S[e+32>>>2]=Number(a!=o&&s==r);else if(n>0!=(s==r)){var u=Math.max(o,a),c=n>0?s:u;t.setTime(t.getTime()+6e4*(c-r))}S[e+24>>>2]=t.getDay();var l=0|Ze(t);return S[e+28>>>2]=l,S[e>>>2]=t.getSeconds(),S[e+4>>>2]=t.getMinutes(),S[e+8>>>2]=t.getHours(),S[e+12>>>2]=t.getDate(),S[e+16>>>2]=t.getMonth(),S[e+20>>>2]=t.getYear(),t.getTime()/1e3|0},_mmap_js:function(e,t,n,r,i,a,o){return-52},_munmap_js:function(e,t,n,r,i,a){},_tzset_js:function(e,t,n){var r=(new Date).getFullYear(),i=new Date(r,0,1),a=new Date(r,6,1),o=i.getTimezoneOffset(),s=a.getTimezoneOffset(),u=Math.max(o,s);function c(e){var t=e.toTimeString().match(/\(([A-Za-z ]+)\)$/);return t?t[1]:"GMT"}O[e>>>2]=60*u,S[t>>>2]=Number(o!=s);var l=c(i),f=c(a),p=Qe(l),d=Qe(f);s<o?(O[n>>>2]=p,O[n+4>>>2]=d):(O[n>>>2]=d,O[n+4>>>2]=p)},abort:function(){G("")},dlopen:function(e){G(re)},emscripten_date_now:function(){return Date.now()},emscripten_get_heap_max:function(){return 4294901760},emscripten_get_now:qe,emscripten_memcpy_big:function(e,t,n){b.copyWithin(e>>>0,t>>>0,t+n>>>0)},emscripten_resize_heap:function(e){var t,n=b.length,r=4294901760;if((e>>>=0)>r)return!1;for(var i=1;i<=4;i*=2){var a=n*(1+.2/i);if(a=Math.min(a,e+100663296),et(Math.min(r,(t=Math.max(e,a))+(65536-t%65536)%65536)))return!0}return!1},environ_get:function(e,t){var n=0;return nt().forEach((function(r,i){var a=t+n;O[e+4*i>>>2]=a,function(e,t){for(var n=0;n<e.length;++n)_[t++>>>0]=e.charCodeAt(n);_[t>>>0]=0}(r,a),n+=r.length+1})),0},environ_sizes_get:function(e,t){var n=nt();O[e>>>2]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),O[t>>>2]=r,0},fd_close:function(e){return 52},fd_read:function(e,t,n,r){return 52},fd_seek:function(e,t,n,r){return 70},fd_write:function(e,t,n,r){for(var i=0,a=0;a<n;a++){var o=O[t>>>2],s=O[t+4>>>2];t+=8;for(var u=0;u<s;u++)c=e,l=b[o+u>>>0],f=void 0,f=rt[c],0===l||10===l?((1===c?y:w)(ae(f,0)),f.length=0):f.push(l);i+=s}var c,l,f;return O[r>>>2]=i,0},invoke_di:function(e,t){var n=gt();try{return ut(e)(t)}catch(e){if(vt(n),e!==e+0)throw e;ht(1,0)}},invoke_dii:function(e,t,n){var r=gt();try{return ut(e)(t,n)}catch(e){if(vt(r),e!==e+0)throw e;ht(1,0)}},invoke_diii:function(e,t,n,r){var i=gt();try{return ut(e)(t,n,r)}catch(e){if(vt(i),e!==e+0)throw e;ht(1,0)}},invoke_diiiii:function(e,t,n,r,i,a){var o=gt();try{return ut(e)(t,n,r,i,a)}catch(e){if(vt(o),e!==e+0)throw e;ht(1,0)}},invoke_fffffff:function(e,t,n,r,i,a,o){var s=gt();try{return ut(e)(t,n,r,i,a,o)}catch(e){if(vt(s),e!==e+0)throw e;ht(1,0)}},invoke_fi:function(e,t){var n=gt();try{return ut(e)(t)}catch(e){if(vt(n),e!==e+0)throw e;ht(1,0)}},invoke_fii:function(e,t,n){var r=gt();try{return ut(e)(t,n)}catch(e){if(vt(r),e!==e+0)throw e;ht(1,0)}},invoke_fiii:function(e,t,n,r){var i=gt();try{return ut(e)(t,n,r)}catch(e){if(vt(i),e!==e+0)throw e;ht(1,0)}},invoke_fiiii:function(e,t,n,r,i){var a=gt();try{return ut(e)(t,n,r,i)}catch(e){if(vt(a),e!==e+0)throw e;ht(1,0)}},invoke_i:function(e){var t=gt();try{return ut(e)()}catch(e){if(vt(t),e!==e+0)throw e;ht(1,0)}},invoke_ii:function(e,t){var n=gt();try{return ut(e)(t)}catch(e){if(vt(n),e!==e+0)throw e;ht(1,0)}},invoke_iid:function(e,t,n){var r=gt();try{return ut(e)(t,n)}catch(e){if(vt(r),e!==e+0)throw e;ht(1,0)}},invoke_iif:function(e,t,n){var r=gt();try{return ut(e)(t,n)}catch(e){if(vt(r),e!==e+0)throw e;ht(1,0)}},invoke_iii:function(e,t,n){var r=gt();try{return ut(e)(t,n)}catch(e){if(vt(r),e!==e+0)throw e;ht(1,0)}},invoke_iiif:function(e,t,n,r){var i=gt();try{return ut(e)(t,n,r)}catch(e){if(vt(i),e!==e+0)throw e;ht(1,0)}},invoke_iiii:function(e,t,n,r){var i=gt();try{return ut(e)(t,n,r)}catch(e){if(vt(i),e!==e+0)throw e;ht(1,0)}},invoke_iiiifi:function(e,t,n,r,i,a){var o=gt();try{return ut(e)(t,n,r,i,a)}catch(e){if(vt(o),e!==e+0)throw e;ht(1,0)}},invoke_iiiii:function(e,t,n,r,i){var a=gt();try{return ut(e)(t,n,r,i)}catch(e){if(vt(a),e!==e+0)throw e;ht(1,0)}},invoke_iiiiid:function(e,t,n,r,i,a){var o=gt();try{return ut(e)(t,n,r,i,a)}catch(e){if(vt(o),e!==e+0)throw e;ht(1,0)}},invoke_iiiiii:function(e,t,n,r,i,a){var o=gt();try{return ut(e)(t,n,r,i,a)}catch(e){if(vt(o),e!==e+0)throw e;ht(1,0)}},invoke_iiiiiii:function(e,t,n,r,i,a,o){var s=gt();try{return ut(e)(t,n,r,i,a,o)}catch(e){if(vt(s),e!==e+0)throw e;ht(1,0)}},invoke_iiiiiiii:function(e,t,n,r,i,a,o,s){var u=gt();try{return ut(e)(t,n,r,i,a,o,s)}catch(e){if(vt(u),e!==e+0)throw e;ht(1,0)}},invoke_iiiiiiiii:function(e,t,n,r,i,a,o,s,u){var c=gt();try{return ut(e)(t,n,r,i,a,o,s,u)}catch(e){if(vt(c),e!==e+0)throw e;ht(1,0)}},invoke_iiiiiiiiii:function(e,t,n,r,i,a,o,s,u,c){var l=gt();try{return ut(e)(t,n,r,i,a,o,s,u,c)}catch(e){if(vt(l),e!==e+0)throw e;ht(1,0)}},invoke_iiiiiiiiiii:function(e,t,n,r,i,a,o,s,u,c,l){var f=gt();try{return ut(e)(t,n,r,i,a,o,s,u,c,l)}catch(e){if(vt(f),e!==e+0)throw e;ht(1,0)}},invoke_iiiiiiiiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f){var p=gt();try{return ut(e)(t,n,r,i,a,o,s,u,c,l,f)}catch(e){if(vt(p),e!==e+0)throw e;ht(1,0)}},invoke_iiiiiiiiiiiiiifi:function(e,t,n,r,i,a,o,s,u,c,l,f,p,d,h,m){var g=gt();try{return ut(e)(t,n,r,i,a,o,s,u,c,l,f,p,d,h,m)}catch(e){if(vt(g),e!==e+0)throw e;ht(1,0)}},invoke_iiiiiiiiiiiiiiiiifii:function(e,t,n,r,i,a,o,s,u,c,l,f,p,d,h,m,g,v,y,w){var _=gt();try{return ut(e)(t,n,r,i,a,o,s,u,c,l,f,p,d,h,m,g,v,y,w)}catch(e){if(vt(_),e!==e+0)throw e;ht(1,0)}},invoke_iiiiiiiiiiiiiiiiiifi:function(e,t,n,r,i,a,o,s,u,c,l,f,p,d,h,m,g,v,y,w){var _=gt();try{return ut(e)(t,n,r,i,a,o,s,u,c,l,f,p,d,h,m,g,v,y,w)}catch(e){if(vt(_),e!==e+0)throw e;ht(1,0)}},invoke_iiiiiiiiijii:function(e,t,n,r,i,a,o,s,u,c,l,f){var p=gt();try{return ut(e)(t,n,r,i,a,o,s,u,c,l,f)}catch(e){if(vt(p),e!==e+0)throw e;ht(1,0)}},invoke_iiiiiiiijjjfi:function(e,t,n,r,i,a,o,s,u,c,l,f,p){var d=gt();try{return ut(e)(t,n,r,i,a,o,s,u,c,l,f,p)}catch(e){if(vt(d),e!==e+0)throw e;ht(1,0)}},invoke_iiiiiijjjii:function(e,t,n,r,i,a,o,s,u,c,l){var f=gt();try{return ut(e)(t,n,r,i,a,o,s,u,c,l)}catch(e){if(vt(f),e!==e+0)throw e;ht(1,0)}},invoke_iiiiij:function(e,t,n,r,i,a){var o=gt();try{return ut(e)(t,n,r,i,a)}catch(e){if(vt(o),e!==e+0)throw e;ht(1,0)}},invoke_iiiiiji:function(e,t,n,r,i,a,o){var s=gt();try{return ut(e)(t,n,r,i,a,o)}catch(e){if(vt(s),e!==e+0)throw e;ht(1,0)}},invoke_iiiiijiiiii:function(e,t,n,r,i,a,o,s,u,c,l){var f=gt();try{return ut(e)(t,n,r,i,a,o,s,u,c,l)}catch(e){if(vt(f),e!==e+0)throw e;ht(1,0)}},invoke_iiiiijji:function(e,t,n,r,i,a,o,s){var u=gt();try{return ut(e)(t,n,r,i,a,o,s)}catch(e){if(vt(u),e!==e+0)throw e;ht(1,0)}},invoke_iiiij:function(e,t,n,r,i){var a=gt();try{return ut(e)(t,n,r,i)}catch(e){if(vt(a),e!==e+0)throw e;ht(1,0)}},invoke_iiiiji:function(e,t,n,r,i,a){var o=gt();try{return ut(e)(t,n,r,i,a)}catch(e){if(vt(o),e!==e+0)throw e;ht(1,0)}},invoke_iiiijjii:function(e,t,n,r,i,a,o,s){var u=gt();try{return ut(e)(t,n,r,i,a,o,s)}catch(e){if(vt(u),e!==e+0)throw e;ht(1,0)}},invoke_iiiijjj:function(e,t,n,r,i,a,o){var s=gt();try{return ut(e)(t,n,r,i,a,o)}catch(e){if(vt(s),e!==e+0)throw e;ht(1,0)}},invoke_iiij:function(e,t,n,r){var i=gt();try{return ut(e)(t,n,r)}catch(e){if(vt(i),e!==e+0)throw e;ht(1,0)}},invoke_iiiji:function(e,t,n,r,i){var a=gt();try{return ut(e)(t,n,r,i)}catch(e){if(vt(a),e!==e+0)throw e;ht(1,0)}},invoke_iiijii:function(e,t,n,r,i,a){var o=gt();try{return ut(e)(t,n,r,i,a)}catch(e){if(vt(o),e!==e+0)throw e;ht(1,0)}},invoke_iiijiii:function(e,t,n,r,i,a,o){var s=gt();try{return ut(e)(t,n,r,i,a,o)}catch(e){if(vt(s),e!==e+0)throw e;ht(1,0)}},invoke_iiijiiii:function(e,t,n,r,i,a,o,s){var u=gt();try{return ut(e)(t,n,r,i,a,o,s)}catch(e){if(vt(u),e!==e+0)throw e;ht(1,0)}},invoke_iiijiiiiii:function(e,t,n,r,i,a,o,s,u,c){var l=gt();try{return ut(e)(t,n,r,i,a,o,s,u,c)}catch(e){if(vt(l),e!==e+0)throw e;ht(1,0)}},invoke_iiijiiiiiiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f,p,d){var h=gt();try{return ut(e)(t,n,r,i,a,o,s,u,c,l,f,p,d)}catch(e){if(vt(h),e!==e+0)throw e;ht(1,0)}},invoke_iiijjj:function(e,t,n,r,i,a){var o=gt();try{return ut(e)(t,n,r,i,a)}catch(e){if(vt(o),e!==e+0)throw e;ht(1,0)}},invoke_iij:function(e,t,n){var r=gt();try{return ut(e)(t,n)}catch(e){if(vt(r),e!==e+0)throw e;ht(1,0)}},invoke_iiji:function(e,t,n,r){var i=gt();try{return ut(e)(t,n,r)}catch(e){if(vt(i),e!==e+0)throw e;ht(1,0)}},invoke_iijiiii:function(e,t,n,r,i,a,o){var s=gt();try{return ut(e)(t,n,r,i,a,o)}catch(e){if(vt(s),e!==e+0)throw e;ht(1,0)}},invoke_iijjji:function(e,t,n,r,i,a){var o=gt();try{return ut(e)(t,n,r,i,a)}catch(e){if(vt(o),e!==e+0)throw e;ht(1,0)}},invoke_iijjjii:function(e,t,n,r,i,a,o){var s=gt();try{return ut(e)(t,n,r,i,a,o)}catch(e){if(vt(s),e!==e+0)throw e;ht(1,0)}},invoke_ij:function(e,t){var n=gt();try{return ut(e)(t)}catch(e){if(vt(n),e!==e+0)throw e;ht(1,0)}},invoke_ijii:function(e,t,n,r){var i=gt();try{return ut(e)(t,n,r)}catch(e){if(vt(i),e!==e+0)throw e;ht(1,0)}},invoke_ijijji:function(e,t,n,r,i,a){var o=gt();try{return ut(e)(t,n,r,i,a)}catch(e){if(vt(o),e!==e+0)throw e;ht(1,0)}},invoke_j:function(e){var t=gt();try{return ut(e)()}catch(e){if(vt(t),e!==e+0)throw e;return ht(1,0),0n}},invoke_jfi:function(e,t,n){var r=gt();try{return ut(e)(t,n)}catch(e){if(vt(r),e!==e+0)throw e;return ht(1,0),0n}},invoke_ji:function(e,t){var n=gt();try{return ut(e)(t)}catch(e){if(vt(n),e!==e+0)throw e;return ht(1,0),0n}},invoke_jii:function(e,t,n){var r=gt();try{return ut(e)(t,n)}catch(e){if(vt(r),e!==e+0)throw e;return ht(1,0),0n}},invoke_jiii:function(e,t,n,r){var i=gt();try{return ut(e)(t,n,r)}catch(e){if(vt(i),e!==e+0)throw e;return ht(1,0),0n}},invoke_jiij:function(e,t,n,r){var i=gt();try{return ut(e)(t,n,r)}catch(e){if(vt(i),e!==e+0)throw e;return ht(1,0),0n}},invoke_jjj:function(e,t,n){var r=gt();try{return ut(e)(t,n)}catch(e){if(vt(r),e!==e+0)throw e;return ht(1,0),0n}},invoke_v:function(e){var t=gt();try{ut(e)()}catch(e){if(vt(t),e!==e+0)throw e;ht(1,0)}},invoke_vfiii:function(e,t,n,r,i){var a=gt();try{ut(e)(t,n,r,i)}catch(e){if(vt(a),e!==e+0)throw e;ht(1,0)}},invoke_vi:function(e,t){var n=gt();try{ut(e)(t)}catch(e){if(vt(n),e!==e+0)throw e;ht(1,0)}},invoke_vidi:function(e,t,n,r){var i=gt();try{ut(e)(t,n,r)}catch(e){if(vt(i),e!==e+0)throw e;ht(1,0)}},invoke_vif:function(e,t,n){var r=gt();try{ut(e)(t,n)}catch(e){if(vt(r),e!==e+0)throw e;ht(1,0)}},invoke_viffiii:function(e,t,n,r,i,a,o){var s=gt();try{ut(e)(t,n,r,i,a,o)}catch(e){if(vt(s),e!==e+0)throw e;ht(1,0)}},invoke_vii:function(e,t,n){var r=gt();try{ut(e)(t,n)}catch(e){if(vt(r),e!==e+0)throw e;ht(1,0)}},invoke_viid:function(e,t,n,r){var i=gt();try{ut(e)(t,n,r)}catch(e){if(vt(i),e!==e+0)throw e;ht(1,0)}},invoke_viif:function(e,t,n,r){var i=gt();try{ut(e)(t,n,r)}catch(e){if(vt(i),e!==e+0)throw e;ht(1,0)}},invoke_viiff:function(e,t,n,r,i){var a=gt();try{ut(e)(t,n,r,i)}catch(e){if(vt(a),e!==e+0)throw e;ht(1,0)}},invoke_viifi:function(e,t,n,r,i){var a=gt();try{ut(e)(t,n,r,i)}catch(e){if(vt(a),e!==e+0)throw e;ht(1,0)}},invoke_viifiifijjjii:function(e,t,n,r,i,a,o,s,u,c,l,f,p){var d=gt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p)}catch(e){if(vt(d),e!==e+0)throw e;ht(1,0)}},invoke_viii:function(e,t,n,r){var i=gt();try{ut(e)(t,n,r)}catch(e){if(vt(i),e!==e+0)throw e;ht(1,0)}},invoke_viiid:function(e,t,n,r,i){var a=gt();try{ut(e)(t,n,r,i)}catch(e){if(vt(a),e!==e+0)throw e;ht(1,0)}},invoke_viiif:function(e,t,n,r,i){var a=gt();try{ut(e)(t,n,r,i)}catch(e){if(vt(a),e!==e+0)throw e;ht(1,0)}},invoke_viiifii:function(e,t,n,r,i,a,o){var s=gt();try{ut(e)(t,n,r,i,a,o)}catch(e){if(vt(s),e!==e+0)throw e;ht(1,0)}},invoke_viiii:function(e,t,n,r,i){var a=gt();try{ut(e)(t,n,r,i)}catch(e){if(vt(a),e!==e+0)throw e;ht(1,0)}},invoke_viiiiff:function(e,t,n,r,i,a,o){var s=gt();try{ut(e)(t,n,r,i,a,o)}catch(e){if(vt(s),e!==e+0)throw e;ht(1,0)}},invoke_viiiii:function(e,t,n,r,i,a){var o=gt();try{ut(e)(t,n,r,i,a)}catch(e){if(vt(o),e!==e+0)throw e;ht(1,0)}},invoke_viiiiidiidi:function(e,t,n,r,i,a,o,s,u,c,l){var f=gt();try{ut(e)(t,n,r,i,a,o,s,u,c,l)}catch(e){if(vt(f),e!==e+0)throw e;ht(1,0)}},invoke_viiiiiff:function(e,t,n,r,i,a,o,s){var u=gt();try{ut(e)(t,n,r,i,a,o,s)}catch(e){if(vt(u),e!==e+0)throw e;ht(1,0)}},invoke_viiiiifiiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f,p){var d=gt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p)}catch(e){if(vt(d),e!==e+0)throw e;ht(1,0)}},invoke_viiiiii:function(e,t,n,r,i,a,o){var s=gt();try{ut(e)(t,n,r,i,a,o)}catch(e){if(vt(s),e!==e+0)throw e;ht(1,0)}},invoke_viiiiiiffifiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f,p,d,h,m){var g=gt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p,d,h,m)}catch(e){if(vt(g),e!==e+0)throw e;ht(1,0)}},invoke_viiiiiiffiifiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f,p,d,h,m,g){var v=gt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p,d,h,m,g)}catch(e){if(vt(v),e!==e+0)throw e;ht(1,0)}},invoke_viiiiiiffiiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f,p,d,h){var m=gt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p,d,h)}catch(e){if(vt(m),e!==e+0)throw e;ht(1,0)}},invoke_viiiiiii:function(e,t,n,r,i,a,o,s){var u=gt();try{ut(e)(t,n,r,i,a,o,s)}catch(e){if(vt(u),e!==e+0)throw e;ht(1,0)}},invoke_viiiiiiii:function(e,t,n,r,i,a,o,s,u){var c=gt();try{ut(e)(t,n,r,i,a,o,s,u)}catch(e){if(vt(c),e!==e+0)throw e;ht(1,0)}},invoke_viiiiiiiii:function(e,t,n,r,i,a,o,s,u,c){var l=gt();try{ut(e)(t,n,r,i,a,o,s,u,c)}catch(e){if(vt(l),e!==e+0)throw e;ht(1,0)}},invoke_viiiiiiiiidi:function(e,t,n,r,i,a,o,s,u,c,l,f){var p=gt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f)}catch(e){if(vt(p),e!==e+0)throw e;ht(1,0)}},invoke_viiiiiiiiifi:function(e,t,n,r,i,a,o,s,u,c,l,f){var p=gt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f)}catch(e){if(vt(p),e!==e+0)throw e;ht(1,0)}},invoke_viiiiiiiiifiii:function(e,t,n,r,i,a,o,s,u,c,l,f,p,d){var h=gt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p,d)}catch(e){if(vt(h),e!==e+0)throw e;ht(1,0)}},invoke_viiiiiiiiii:function(e,t,n,r,i,a,o,s,u,c,l){var f=gt();try{ut(e)(t,n,r,i,a,o,s,u,c,l)}catch(e){if(vt(f),e!==e+0)throw e;ht(1,0)}},invoke_viiiiiiiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f){var p=gt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f)}catch(e){if(vt(p),e!==e+0)throw e;ht(1,0)}},invoke_viiiiiiiiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f,p){var d=gt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p)}catch(e){if(vt(d),e!==e+0)throw e;ht(1,0)}},invoke_viiiiiiiiiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f,p,d){var h=gt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p,d)}catch(e){if(vt(h),e!==e+0)throw e;ht(1,0)}},invoke_viiiiiiiiiiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f,p,d,h){var m=gt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p,d,h)}catch(e){if(vt(m),e!==e+0)throw e;ht(1,0)}},invoke_viiiiiiiiiiiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f,p,d,h,m){var g=gt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p,d,h,m)}catch(e){if(vt(g),e!==e+0)throw e;ht(1,0)}},invoke_viiiiiiiiiiiiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f,p,d,h,m,g){var v=gt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p,d,h,m,g)}catch(e){if(vt(v),e!==e+0)throw e;ht(1,0)}},invoke_viiiiiiiiiiiiiiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f,p,d,h,m,g,v,y){var w=gt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p,d,h,m,g,v,y)}catch(e){if(vt(w),e!==e+0)throw e;ht(1,0)}},invoke_viiiiiiiiiiiiiiiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f,p,d,h,m,g,v,y,w){var _=gt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p,d,h,m,g,v,y,w)}catch(e){if(vt(_),e!==e+0)throw e;ht(1,0)}},invoke_viiiiiiiiiiiiiiiiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f,p,d,h,m,g,v,y,w,_){var b=gt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p,d,h,m,g,v,y,w,_)}catch(e){if(vt(b),e!==e+0)throw e;ht(1,0)}},invoke_viiiiiiiijj:function(e,t,n,r,i,a,o,s,u,c,l){var f=gt();try{ut(e)(t,n,r,i,a,o,s,u,c,l)}catch(e){if(vt(f),e!==e+0)throw e;ht(1,0)}},invoke_viiiiiiijiiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f,p,d,h){var m=gt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p,d,h)}catch(e){if(vt(m),e!==e+0)throw e;ht(1,0)}},invoke_viiiiiiijjj:function(e,t,n,r,i,a,o,s,u,c,l){var f=gt();try{ut(e)(t,n,r,i,a,o,s,u,c,l)}catch(e){if(vt(f),e!==e+0)throw e;ht(1,0)}},invoke_viiiiiijij:function(e,t,n,r,i,a,o,s,u,c){var l=gt();try{ut(e)(t,n,r,i,a,o,s,u,c)}catch(e){if(vt(l),e!==e+0)throw e;ht(1,0)}},invoke_viiiiiijjiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f,p,d){var h=gt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p,d)}catch(e){if(vt(h),e!==e+0)throw e;ht(1,0)}},invoke_viiiiij:function(e,t,n,r,i,a,o){var s=gt();try{ut(e)(t,n,r,i,a,o)}catch(e){if(vt(s),e!==e+0)throw e;ht(1,0)}},invoke_viiiiijiiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f,p){var d=gt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p)}catch(e){if(vt(d),e!==e+0)throw e;ht(1,0)}},invoke_viiiiijiiiiiiiiiiiiiiiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f,p,d,h,m,g,v,y,w,_,b,k,$,S,O){var A=gt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p,d,h,m,g,v,y,w,_,b,k,$,S,O)}catch(e){if(vt(A),e!==e+0)throw e;ht(1,0)}},invoke_viiiiijij:function(e,t,n,r,i,a,o,s,u){var c=gt();try{ut(e)(t,n,r,i,a,o,s,u)}catch(e){if(vt(c),e!==e+0)throw e;ht(1,0)}},invoke_viiiiijjiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f,p){var d=gt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p)}catch(e){if(vt(d),e!==e+0)throw e;ht(1,0)}},invoke_viiiiijjji:function(e,t,n,r,i,a,o,s,u,c){var l=gt();try{ut(e)(t,n,r,i,a,o,s,u,c)}catch(e){if(vt(l),e!==e+0)throw e;ht(1,0)}},invoke_viiiij:function(e,t,n,r,i,a){var o=gt();try{ut(e)(t,n,r,i,a)}catch(e){if(vt(o),e!==e+0)throw e;ht(1,0)}},invoke_viiiiji:function(e,t,n,r,i,a,o){var s=gt();try{ut(e)(t,n,r,i,a,o)}catch(e){if(vt(s),e!==e+0)throw e;ht(1,0)}},invoke_viiiijii:function(e,t,n,r,i,a,o,s){var u=gt();try{ut(e)(t,n,r,i,a,o,s)}catch(e){if(vt(u),e!==e+0)throw e;ht(1,0)}},invoke_viiiijjj:function(e,t,n,r,i,a,o,s){var u=gt();try{ut(e)(t,n,r,i,a,o,s)}catch(e){if(vt(u),e!==e+0)throw e;ht(1,0)}},invoke_viiij:function(e,t,n,r,i){var a=gt();try{ut(e)(t,n,r,i)}catch(e){if(vt(a),e!==e+0)throw e;ht(1,0)}},invoke_viiiji:function(e,t,n,r,i,a){var o=gt();try{ut(e)(t,n,r,i,a)}catch(e){if(vt(o),e!==e+0)throw e;ht(1,0)}},invoke_viiijii:function(e,t,n,r,i,a,o){var s=gt();try{ut(e)(t,n,r,i,a,o)}catch(e){if(vt(s),e!==e+0)throw e;ht(1,0)}},invoke_viiijiiii:function(e,t,n,r,i,a,o,s,u){var c=gt();try{ut(e)(t,n,r,i,a,o,s,u)}catch(e){if(vt(c),e!==e+0)throw e;ht(1,0)}},invoke_viiijiiiiii:function(e,t,n,r,i,a,o,s,u,c,l){var f=gt();try{ut(e)(t,n,r,i,a,o,s,u,c,l)}catch(e){if(vt(f),e!==e+0)throw e;ht(1,0)}},invoke_viiijiiiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f){var p=gt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f)}catch(e){if(vt(p),e!==e+0)throw e;ht(1,0)}},invoke_viiijiiiiiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f,p,d){var h=gt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p,d)}catch(e){if(vt(h),e!==e+0)throw e;ht(1,0)}},invoke_viiijjiii:function(e,t,n,r,i,a,o,s,u){var c=gt();try{ut(e)(t,n,r,i,a,o,s,u)}catch(e){if(vt(c),e!==e+0)throw e;ht(1,0)}},invoke_viiijjjfii:function(e,t,n,r,i,a,o,s,u,c){var l=gt();try{ut(e)(t,n,r,i,a,o,s,u,c)}catch(e){if(vt(l),e!==e+0)throw e;ht(1,0)}},invoke_viiijjjii:function(e,t,n,r,i,a,o,s,u){var c=gt();try{ut(e)(t,n,r,i,a,o,s,u)}catch(e){if(vt(c),e!==e+0)throw e;ht(1,0)}},invoke_viij:function(e,t,n,r){var i=gt();try{ut(e)(t,n,r)}catch(e){if(vt(i),e!==e+0)throw e;ht(1,0)}},invoke_viiji:function(e,t,n,r,i){var a=gt();try{ut(e)(t,n,r,i)}catch(e){if(vt(a),e!==e+0)throw e;ht(1,0)}},invoke_viijiii:function(e,t,n,r,i,a,o){var s=gt();try{ut(e)(t,n,r,i,a,o)}catch(e){if(vt(s),e!==e+0)throw e;ht(1,0)}},invoke_viijiiiiiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f,p){var d=gt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p)}catch(e){if(vt(d),e!==e+0)throw e;ht(1,0)}},invoke_viijj:function(e,t,n,r,i){var a=gt();try{ut(e)(t,n,r,i)}catch(e){if(vt(a),e!==e+0)throw e;ht(1,0)}},invoke_viijji:function(e,t,n,r,i,a){var o=gt();try{ut(e)(t,n,r,i,a)}catch(e){if(vt(o),e!==e+0)throw e;ht(1,0)}},invoke_viijjiii:function(e,t,n,r,i,a,o,s){var u=gt();try{ut(e)(t,n,r,i,a,o,s)}catch(e){if(vt(u),e!==e+0)throw e;ht(1,0)}},invoke_viijjiiiii:function(e,t,n,r,i,a,o,s,u,c){var l=gt();try{ut(e)(t,n,r,i,a,o,s,u,c)}catch(e){if(vt(l),e!==e+0)throw e;ht(1,0)}},invoke_viijjjfiifiii:function(e,t,n,r,i,a,o,s,u,c,l,f,p){var d=gt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p)}catch(e){if(vt(d),e!==e+0)throw e;ht(1,0)}},invoke_viijjjiiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f){var p=gt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f)}catch(e){if(vt(p),e!==e+0)throw e;ht(1,0)}},invoke_vij:function(e,t,n){var r=gt();try{ut(e)(t,n)}catch(e){if(vt(r),e!==e+0)throw e;ht(1,0)}},invoke_viji:function(e,t,n,r){var i=gt();try{ut(e)(t,n,r)}catch(e){if(vt(i),e!==e+0)throw e;ht(1,0)}},invoke_vijiii:function(e,t,n,r,i,a){var o=gt();try{ut(e)(t,n,r,i,a)}catch(e){if(vt(o),e!==e+0)throw e;ht(1,0)}},invoke_vijiiiiiiii:function(e,t,n,r,i,a,o,s,u,c,l){var f=gt();try{ut(e)(t,n,r,i,a,o,s,u,c,l)}catch(e){if(vt(f),e!==e+0)throw e;ht(1,0)}},invoke_vijiiiiiiijjii:function(e,t,n,r,i,a,o,s,u,c,l,f,p,d){var h=gt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p,d)}catch(e){if(vt(h),e!==e+0)throw e;ht(1,0)}},invoke_vijj:function(e,t,n,r){var i=gt();try{ut(e)(t,n,r)}catch(e){if(vt(i),e!==e+0)throw e;ht(1,0)}},invoke_vijjfffiii:function(e,t,n,r,i,a,o,s,u,c){var l=gt();try{ut(e)(t,n,r,i,a,o,s,u,c)}catch(e){if(vt(l),e!==e+0)throw e;ht(1,0)}},invoke_vijjii:function(e,t,n,r,i,a){var o=gt();try{ut(e)(t,n,r,i,a)}catch(e){if(vt(o),e!==e+0)throw e;ht(1,0)}},invoke_vijjiiiiii:function(e,t,n,r,i,a,o,s,u,c){var l=gt();try{ut(e)(t,n,r,i,a,o,s,u,c)}catch(e){if(vt(l),e!==e+0)throw e;ht(1,0)}},invoke_vijjjiiji:function(e,t,n,r,i,a,o,s,u){var c=gt();try{ut(e)(t,n,r,i,a,o,s,u)}catch(e){if(vt(c),e!==e+0)throw e;ht(1,0)}},invoke_vijjjjiij:function(e,t,n,r,i,a,o,s,u){var c=gt();try{ut(e)(t,n,r,i,a,o,s,u)}catch(e){if(vt(c),e!==e+0)throw e;ht(1,0)}},invoke_vijjjjijjiii:function(e,t,n,r,i,a,o,s,u,c,l,f){var p=gt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f)}catch(e){if(vt(p),e!==e+0)throw e;ht(1,0)}},invoke_vijjjjjjifiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f,p,d,h){var m=gt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p,d,h)}catch(e){if(vt(m),e!==e+0)throw e;ht(1,0)}},invoke_vijjjjjjjjjjjjji:function(e,t,n,r,i,a,o,s,u,c,l,f,p,d,h,m){var g=gt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p,d,h,m)}catch(e){if(vt(g),e!==e+0)throw e;ht(1,0)}},invoke_vj:function(e,t){var n=gt();try{ut(e)(t)}catch(e){if(vt(n),e!==e+0)throw e;ht(1,0)}},invoke_vjiii:function(e,t,n,r,i){var a=gt();try{ut(e)(t,n,r,i)}catch(e){if(vt(a),e!==e+0)throw e;ht(1,0)}},invoke_vjjfiii:function(e,t,n,r,i,a,o){var s=gt();try{ut(e)(t,n,r,i,a,o)}catch(e){if(vt(s),e!==e+0)throw e;ht(1,0)}},invoke_vjjjjfiii:function(e,t,n,r,i,a,o,s,u){var c=gt();try{ut(e)(t,n,r,i,a,o,s,u)}catch(e){if(vt(c),e!==e+0)throw e;ht(1,0)}},invoke_vjjjjjiiii:function(e,t,n,r,i,a,o,s,u,c){var l=gt();try{ut(e)(t,n,r,i,a,o,s,u,c)}catch(e){if(vt(l),e!==e+0)throw e;ht(1,0)}},invoke_vjjjjjjfffifiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f,p,d,h,m,g){var v=gt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p,d,h,m,g)}catch(e){if(vt(v),e!==e+0)throw e;ht(1,0)}},invoke_vjjjjjjfffifiiiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f,p,d,h,m,g,v,y){var w=gt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p,d,h,m,g,v,y)}catch(e){if(vt(w),e!==e+0)throw e;ht(1,0)}},invoke_vjjjjjjffiifiiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f,p,d,h,m,g,v){var y=gt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p,d,h,m,g,v)}catch(e){if(vt(y),e!==e+0)throw e;ht(1,0)}},invoke_vjjjjjjjjfffiifiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f,p,d,h,m,g,v,y,w){var _=gt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p,d,h,m,g,v,y,w)}catch(e){if(vt(_),e!==e+0)throw e;ht(1,0)}},invoke_vjjjjjjjjfffiifiiiiii:function(e,t,n,r,i,a,o,s,u,c,l,f,p,d,h,m,g,v,y,w,_){var b=gt();try{ut(e)(t,n,r,i,a,o,s,u,c,l,f,p,d,h,m,g,v,y,w,_)}catch(e){if(vt(b),e!==e+0)throw e;ht(1,0)}},llvm_eh_typeid_for:function(e){return e},strftime:ot,strftime_l:function(e,t,n,r,i){return ot(e,t,n,r)}},ft=(function(){var e,t,n,a,o={env:lt,wasi_snapshot_preview1:lt};function s(e,t){var n,r=e.exports;return i.asm=r,v=i.asm.memory,M(),j=i.asm.__indirect_function_table,n=i.asm.__wasm_call_ctors,I.unshift(n),function(e){if(D--,i.monitorRunDependencies&&i.monitorRunDependencies(D),0==D&&(null!==U&&(clearInterval(U),U=null),B)){var t=B;B=null,t()}}(),r}if(D++,i.monitorRunDependencies&&i.monitorRunDependencies(D),i.instantiateWasm)try{return i.instantiateWasm(o,s)}catch(e){w("Module.instantiateWasm callback failed with error: "+e),r(e)}(e=g,t=W,n=o,a=function(e){s(e.instance)},e||"function"!=typeof WebAssembly.instantiateStreaming||L(t)||H(t)||p||"function"!=typeof fetch?K(t,n,a):fetch(t,{credentials:"same-origin"}).then((e=>WebAssembly.instantiateStreaming(e,n).then(a,(function(e){return w("wasm streaming compile failed: "+e),w("falling back to ArrayBuffer instantiation"),K(t,n,a)}))))).catch(r)}(),i._OrtInit=function(){return(i._OrtInit=i.asm.OrtInit).apply(null,arguments)},i._OrtCreateSessionOptions=function(){return(i._OrtCreateSessionOptions=i.asm.OrtCreateSessionOptions).apply(null,arguments)},i._OrtAppendExecutionProvider=function(){return(i._OrtAppendExecutionProvider=i.asm.OrtAppendExecutionProvider).apply(null,arguments)},i._OrtAddSessionConfigEntry=function(){return(i._OrtAddSessionConfigEntry=i.asm.OrtAddSessionConfigEntry).apply(null,arguments)},i._OrtReleaseSessionOptions=function(){return(i._OrtReleaseSessionOptions=i.asm.OrtReleaseSessionOptions).apply(null,arguments)},i._OrtCreateSession=function(){return(i._OrtCreateSession=i.asm.OrtCreateSession).apply(null,arguments)},i._OrtReleaseSession=function(){return(i._OrtReleaseSession=i.asm.OrtReleaseSession).apply(null,arguments)},i._OrtGetInputCount=function(){return(i._OrtGetInputCount=i.asm.OrtGetInputCount).apply(null,arguments)},i._OrtGetOutputCount=function(){return(i._OrtGetOutputCount=i.asm.OrtGetOutputCount).apply(null,arguments)},i._OrtGetInputName=function(){return(i._OrtGetInputName=i.asm.OrtGetInputName).apply(null,arguments)},i._OrtGetOutputName=function(){return(i._OrtGetOutputName=i.asm.OrtGetOutputName).apply(null,arguments)},i._OrtFree=function(){return(i._OrtFree=i.asm.OrtFree).apply(null,arguments)},i._OrtCreateTensor=function(){return(i._OrtCreateTensor=i.asm.OrtCreateTensor).apply(null,arguments)},i._OrtGetTensorData=function(){return(i._OrtGetTensorData=i.asm.OrtGetTensorData).apply(null,arguments)},i._OrtReleaseTensor=function(){return(i._OrtReleaseTensor=i.asm.OrtReleaseTensor).apply(null,arguments)},i._OrtCreateRunOptions=function(){return(i._OrtCreateRunOptions=i.asm.OrtCreateRunOptions).apply(null,arguments)},i._OrtAddRunConfigEntry=function(){return(i._OrtAddRunConfigEntry=i.asm.OrtAddRunConfigEntry).apply(null,arguments)},i._OrtReleaseRunOptions=function(){return(i._OrtReleaseRunOptions=i.asm.OrtReleaseRunOptions).apply(null,arguments)},i._OrtRun=function(){return(i._OrtRun=i.asm.OrtRun).apply(null,arguments)},i._OrtEndProfiling=function(){return(i._OrtEndProfiling=i.asm.OrtEndProfiling).apply(null,arguments)},i._malloc=function(){return(ft=i._malloc=i.asm.malloc).apply(null,arguments)}),pt=i._free=function(){return(pt=i._free=i.asm.free).apply(null,arguments)},dt=function(){return(dt=i.asm.__getTypeName).apply(null,arguments)},ht=(i.__embind_initialize_bindings=function(){return(i.__embind_initialize_bindings=i.asm._embind_initialize_bindings).apply(null,arguments)},function(){return(ht=i.asm.setThrew).apply(null,arguments)}),mt=function(){return(mt=i.asm.setTempRet0).apply(null,arguments)},gt=function(){return(gt=i.asm.stackSave).apply(null,arguments)},vt=function(){return(vt=i.asm.stackRestore).apply(null,arguments)},yt=function(){return(yt=i.asm.stackAlloc).apply(null,arguments)},wt=function(){return(wt=i.asm.__cxa_decrement_exception_refcount).apply(null,arguments)},_t=function(){return(_t=i.asm.__cxa_increment_exception_refcount).apply(null,arguments)},bt=function(){return(bt=i.asm.__cxa_can_catch).apply(null,arguments)},kt=function(){return(kt=i.asm.__cxa_is_pointer_type).apply(null,arguments)};function $t(){function e(){ct||(ct=!0,i.calledRun=!0,E||(V(I),t(i),i.onRuntimeInitialized&&i.onRuntimeInitialized(),function(){if(i.postRun)for("function"==typeof i.postRun&&(i.postRun=[i.postRun]);i.postRun.length;)e=i.postRun.shift(),R.unshift(e);var e;V(R)}()))}D>0||(function(){if(i.preRun)for("function"==typeof i.preRun&&(i.preRun=[i.preRun]);i.preRun.length;)e=i.preRun.shift(),x.unshift(e);var e;V(x)}(),D>0||(i.setStatus?(i.setStatus("Running..."),setTimeout((function(){setTimeout((function(){i.setStatus("")}),1),e()}),1)):e()))}if(i.stackAlloc=yt,i.stackSave=gt,i.stackRestore=vt,i.UTF8ToString=oe,i.stringToUTF8=le,i.lengthBytesUTF8=ue,B=function e(){ct||$t(),ct||(B=e)},i.preInit)for("function"==typeof i.preInit&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();return $t(),e.ready});e.exports=r},4154:e=>{"use strict";e.exports='"use strict";var e={},a="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(a){var r=require("worker_threads"),t=r.parentPort;t.on("message",(e=>onmessage({data:e})));var s=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:function(e){(0,eval)(s.readFileSync(e,"utf8")+"//# sourceURL="+e)},postMessage:function(e){t.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var o=!1,n=function(){var e=Array.prototype.slice.call(arguments).join(" ");a?s.writeSync(2,e+"\\n"):console.error(e)};self.alert=function(){var a=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:a,threadId:e._pthread_self()})},e.instantiateWasm=(a,r)=>{var t=e.wasmModule;return e.wasmModule=null,r(new WebAssembly.Instance(t,a))},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=function a(r){try{if("load"===r.data.cmd){let s=[];self.onmessage=e=>s.push(e),self.startWorker=r=>{e=r,postMessage({cmd:"loaded"});for(let e of s)a(e);self.onmessage=a},e.wasmModule=r.data.wasmModule;for(const a of r.data.handlers)e[a]=function(){postMessage({cmd:"callHandler",handler:a,args:[...arguments]})};if(e.wasmMemory=r.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof r.data.urlOrBlob)importScripts(r.data.urlOrBlob);else{var t=URL.createObjectURL(r.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(e)}else if("run"===r.data.cmd){e.__emscripten_thread_init(r.data.pthread_ptr,0,0,1),e.__emscripten_thread_mailbox_await(r.data.pthread_ptr),e.establishStackSpace(),e.PThread.receiveObjectTransfer(r.data),e.PThread.threadInitTLS(),o||(o=!0);try{e.invokeEntryPoint(r.data.start_routine,r.data.arg)}catch(e){if("unwind"!=e)throw e}}else"cancel"===r.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===r.data.target||("checkMailbox"===r.data.cmd?o&&e.checkMailbox():r.data.cmd&&(n("worker.js received unknown command "+r.data.cmd),n(r.data)))}catch(a){throw e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),a}};\n'},760:()=>{},1384:()=>{},3993:()=>{},908:()=>{},6953:()=>{},9925:()=>{},2806:()=>{},6449:()=>{},2850:()=>{},5381:()=>{}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}return n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(1057)})()));
//# sourceMappingURL=ort.wasm.min.js.map